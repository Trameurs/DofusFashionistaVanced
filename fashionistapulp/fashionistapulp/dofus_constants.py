# Copyright (C) 2020 The Dofus Fashionista
# 
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
# 
# You should have received a copy of the GNU Lesser General Public License
# along with this program; if not, write to the Free Software Foundation,
# Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

from copy import copy


CHARACTER_CLASSES = sorted(['Eniripsa', 'Iop', 'Xelor', 'Osamodas', 'Feca',
                     'Sacrier', 'Ecaflip', 'Enutrof', 'Sram', 'Sadida',
                     'Cra', 'Pandawa', 'Rogue', 'Masqueraider', 'Foggernaut',
                     'Eliotrope', 'Huppermage', 'Ouginak', 'Forgelance'])

TYPE_NAME_TO_SLOT = {
    'Weapon': 'weapon',
    'Shield': 'shield',
    'Hat': 'hat',
    'Cloak': 'cloak',
    'Amulet': 'amulet',
    'Ring': 'ring',
    'Belt': 'belt',
    'Boots': 'boots',
    'Dofus': 'dofus',
    'Pet': 'pet',
}

SLOT_NAME_TO_TYPE = {
    'weapon': 'Weapon',
    'shield': 'Shield',
    'hat': 'Hat',
    'cloak': 'Cloak',
    'amulet': 'Amulet',
    'ring1': 'Ring',
    'ring2': 'Ring',
    'belt': 'Belt',
    'boots': 'Boots',
    'dofus1': 'Dofus',
    'dofus2': 'Dofus',
    'dofus3': 'Dofus',
    'dofus4': 'Dofus',
    'dofus5': 'Dofus',
    'dofus6': 'Dofus',
    'pet': 'Pet',
}

TYPE_NAME_TO_SLOT_NUMBER = {
    'Weapon': 1,
    'Shield': 1,
    'Hat': 1,
    'Cloak': 1,
    'Amulet': 1,
    'Ring': 2,
    'Belt': 1,
    'Boots': 1,
    'Dofus': 6,
    'Pet': 1,
}

TYPE_NAMES = list(TYPE_NAME_TO_SLOT.keys())

SLOTS = []
for type_name in TYPE_NAMES:
    slot_number = TYPE_NAME_TO_SLOT_NUMBER[type_name]
    slot_name = TYPE_NAME_TO_SLOT[type_name]
    if slot_number > 1:
        for i in range(1, slot_number + 1):
            SLOTS.append("%s%d" % (slot_name, i))
    else:
        SLOTS.append(slot_name)
        
STAT_NAME_TO_KEY = {
    'Power': 'pow',
    'Damage': 'dam',
    'Heals': 'heals',
    'AP': 'ap',
    'MP': 'mp',
    'Critical Hits': 'ch',
    'Agility': 'agi',
    'Strength': 'str',
    'Neutral Damage': 'neutdam',
    'Earth Damage': 'earthdam',
    'Intelligence': 'int',
    'Fire Damage': 'firedam',
    'Air Damage': 'airdam',
    'Chance': 'cha',
    'Water Damage': 'waterdam',
    'Vitality': 'vit',
    'Initiative': 'init',
    'Summon': 'summon',
    'Range': 'range',
    'Wisdom': 'wis',
    'Neutral Resist': 'neutres',
    'Water Resist': 'waterres',
    'Air Resist': 'airres',
    'Fire Resist': 'fireres',
    'Earth Resist': 'earthres',
    '% Neutral Resist': 'neutresper',
    '% Air Resist': 'airresper',
    '% Fire Resist': 'fireresper',
    '% Water Resist': 'waterresper',
    '% Earth Resist': 'earthresper',
    'Neutral Resist in PVP': 'pvpneutres',
    'Water Resist in PVP': 'pvpwaterres',
    'Air Resist in PVP': 'pvpairres',
    'Fire Resist in PVP': 'pvpfireres',
    'Earth Resist in PVP': 'pvpearthres',
    '% Neutral Resist in PVP': 'pvpneutresper',
    '% Air Resist in PVP': 'pvpairresper',
    '% Fire Resist in PVP': 'pvpfireresper',
    '% Water Resist in PVP': 'pvpwaterresper',
    '% Earth Resist in PVP': 'pvpearthresper',
    'Prospecting': 'pp',
    'Pods': 'pod',
    'AP Reduction': 'apred',
    'MP Reduction': 'mpred',
    'Lock': 'lock',
    'Dodge': 'dodge',
    'Reflects': 'ref',
    'Pushback Damage': 'pshdam',
    'Trap Damage': 'trapdam',
    '% Trap Damage': 'trapdamper',
    'Critical Resist': 'crires',
    'Pushback Resist': 'pshres',
    'MP Loss Resist': 'mpres',
    'AP Loss Resist': 'apres',
    'Critical Damage': 'cridam',
    'Critical Failure': 'cf',
    '% Melee Damage': 'permedam',
    '% Ranged Damage': 'perrandam',
    '% Weapon Damage': 'perweadam',
    '% Spell Damage': 'perspedam',
    '% Melee Resist': 'respermee',
    '% Ranged Resist': 'resperran',
    'HP': 'hp',
    '% Weapon Resist': 'resperwea'
}

STAT_ORDER = {
    'hp': 0,
    'vit': 1,
    'str': 2,
    'int': 3,
    'cha': 4,
    'agi': 5,
    'wis': 6,
    'pow': 7,
    
    'ch': 11,
    'ap': 12,
    'mp': 13,
    'range': 14,
    'summon': 15,
    'init': 16,
    'pod': 17,
    'pp': 18,
    
    'dam': 21,
    'neutdam': 22,
    'earthdam': 23,
    'firedam': 24,
    'waterdam': 25,
    'airdam': 26,
    
    'heals': 31,
    
    'neutres': 71,
    'earthres': 72,
    'fireres': 73,
    'waterres': 74,
    'airres': 75,
    'crires': 76,
    'pshres': 77,
    'neutresper': 81,
    'earthresper': 82,
    'fireresper': 83,
    'waterresper': 84,
    'airresper': 85,
    
    'pvpneutres': 133,
    'pvpearthres': 134,
    'pvpfireres': 135,
    'pvpwaterres': 136,
    'pvpairres': 137,
    'pvpneutresper': 138,
    'pvpearthresper': 139,
    'pvpfireresper': 140,
    'pvpwaterresper': 141,
    'pvpairresper': 142,
    
    'lock': 91,
    'dodge': 92,
    'apred': 93,
    'mpred': 94,
    'apres': 95,
    'mpres': 96,
    
    'pshdam': 101,
    'cridam': 102,   
    'trapdam': 103,
    'trapdamper': 104, 
    'cf': 111,
    'ref': 112,
    
    'pvpcrires': 120,
    'pvppshres': 121,
    
    'permedam': 127,
    'perrandam': 128,
    'perweadam': 129,
    'perspedam': 130,
    'respermee': 131,
    'resperran': 132,
    'resperwea': 133,
}

STAT_MAXIMUM = {
    'AP': 12,
    'MP': 6,
    'Range': 6,
    '% Neutral Resist': 53,
    '% Air Resist': 53,
    '% Fire Resist': 53,
    '% Water Resist': 53,
    '% Earth Resist': 53,
}

STAT_KEY_TO_NAME = {v: k for k, v in STAT_NAME_TO_KEY.items()}

# Stats still in projects (weights, minimums) but not used anymore.
# Adding them here prevents crashes with legacy projects that still have them.
# If a migration is done to remove them from all projects, they can be cleaned
# up from DEPRECATED_STATS.
DEPRECATED_STATS = {
#     'Neutral Resist in PVP': 'pvpneutres',
#     'Water Resist in PVP': 'pvpwaterres',
#     'Air Resist in PVP': 'pvpairres',
#     'Fire Resist in PVP': 'pvpfireres',
#     'Earth Resist in PVP': 'pvpearthres',
#     '% Neutral Resist in PVP': 'pvpneutresper',
#     '% Air Resist in PVP': 'pvpairresper',
#     '% Fire Resist in PVP': 'pvpfireresper',
#     '% Water Resist in PVP': 'pvpwaterresper',
#     '% Earth Resist in PVP': 'pvpearthresper',
#    'pvpneutres',
#    'pvpearthres',
#    'pvpfireres',
#    'pvpwaterres',
#    'pvpairres',
#    'pvpneutresper',
#    'pvpearthresper',
#    'pvpfireresper',
#    'pvpwaterresper',
#    'pvpairresper',
}

AGI_TARGETS = [
    (0, 2),
    (8, 3),
    (42, 4),
    (134, 5),
    (384, 6),
    (1060, 7),
]

MIN_AGI_FOR_BONUS = dict((e[1], e[0]) for e in AGI_TARGETS)

CRIT_TARGETS = [50, 45, 40, 35, 30, 25, 20, 15, 10, 5]

BASE_STATS = ['vit', 'wis', 'str', 'int', 'cha', 'agi']
MAIN_STATS = ['str', 'int', 'cha', 'agi']

STATS_NAMES = [(STAT_KEY_TO_NAME[stat_key], stat_key) for stat_key in BASE_STATS]

AIR = 'air'
FIRE = 'fire'
WATER = 'water'
NEUTRAL = 'neut'
EARTH = 'earth'
DAMAGE_TYPE_TO_MAIN_STAT = {
    NEUTRAL: 'str',
    EARTH: 'str',
    FIRE: 'int',
    WATER: 'cha',
    AIR: 'agi'
}
DAMAGE_TYPES = [NEUTRAL, EARTH, FIRE, WATER, AIR]
ELEMENT_KEY_TO_NAME = {
    'neut': 'Neutral',
    'earth': 'Earth',
    'fire': 'Fire',
    'water': 'Water',
    'air': 'Air'
}
ELEMENT_NAME_TO_KEY = {v: k for k, v in ELEMENT_KEY_TO_NAME.items()}

WEIRD_CONDITION_FROM_ID = {1: 'light_set', 2: 'prysmaradite'}
WEIRD_CONDITION_TO_ID = {v: k for k, v in WEIRD_CONDITION_FROM_ID.items()}
WEIRD_CONDITIONS = list(WEIRD_CONDITION_TO_ID.keys()) 

class Spell:
    def __init__(self, name, level_req, effects, aggregates=[], 
                 is_linked=None, stacks=1, special=None, buff_scaling=None):
        self.name = name
        self.level_req = level_req
        self.effects = effects
        self.aggregates = aggregates
        self.stacks = stacks
        self.digest = None
        self.is_linked = is_linked
        self.special = special
        self.buff_scaling = buff_scaling

    def get_effects_digest(self):
        if self.digest is None:
            self.digest = self.build_effects_digest()
        return self.digest
        
    def build_effects_digest(self):
        levels = len(self.level_req)
        e = self.effects
        non_crit = [[] for _ in range(levels)]
        for dam_entry in range(len(e.elements)):
            non_crit_range = (e.non_crit_ranges[dam_entry]
                              if (e.non_crit_ranges is not None
                                  and len(e.non_crit_ranges) > dam_entry)
                              else None)
            if non_crit_range:
                element = e.elements[dam_entry]
                steals = (e.steals[dam_entry] if e.steals is not None else False)
                heals = (e.heals[dam_entry] if e.heals is not None else False)
                for level in range(levels):
                    non_crit[level].append(DamageDigest(non_crit_range[level].min_dam,
                                                        non_crit_range[level].max_dam,
                                                        element,
                                                        steals,
                                                        heals))
        crit = [[] for _ in range(levels)]
        for dam_entry in range(len(e.crit_elements)):
            crit_range = (e.crit_ranges[dam_entry]
                          if (e.crit_ranges is not None
                              and len(e.crit_ranges) > dam_entry)
                          else None)
            if crit_range:
                element = e.crit_elements[dam_entry]
                steals = (e.steals[dam_entry] if e.steals is not None else False)
                heals = (e.heals[dam_entry] if e.heals is not None else False)
                for level in range(levels):
                    crit[level].append(DamageDigest(crit_range[level].min_dam,
                                                  crit_range[level].max_dam,
                                                  element,
                                                  steals,
                                                  heals))
        
        return EffectsDigest(non_crit, crit, self.aggregates)

class Effects:
    def __init__(self, non_crit_ranges, crit_ranges, elements, crit_elements=None, 
                 steals=None, heals=None):
        self.non_crit_ranges = [[Range(r) for r in l] for l in non_crit_ranges]
        self.crit_ranges = ([[Range(r) for r in l] for l in crit_ranges]
                            if crit_ranges is not None
                            else None)
        self.elements = elements
        self.crit_elements = crit_elements if crit_elements else elements
        self.steals = steals
        self.heals = heals

class Range:
    def __init__(self, min_max_dam):
        min_max_dam_string = min_max_dam.split('-')
        if len(min_max_dam_string) == 1:
            self.min_dam = self.max_dam = int(min_max_dam_string[0])
        else:
            self.min_dam = int(min_max_dam_string[0])
            self.max_dam = int(min_max_dam_string[1])

class EffectsDigest:
    def __init__(self, non_crit_dams, crit_dams, aggregates=[]):
        self.hit_number = len(non_crit_dams[0])
        self.non_crit_dams = non_crit_dams
        self.crit_dams = crit_dams
        self.aggregates = aggregates

class BaseDamage:
    def __init__(self, min_dam, max_dam, element, steals=False, heals=False):
        self.min_dam = min_dam
        self.max_dam = max_dam
        self.element = element
        self.steals = steals
        self.heals = heals

    def __repr__(self):
        return '%d-%d (%s)' % (self.min_dam,
                               self.max_dam,
                               self.element)    
        #return '%s%d-%d (%s)' % (('%s ' % self.hit_name) if self.hit_name else '',
        #                           self.min_dam,
        #                           self.max_dam,
        #                           self.element)  
                                            
    def average(self):
        return (self.min_dam + self.max_dam) / 2.0
        
    def copy_with_element(self, element):
        new_instance = copy(self)
        new_instance.element = element
        return new_instance

class DamageDigest(BaseDamage):
    pass

def create_duster_values(base, base_per_tofu, max_tofus):
    spell = []
    for i in range(max_tofus + 1):
        inner_spell = []
        for values in base:
            dam = '%d-%d' % (values[0] + base_per_tofu * i, 
                             values[1] + base_per_tofu * i)
            inner_spell.append(dam)
        spell.append(inner_spell)
    return spell

def create_stacking_values(base, bonus, times):
    spell = []
    for i in range(times):
        inner_spell = []
        for values in base:
            dam = '%d-%d' % (values[0] + bonus * i, 
                             values[1] + bonus * i)
            inner_spell.append(dam)
        spell.append(inner_spell)
    return spell

def create_level_based_stacking_values(base, bonus, times):
    spell = []
    for i in range(times):
        inner_spell = []
        for j in range(len(base)):
            dam = '%d-%d' % (base[j][0] + bonus[j] * i, 
                             base[j][1] + bonus[j] * i)
            inner_spell.append(dam)
        spell.append(inner_spell)
    return spell

CHARGED_LABELS = [
    'Not charged',
    'Charged once',
    'Charged twice',
] + ['Charged %d times' % n for n in range(3, 20)]

BOMB_LABELS = [
    '',
    '1 bomb',
] + ['%d bombs' % n for n in range(2, 20)]

TREE_LABELS = [
    '',
    '1 tree',
] + ['%d trees' % n for n in range(2, 20)]

TRAP_LABELS = [
    '',
    '1 trap',
] + ['%d traps' % n for n in range(2, 20)]

REBOUND_LABELS = [
    '',
    '1 rebound',
] + ['%d rebounds' % n for n in range(2, 20)]


DAMAGE_SPELLS_OLD = {
    'default': [
        Spell("Grunob's Lightning Strike", [20, 87, 154], Effects(
            [['13-16', '17-21', '21-26']],
            [['16-22', '20-25', '25-31']],
            [FIRE]
        ), is_linked=(1, "Grunob's Lesson")),
        Spell("Grunob's Lesson", [87, 154], Effects(
            [['19-22', '23-37']],
            None,
            [FIRE]
        ), is_linked=(2, "Grunob's Lightning Strike")),
        Spell('Burnt Pie', [30, 97, 164], Effects(
            [['5-7', '6-8', '8-10']] * 5,
            [['6-8', '8-10', '10-12']] * 5,
            [EARTH, FIRE, WATER, AIR]
        ), aggregates=[("Hit in worst element", [0]),
                       ('', [1]),
                        ('', [2]),
                        ('', [3])],
        is_linked=(1, 'Leek Pie')),
        Spell('Leek Pie', [97, 164], Effects(
            [['6-8', '8-10']] * 5,
            [['8-10', '10-12']] * 5,
            [EARTH, FIRE, WATER, AIR]
        ), aggregates=[("Hit in best element", [0]),
                       ('', [1]),
                        ('', [2]),
                        ('', [3])],
        is_linked=(2, 'Burnt Pie')),
        Spell('Kannibubble', [40, 107, 174], Effects(
            [['12-15', '15-19', '19-23']],
            [['14-17', '18-22', '23-28']],
            [WATER]
        ), is_linked=(1, 'Kanniboil')),
        Spell('Kanniboil', [107, 174], Effects(
            [['21-24', '26-30']],
            [['25-29', '31-36']],
            [WATER]
        ), is_linked=(2, 'Kannibubble')),
        Spell('Mantiscroc', [60, 127, 194], Effects(
            [['14-17', '18-22', '20-24']],
            [['17-21', '21-26', '24-29']],
            [EARTH]
        ), is_linked=(1, 'Dart Mocles')),
        Spell('Dart Mocles', [127, 194], Effects(
            [['22-27', '25-30']],
            [['27-32', '30-36']],
            [EARTH]
        ), is_linked=(2, 'Mantiscroc')),
        Spell('Moon Hammer', [80, 147], Effects(
            [['15-19', '19-24']],
            [['19-24', '23-29']],
            [AIR]
        ), is_linked=(1, 'Darkli Moon Hammer')),
        Spell('Darkli Moon Hammer', [80, 147], Effects(
            [['21-26', '26-33']],
            [['25-32', '31-40']],
            [AIR]
        ), is_linked=(2, 'Moon Hammer')),
        Spell('Perfidious Boomerang', [100, 200], Effects(
            [['21-23', '26-29'] for i in range(4)],
            [['25-28', '31-35'] for i in range(4)],
            [EARTH, FIRE, WATER, AIR],
            steals=[True for i in range(4)],
        ), aggregates=[("25% chance of", [0]),
                       ("25% chance of", [1]),
                       ("25% chance of", [2]),
                       ("25% chance of", [3])],
        is_linked=(1, 'Diamondine Boomerang')),
        Spell('Diamondine Boomerang', [100, 200], Effects(
            [['21-23', '26-29'] for i in range(4)],
            [['25-28', '31-35'] for i in range(4)],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[("25% chance of", [0]),
                       ("25% chance of", [1]),
                       ("25% chance of", [2]),
                       ("25% chance of", [3])],
        is_linked=(2, 'Perfidious Boomerang')),
        Spell('Weapon Skill', [1], Effects(
            [['300']],
            [['350']],
            ['buff_pow_weapon']
        )),
        Spell('Ebony Dofus', [180], Effects(
            [['14-16']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR]
        )),
        Spell("Crocobur's Appetite", [200], Effects(
            [['11-15']] * 5,
            None,
            [NEUTRAL, EARTH, FIRE, WATER, AIR], steals=[True, True, True, True, True]
        ), aggregates=[("Steals in best element", [0]),
                    ('', [1]),
                    ('', [2]),
                    ('', [3]),
                    ('', [4])]),
        Spell('Pestilential Fog', [200], Effects(
            [['16-18']] * 5,
            None,
            [NEUTRAL, EARTH, FIRE, WATER, AIR]
        ), aggregates=[("Hit in best element", [0]),
                    ('', [1]),
                    ('', [2]),
                    ('', [3]),
                    ('', [4])]),
        Spell('Scurvion Toxicity', [200], Effects(
            [['6-8']] * 5,
            None,
            [NEUTRAL, EARTH, FIRE, WATER, AIR]
        ), aggregates=[("Hit in best element", [0]),
                    ('', [1]),
                    ('', [2]),
                    ('', [3]),
                    ('', [4])]),
    ],
    'Cra': [
        Spell('Optical Arrow', [1, 66, 132], Effects(
            [['14-16', '18-21', '23-27']],
            [['16-19', '21-25', '28-32']],
            [AIR]
        ), is_linked=(1, 'Raining Arrows')),
        Spell('Raining Arrows', [95, 162], Effects(
            [['19-21', '24-26']],
            [['23-25', '29-31']],
            [AIR]
        ), is_linked=(2, 'Optical Arrow')),
        Spell('Frozen Arrow', [1, 67, 133], Effects(
            [['14-17', '19-22', '24-28']],
            [['28-21', '23-26', '29-34']],
            [WATER]
        ), is_linked=(1, 'Slow Down Arrow')),
        Spell('Slow Down Arrow', [100, 167], Effects(
            [['27-29', '34-36']],
            [['33-35', '41-43']],
            [WATER]
        ), is_linked=(2, 'Frozen Arrow')),
        Spell('Repulsive Shot', [3, 69, 136], Effects(
            [['17-19', '22-25', '28-32']],
            [['20-23', '26-30', '34-38']],
            [FIRE]
        ), is_linked=(1, 'Burning Arrows')),
        Spell('Burning Arrows', [110, 177], Effects(
            [['27-29', '33-36']],
            [['32-35', '40-43']],
            [FIRE]
        ), is_linked=(2, 'Repulsive Shot')),
        Spell('Erosive Arrow', [6, 71, 138], Effects(
            [['15-17', '20-23', '25-29']],
            [['18-21', '24-28', '30-35']],
            [EARTH]
        ), is_linked=(1, 'Covering Fire')),
        Spell('Covering Fire', [115, 182], Effects(
            [['32-36', '38-42']],
            [['39-43', '46-50']],
            [EARTH]
        ), is_linked=(2, 'Erosive Arrow')),
        Spell('Immobilising Arrow', [15, 82, 149], Effects(
            [['7-9', '9-11', '11-13']],
            [['8-10', '10-12', '13-16']],
            [WATER]
        ), is_linked=(1, 'Assailing Arrow')),
        Spell('Assailing Arrow', [125, 192], Effects(
            [['29-32', '33-37'], ['100', '100']],
            [['35-39', '40-44'], ['100', '100']],
            [FIRE, 'buff_pow']
        ), stacks=3, is_linked=(2, 'Immobilising Arrow')),
        Spell('Retreating Shot', [20, 87, 154], Effects(
            [['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-34']],
            [AIR]
        ), is_linked=(1, 'Barricade Shot')),
        Spell('Barricade Shot', [130, 197], Effects(
            [['23-27', '26-30']],
            [['28-32', '31-36']],
            [EARTH]
        ), is_linked=(2, 'Retreating Shot')),
        Spell('Piercing Shots', [25, 92, 159], Effects(
            [['10', '40', '60']],
            [['15', '50', '70']],
            ['buff_dam']
        )),
        Spell('Exploding Arrow', [30, 97, 164], Effects(
            [['4-6', '6-8', '7-10'], ['12-13', '14-16', '19-23']],
            [['7-9', '9-11', '11-14'], ['14-16', '17-20', '24-28']],
            [FIRE, FIRE]
        ), is_linked=(1, 'Tormenting Arrow 1')),
        Spell('Tormenting Arrow 1', [140], Effects(
            [['25-27'], ['14-16']],
            [['30-32'], ['17-19']],
            [AIR, AIR]
        ), is_linked=(2, 'Exploding Arrow')),
        Spell('Poisoned Arrow', [35, 102, 169], Effects(
            [['10-12', '13-15', '17-18']],
            [['12-14', '16-18', '20-21']],
            [NEUTRAL]
        ), is_linked=(1, 'Paralysing Arrow')),
        Spell('Paralysing Arrow', [145], Effects(
            [['37-39']],
            [['44-47']],
            [WATER]
        ), is_linked=(2, 'Poisoned Arrow')),
        Spell('Powerful Shots', [40, 107, 174], Effects(
            [['150', '200', '250']],
            [['170', '230', '290']],
            ['buff_pow_spell']
        )),
        Spell('Concentration Arrow', [45, 112, 179], Effects(
            [['14-16', '19-22', '23-26']],
            [['17-20', '23-26', '28-31']],
            [AIR]
        ), is_linked=(1, 'Destructive Bolts')),
        Spell('Destructive Bolts', [155], Effects(
            [['36-38']],
            [['43-46']],
            [EARTH]
        ), is_linked=(2, 'Concentration Arrow')),
        Spell("Bat's Eye", [50, 117, 184], Effects(
            [['13-15', '18-20', '21-24']],
            [['16-18', '21-24', '25-29']],
            [WATER], steals=[True]
        ), is_linked=(1, 'Crushing Arrow')),
        Spell('Crushing Arrow', [160], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE]
        ), is_linked=(2, "Bat's Eye")),
        #TODO: figure out how to modify uppder limit to 12 (crash if I put higher value than 10)
        Spell('Piercing Shot', [60, 127, 194], Effects(
            create_stacking_values(((25, 28), (30, 34), (34, 38),), 4, 10),
            create_stacking_values(((30, 33), (36, 41), (41, 46),), 4, 10),
            [AIR]*10,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(10)],
        is_linked=(1, 'Devouring Arrow')), 
        Spell('Devouring Arrow', [170], Effects(
            [['11-13'],
             ['23-27'],
             ['34-38'],
             ['34-38'],
             ['52-56'],
             ['70-74']],
            [['13-15'],
             ['26-30'],
             ['39-43'],
             ['39-43'],
             ['60-64'],
             ['81-85']],
            [AIR, AIR, AIR, AIR, AIR, AIR], steals=[False, False, False, True, True, True]
        ), aggregates=[('Not charged', [0]),
                        ('Charged once', [1]),
                        ('Charged twice', [2]),
                        ('Shock Not charged', [3]),
                        ('Shock Charged once', [4]),
                        ('Shock Charged twice', [5])],
        is_linked=(2, 'Piercing Shot')),
        Spell('Punitive Arrow', [65, 131, 198], Effects(
            create_level_based_stacking_values(((21, 23), (26, 28), (29, 31)), 
                                               (23, 29, 36), 3),
            create_level_based_stacking_values(((26, 28), (31, 33), (35, 37)), 
                                               (23, 29, 36), 3),
            [EARTH, EARTH, EARTH]
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(3)],
        is_linked=(1, 'Arrow of Judgement')),
        Spell('Arrow of Judgement', [175], Effects(
            [['14-15'], ['31-35']],
            [['16-18'], ['37-42']],
            [EARTH, EARTH], steals=[True, False]
        ), is_linked=(2, 'Punitive Arrow')),
        Spell('Atonement Arrow', [75, 142], Effects(
            create_level_based_stacking_values(((28, 30), (35, 37)), 
                                               (35, 43), 3),
            create_level_based_stacking_values(((34, 36), (42, 44)), 
                                               (35, 43), 3),
            [WATER, WATER, WATER],
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(3)],
        is_linked=(1, 'Redemption Arrow')),
        Spell('Redemption Arrow', [185], Effects(
            create_stacking_values(((23, 26),), 7, 9),
            create_stacking_values(((28, 31),), 7, 9),
            [WATER]*9,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(9)],
        is_linked=(2, 'Atonement Arrow')),
        Spell('Explosive Arrow', [80, 147], Effects(
            [['24-27', '30-34']],
            [['29-33', '36-41']],
            [FIRE]
        ), is_linked=(1, 'Fulminating Arrow')),
        Spell('Fulminating Arrow', [190], Effects(
            create_stacking_values(((38, 42),), 10, 10),
            None,
            [FIRE] * 10,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(10)], 
        is_linked=(2, 'Explosive Arrow')),
        Spell('Tormenting Arrow 2', [85, 152], Effects(
            [['10-12', '13-15'], ['10-12', '13-15']],
            [['13-15', '16-18'], ['13-15', '16-18']],
            [EARTH, WATER]
        ), is_linked=(1, 'Tyrannical Arrow')),
        Spell('Tyrannical Arrow', [195], Effects(
            [['13-15'], ['13-15'], ['7-10'], ['7-10']],
            [['16-18'], ['16-18'], ['7-10'], ['7-10']],
            [FIRE, AIR, FIRE, AIR]
        ), aggregates=[('', [0]),
                        ('', [1]),
                        ('After pushback damage', [2]),
                        ('If pushed or attracted', [3])], 
        is_linked=(2, 'Tormenting Arrow 2')),
    ],
    'Ecaflip': [
        Spell('Heads or Tails', [1, 66, 132], Effects(
            [['15-17', '20-23', '26-29'],
             ['10-12', '14-16', '18-20']],
            [['19-21', '24-27', '31-35'],
             ['13-15', '17-19', '22-24']],
            [EARTH, EARTH],
        ), aggregates=[('This turn', [0]),
                       ('Next turn', [1])], 
        is_linked=(1, 'Tails or Heads')),
        Spell('Tails or Heads', [95, 162], Effects(
            [['27-30', '33-37']],
            [['32-36', '40-44']],
            [EARTH],
        ), is_linked=(2, 'Heads or Tails')),
        Spell('Balling Up', [1, 67, 133], Effects(
            [['17-19', '23-25', '29-32']],
            [['21-23', '27-30', '35-38']],
            [AIR],
        ), is_linked=(1, 'Meowch')),
        Spell('Meowch', [100, 167], Effects(
            [['27-31','34-38']],
            [['33-37', '41-46']],
            [FIRE],
        ), is_linked=(2, 'Balling Up')),        
        Spell('Bluff', [3, 69, 136], Effects(
            [['15-17', '20-23', '26-29']],
            [['19-21', '24-27', '31-35']],
            [WATER],
        ), is_linked=(1, 'Nerve')),
        Spell('Nerve', [110, 177], Effects(
            [['28-31','35-39']],
            [['34-38', '42-47']],
            [AIR],
        ), is_linked=(2, 'Bluff')),
        Spell('Topkaj', [10, 77, 144], Effects(
            [['16-18', '22-24', '27-30']],
            [['19-21', '26-29', '32-36']],
            [FIRE]
        ), is_linked=(1, 'Yowling')),
        Spell('Yowling', [120, 187], Effects(
            [['26-30','30-34'],
             ['26-30','30-34']],
            [['31-36','36-41'],
             ['31-36','36-41']],
            [FIRE, FIRE],
            heals=[False, True],
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])], is_linked=(2, 'Topkaj')),
        Spell('Roar', [130, 197], Effects(
            [['50', '70']],
            None,
            ['buff_pow']
        )),
        Spell('All or Nothing', [25, 92, 159], Effects(
            [['27-29', '34-37', '42-46']] * 4,
            [['32-35', '40-44', '50-55']] * 4,
            [WATER, FIRE, FIRE, WATER],
            heals=[False, True, True, False],
        ), aggregates=[('Enemies (imediately)', [0]),
                       ('Enemies (next turn)', [1]),
                       ('Allies (imediately)', [2]),
                       ('Allies (next turn)', [3])],
        is_linked=(1, 'Peril')),
        Spell('Peril', [135], Effects(
            [['37-41'],
             ['32-36']],
            [['44-49'],
             ['38-43']],
            [WATER, FIRE],
            heals=[False, True],
        ), aggregates=[('Summons', [0]),
                       ('Others', [1])], 
        is_linked=(2, 'All or Nothing')),
        Spell('Rough Tongue', [40, 107, 174], Effects(
            [['19-21', '24-27', '30-33']],
            [['23-25', '29-32', '36-40']],
            [FIRE]
        ), is_linked=(1, 'Lapping Up')),
        Spell('Lapping Up', [150], Effects(
            [['32-36']],
            [['38-43']],
            [EARTH],
        ), is_linked=(2, 'Rough Tongue')),
        Spell('Wheel of Fortune', [45, 112, 179], Effects(
            [['100', '175', '250']],
            [['140', '245', '350']],
            ['buff_pow_spell']
        )),
        Spell('Feline Spirit', [50, 117, 184], Effects(
            [['19-21', '26-29', '31-34']],
            [['23-26', '32-35', '37-41']],
            [EARTH]
        ), is_linked=(1, 'Pawpads')),
        Spell('Pawpads', [160], Effects(
            [['25-28']],
            [['30-34']],
            [FIRE],
        ), is_linked=(2, 'Feline Spirit')),
        Spell('Reflex', [65, 131, 198], Effects(
            [['23-26', '28-31', '31-35']],
            [['28-31', '33-38', '37-42']],
            [AIR]
        ), is_linked=(1, 'Bravado')),
        Spell('Bravado', [175], Effects(
            [['46-50']],
            [['55-60']],
            [AIR],
        ), is_linked=(2, 'Reflex')),
        Spell('Playful Claw', [70, 137], Effects(
            [['27-30', '35-39']],
            [['37-41', '47-53']],
            [WATER],
        ), is_linked=(1, 'Misadventure')),
        Spell('Misadventure', [180], Effects(
            [['37-41']] * 3,
            [['44-49']] * 3,
            [EARTH, EARTH, EARTH],
            steals=[False, False, True]
        ), aggregates=[('', [0]),
                        ('If previous casting was a critical hit', [1]),
                        ('', [2])],
        is_linked=(2, 'Playful Claw')),
        Spell('Felintion', [75, 142], Effects(
            [['27-29', '33-36']],
            [['32-35', '40-43']],
            [WATER],
            steals=[True]
        ), is_linked=(1, 'Kraps')),
        Spell('Kraps', [185], Effects(
            [['42-46']],
            [['50-55']],
            [WATER],
        ), is_linked=(2, 'Felintion')),
        Spell('Claw of Ceangal', [80, 147], Effects(
            [['13-15', '17-19']],
            [['16-18', '20-23']],
            [AIR]
        ), is_linked=(1, 'Misfortune')),
        Spell('Misfortune', [190], Effects(
            [['27-30']],
            [['32-36']],
            [WATER],
        ), is_linked=(2, 'Claw of Ceangal')),
        Spell('Rekop', [85, 152], Effects(
            [['13-15', '17-19'], ['20-22', '26-28'], ['26-30', '34-38']] * 4,
            None,
            [FIRE, EARTH, AIR, WATER] * 4,
        ), aggregates=[('1 turn', list(range(0, 4))),
                        ('2 turns', list(range(4, 8))),
                        ('3 turns', list(range(8, 12)))],
        is_linked=(1, 'Trickery')),
        Spell('Trickery', [195], Effects(
            [['58-62'],
             ['46-50'],
             ['34-38'],
             ['23-25']],
            [['70-74'],
             ['55-60'],
             ['41-46'],
             ['28-30']],
            [EARTH, AIR, WATER, FIRE],
        ), aggregates=[('5 AP', [0]),
                       ('4 AP', [1]),
                       ('3 AP', [2]),
                       ('2 AP', [3])],
        is_linked=(2, 'Rekop')),
        Spell('Fate of Ecaflip', [90, 157], Effects(
            [['31-34', '38-42']],
            [['37-40', '46-50']],
            [EARTH]
        ), is_linked=(1, "Ecaflip's Audacity")),
        Spell("Ecaflip's Audacity", [200], Effects(
            [['27-30'],
             ['150']],
            [['32-36'],
             ['180']],
            [EARTH, 'buff_pow'],
        ), aggregates=[('', [0]),
                       ('If the target is pushed', [1])], 
        is_linked=(2, 'Fate of Ecaflip')),
    ],
    'Eniripsa': [
        Spell('Raucous Word', [1, 67, 133], Effects(
            [['14-16', '19-21', '24-27'],
             ['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32'],
             ['17-19', '22-25', '29-32']],
            [FIRE, FIRE], heals=[True, False],
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])], 
        is_linked=(1, 'Deafening Cry')),
        Spell('Deafening Cry', [100, 167], Effects(
            [['21-24', '26-30']],
            [['25-29', '32-36']],
            [FIRE]
        ), is_linked=(2, 'Raucous Word')),
        Spell('Mischievous Word', [1, 66, 132], Effects(
            [['12-14', '16-19', '21-24']],
            [['15-17', '20-22', '25-29']],
            [AIR]
        ), is_linked=(1, 'Malicious Word')),
        Spell('Malicious Word', [95, 162], Effects(
            [['24-27', '30-34']],
            [['29-33', '36-41']],
            [AIR]
        ), is_linked=(2, 'Mischievous Word')),
        Spell('Vampiric Word', [3, 69, 136], Effects(
            [['16-18', '21-23', '27-30']],
            [['19-21', '25-28', '32-36']],
            [WATER]
        ), is_linked=(1, 'Sobs')),
        Spell('Sobs', [110, 177], Effects(
            [['19-21', '23-26'],
             ['19-21', '23-26']],
            [['22-24', '28-31'],
             ['22-24', '28-31']],
            [WATER, WATER]
        ), aggregates=[('Target', [0]),
                       ('Allies around target are healed by 100% of damage', [1])],
        is_linked=(2, 'Vampiric Word')),
        Spell('Profanity', [6, 71, 138], Effects(
            [['14-16', '18-20', '22-25']],
            [['17-19', '21-24', '26-30']],
            [EARTH]
        ), is_linked=(1, 'Ancestral Ointment')),
        Spell('Ancestral Ointment', [115, 182], Effects(
            [['31-33', '35-38'],
             ['31-33', '35-38']],
            [['34-37', '40-44'],
             ['34-37', '40-44']],
            [EARTH, EARTH], heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(2, 'Profanity')),
        Spell('Scalpel', [125, 192], Effects(
            [['52', '60'],
             ['47-52', '54-60']] * 5,
            [['63', '72'],
             ['57-63', '65-72']] * 5,
            [NEUTRAL, NEUTRAL, EARTH, EARTH, FIRE, FIRE, WATER, WATER, AIR, AIR], heals=[False, True, False, True, False, True, False, True, False, True],
        ), aggregates=[("On ennemy, hit in best element", [0]),
                    ('', [2]),
                    ('', [4]),
                    ('', [6]),
                    ('', [8]),
                    ('On ally, heals in best element', [1]),
                    ('', [3]),
                    ('', [5]),
                    ('', [7]),
                    ('', [9])],),
        Spell('Lamentations', [20, 87, 154], Effects(
            [['18-20', '23-26', '29-32'],
             ['18-20', '23-26', '29-32']],
            [['22-24', '28-31', '35-38'],
             ['22-24', '28-31', '35-38']],
            [WATER, WATER], steals=[True, False],
        ), aggregates=[('Enemies', [0]),
                       ('Allies are healed by 50% of the damage inflicted on each enemies', [1])],
        is_linked=(1, 'Commotion')),
        Spell('Commotion', [130, 197], Effects(
            [['30-33', '33-37'],
             ['30-33', '33-37']],
            [['35-39', '40-44'],
             ['35-39', '40-44']],
            [FIRE, FIRE], heals=[True, False]
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(2, 'Lamentations')),
        Spell('Turbulent Word', [25, 92, 159], Effects(
            [['23-26', '29-33', '36-41'],
             ['23-26', '29-33', '36-41']],
            [['27-31', '35-39', '43-49'],
             ['27-31', '35-39', '43-49']],
            [FIRE, FIRE], heals=[True, False]
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(1, 'Furious Word')),
        Spell('Furious Word', [135], Effects(
            [['32-36']],
            [['38-43']],
            [EARTH]
        ), is_linked=(2, 'Turbulent Word')),
        Spell('Galvanising Word', [140], Effects(
            [['200']],
            None,
            ['buff_pow']
        )),
        Spell("Prankster's Word", [35, 102, 169], Effects(
            [['15-17', '18-20', '22-24'],
             ['15-17', '18-20', '22-24']],
            [['17-19', '21-23', '26-28'],
             ['17-19', '21-23', '26-28']],
            [AIR, AIR], heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(1, 'Defensive Word')),
        Spell('Defensive Word', [145], Effects(
            [['28-31']],
            [['34-37']],
            [WATER], steals=[True]
        ), is_linked=(2, "Prankster's Word")),
        Spell('Warpaint', [40, 107, 174], Effects(
            [['6-7', '7-9', '9-11'],
             ['6-7', '7-9', '9-11'],
             ['6-7', '7-9', '9-11']],
            [['6-7', '7-9', '9-11'],
             ['8-9', '10-12', '12-14'],
             ['8-9', '10-12', '12-14']],
            [EARTH, EARTH, EARTH], heals=[True, False, True]
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1]),
                       ('Allies at the start of their turn', [2])],
        is_linked=(1, 'Secret Word')),
        Spell('Secret Word', [150], Effects(
            [['28-32'], ['28-32'], ['58-62'], ['58-62']],
            [['34-38'], ['34-38'], ['64-68'], ['64-68']],
            [AIR] * 4, heals=[True, False, True, False]
        ), aggregates=[('Allies, not charged', [0]),
                       ('Enemies, not charged', [1]),
                       ('Allies, charged once', [2]),
                       ('Enemies, charged once', [3])],
        is_linked=(2, 'Warpaint')),
        Spell('War Cry', [50, 117, 184], Effects(
            [['23-26', '31-35', '37-41']],
            [['28-31', '38-42', '44-49']],
            [EARTH]
        ), is_linked=(1, 'Ritual Word')),
        Spell('Ritual Word', [160], Effects(
            [['28-32']] * 2,
            [['34-38']] * 2,
            [EARTH] * 2, heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(2, 'War Cry')),
        Spell('Forbidden Word', [55, 122, 189], Effects(
            [['30-33', '40-44', '46-50']],
            [['36-39', '48-52', '55-60']],
            [WATER]
        ), is_linked=(1, 'Bloodless Word')),
        Spell('Bloodless Word', [165], Effects(
            [['37-40']] * 2,
            [['41-45']] * 2,
            [WATER] * 2, heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(2, 'Forbidden Word')),
        Spell('Pilfering', [65, 131, 198], Effects(
            [['14-16', '17-19', '19-21']],
            [['17-19', '20-22', '22-25']],
            [FIRE], steals=[True]
        ), is_linked=(1, 'Distracting Word')),
        Spell('Distracting Word', [175], Effects(
            [['23-27']] * 2,
            [['28-32']] * 2,
            [FIRE] * 2, heals=[True, False]
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(2, 'Pilfering')),
        Spell('Flowery Word', [70, 137], Effects(
            [['26-29', '33-37']] * 2,
            [['31-35', '40-44']] * 2,
            [AIR] * 2, heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies around enemies are healed at the end of enemies turns', [1])],
        is_linked=(1, 'Enchanted Thicket')),
        Spell('Enchanted Thicket', [180], Effects(
            [['39-43']] * 2,
            [['45-50']] * 2,
            [AIR] * 2, heals=[True, False]
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(2, 'Flowery Word')),
        Spell('Tribal Paintbrush', [80, 147], Effects(
            [['15-18', '19-22']] * 2 +
            create_stacking_values(((15, 18), (19, 22)), 10, 10),
            [['19-22', '23-26']] * 2 +
            create_stacking_values(((19, 22), (23, 26)), 10, 10),
            [EARTH] * 12, heals=[True, False] + [False] * 10
        ), aggregates=[('Allies', [0]),
                    ('Enemies', [1])] + [(CHARGED_LABELS[n], [n+2]) for n in range(10)],
        is_linked=(1, 'Shrill Choir')),
        Spell('Shrill Choir', [190], Effects(
            create_stacking_values(((40, 44),), 7, 10),
            create_stacking_values(((48, 53),), 7, 10),
            [FIRE] * 10
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(10)],
        is_linked=(2, 'Tribal Paintbrush')),
        Spell('Cryotherapy', [85, 152], Effects(
            [['11-13', '14-16']] * 3,
            [['13-15', '17-19']] * 3,
            [WATER] * 3, heals=[False, True, False]
        ), aggregates=[('Target', [0]),
                       ('After target loses state:<br>Allies around the target', [1]),
                       ('Enemies around the target', [2])],
        is_linked=(1, 'Murmur')),
        Spell('Murmur', [195], Effects(
            [['16-18']] * 2,
            [['19-22']] * 2,
            [AIR] * 2, heals=[False, True]
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(2, 'Cryotherapy')),
    ],
    'Enutrof': [
        Spell('Coin Throwing', [1, 66, 132], Effects(
            [['7-9', '10-12', '13-15']],
            [['9-11', '12-14', '16-18']],
            [WATER],
        ), is_linked=(1, 'Placer Mining')), 
        Spell('Placer Mining', [95, 162], Effects(
            [['8', '10'], 
             ['8', '10'], 
             ['6-9', '8-11'], 
             ['2-10', '4-13']],
            None,
            [WATER] * 4,
        ), aggregates=[('', [0]),
                       ('For 2 turns when target suffers an attempted MP reduction:<br>Not charged', [1]),
                       ('Charged once', [2]),
                       ('Charged twice', [3])],
        is_linked=(2, 'Coin Throwing')),
        Spell('Prime of Life', [1, 67, 133], Effects(
            [['17-19', '22-25', '28-32']],
            [['20-23', '26-30', '34-38']],
            [EARTH],
        ), is_linked=(1, 'Collapse')),
        Spell('Collapse', [100, 167], Effects(
            [['10', '12'], 
             ['10', '12'], 
             ['8-11', '10-13'], 
             ['4-13', '6-15']],
            None,
            [EARTH] * 4,
        ), aggregates=[('', [0]),
                       ('For 2 turns when target suffers a Range reduction:<br>Not charged', [1]),
                       ('Charged once', [2]),
                       ('Charged twice', [3])],
        is_linked=(2, 'Prime of Life')),
        Spell('Shovel Kiss', [3, 69, 136], Effects(
            [['11-14', '15-18', '19-23']],
            [['14-16', '18-21', '23-28']],
            [FIRE],
        ), is_linked=(1, 'Deposit')),
        Spell('Deposit', [110, 177], Effects(
            [['23-26', '29-32']] * 2,
            [['28-31', '35-38']] * 2,
            [FIRE] * 2, heals=[False, True]
        ), aggregates=[('Ennemies at the end of their turns', [0]),
                       ('Allies at the end of their turns', [1])],
        is_linked=(2, 'Shovel Kiss')),
        Spell('Opportuneness', [6, 71, 138], Effects(
            [['8-10', '11-13', '14-16'], ['50', '60', '75']],
            [['10-12', '13-15', '17-19'], ['55', '65', '85']],
            [AIR, 'buff_pow']
        ), is_linked=(1, 'Hard Cash')),
        Spell('Hard Cash', [115, 182], Effects(
            [['9', '11'], 
             ['9', '11'], 
             ['7-10', '9-12'], 
             ['3-12', '5-14']],
            None,
            [AIR] * 4,
        ), aggregates=[('', [0]),
                       ('For 2 turns when target suffers an attempted AP reduction:<br>Not charged', [1]),
                       ('Charged once', [2]),
                       ('Charged twice', [3])],
        is_linked=(2, 'Opportuneness')),
        Spell('Mound', [20, 87, 154], Effects(
            [['12-14', '16-18', '20-22']],
            [['15-17', '19-21', '24-26']],
            [EARTH],
        ), is_linked=(1, 'Mine Fire')),
        Spell('Mine Fire', [130, 197], Effects(
            [['27-30', '30-34']],
            [['32-36', '35-39']],
            [FIRE]
        ), is_linked=(2, 'Mound')),
        Spell('Auriferous Shovel', [30, 97, 164], Effects(
            [['20-23', '26-29', '32-36']],
            [['24-27', '31-35', '38-43']],
            [WATER],
        ), is_linked=(1, 'Shovel Throwing')),
        Spell('Shovel Throwing', [140], Effects(
            [['32-35']],
            [['38-42']],
            [EARTH],
        ), is_linked=(2, 'Auriferous Shovel')),
        Spell('Greed', [40, 107, 174], Effects(
            [['10', '25', '40']],
            [['15', '30', '45']],
            ['buff_pow'],
        ), stacks=15,),
        Spell('Loafylactic', [45, 112, 179], Effects(
            [['12-14', '16-18', '19-21']],
            [['14-16', '19-21', '23-25']],
            [AIR],
        ), is_linked=(1, 'Peat Bog')),
        Spell('Peat Bog', [155], Effects(
            create_stacking_values(((22, 25),), 5, 11),
            create_stacking_values(((26, 30),), 5, 11),
            [EARTH] * 11,
        ), aggregates=[(str(n) + " MP used this turn", [n]) for n in range(11)],
        is_linked=(2, 'Loafylactic')),
        Spell('Golden Age', [160], Effects(
            [['200']],
            None,
            ['buff_pow']
        )),
        Spell('Ghostly Shovel', [55, 122, 189], Effects(
            [['17-19', '23-25', '26-28']],
            [['20-22', '27-29', '31-34']],
            [FIRE],
        ), is_linked=(1, 'Spade of the Ancients')),
        Spell('Spade of the Ancients', [165], Effects(
            [['32-36']],
            [['38-43']],
            [AIR],
        ), is_linked=(2, 'Ghostly Shovel')),
        Spell('Bankruptcy', [60, 127, 194], Effects(
            [['26-29', '32-36', '36-40']],
            [['31-35', '39-44', '43-48']],
            [AIR],
        ), is_linked=(1, 'Obsolescence')),
        Spell('Obsolescence', [170], Effects(
            [['26-30']],
            [['31-36']],
            [WATER],
        ), is_linked=(2, 'Bankruptcy')),
        Spell('Shovel of the Ancients', [70, 137], Effects(
            [['30-33', '38-42']],
            [['36-39', '46-50']],
            [WATER],
        ), is_linked=(1, 'Sieving')),
        Spell('Sieving', [180], Effects(
            [['25-29']],
            [['30-35']],
            [WATER],
        ), is_linked=(2, 'Shovel of the Ancients')),
        Spell('Lucky Shovel', [185], Effects(
            [['20']] * 5,
            None,
            [NEUTRAL, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element on enemy that kills Lucky Shovel', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3]),
                        ('', [4])],),
        Spell('Unsummoning', [85, 152], Effects(
            [['31-34', '39-42', '16-18']] * 3,
            [['38-40', '47-50', '19-21']] * 3,
            [FIRE] * 3,
        ), aggregates=[('', [0]),
                        ('On summons', list([1, 2]))],
        is_linked=(1, 'Firedamp Explosion')),
        Spell('Firedamp Explosion', [195], Effects(
            [['14'], 
             ['14'], 
             ['12-15'], 
             ['8-17']],
            None,
            [FIRE] * 4,
        ), aggregates=[('', [0]),
                       ('For 2 turns when target is healed:<br>Not charged', [1]),
                       ('Charged once', [2]),
                       ('Charged twice', [3])],
        is_linked=(2, 'Unsummoning')),
    ],
    'Feca': [
        Spell('Natural Attack', [1, 67, 133], Effects(
            [['10-12', '14-16', '18-20'],
             ['20', '40', '60']],
            [['13-15', '17-19', '22-24'],
             ['30', '50', '70']],
            [FIRE, 'buff_int'],
        ), stacks=3,
        is_linked=(1, 'Natural Attraction')), 
        Spell('Natural Attraction', [100, 167], Effects(
            [['19-22', '24-27']],
            [['23-26', '29-32']],
            [FIRE],
        ), is_linked=(2, 'Natural Attack')), 
        Spell('Blindness', [1, 68, 134], Effects(
            [['12-14', '15-17', '20-22']],
            [['14-16', '19-21', '24-26']],
            [NEUTRAL],
        ), is_linked=(1, 'Dazzling')), 
        Spell('Dazzling', [105, 172], Effects(
            [['34-39', '42-48']],
            [['40-46', '50-58']],
            [EARTH],
        ), is_linked=(2, 'Blindness')), 
        Spell('Typhoon', [3, 69, 136], Effects(
            [['13-15', '17-19', '22-24'],
             ['20', '40', '60']],
            [['15-17', '20-22', '26-29'],
             ['30', '50', '70']],
            [AIR, 'buff_agi'],
        ), stacks=3, is_linked=(1, 'Gust')), 
        Spell('Gust', [110, 177], Effects(
            [['21-23', '26-28']],
            [['25-27', '31-34']],
            [AIR],
        ), is_linked=(2, 'Typhoon')), 
        Spell('Bubble', [6, 71, 138], Effects(
            [['9-11', '12-14', '15-17']],
            [['10-12', '14-16', '18-20']],
            [WATER],
        ), is_linked=(1, 'Swelling')), 
        Spell('Swelling', [115, 182], Effects(
            [['32-36', '38-42']],
            [['39-43', '46-50']],
            [AIR],
        ), is_linked=(2, 'Bubble')),
        Spell('Aggressive Glyph', [15, 82, 149], Effects(
            [['20-22', '26-28', '32-34']],
            None,
            [AIR],
        ), special='glyph', is_linked=(1, 'Fulminating Glyph')), 
        Spell('Fulminating Glyph', [125, 192], Effects(
            [['27-31', '31-35']],
            [['32-37', '37-42']],
            [AIR],
        ), special='glyph', is_linked=(2, 'Aggressive Glyph')), 
        Spell('Lethargy', [20, 87, 154], Effects(
            [['23-25', '29-32', '36-40']],
            [['27-30', '35-39', '43-48']],
            [FIRE],
        ), is_linked=(1, 'Lifelessness')), 
        Spell('Lifelessness', [130, 197], Effects(
            [['34-38', '38-42'],
             ['120', '150']],
            [['41-45', '46-50'],
             ['140', '170']],
            [FIRE, 'buff_int'],
        ), stacks=2, is_linked=(2, 'Lethargy')),
        Spell('Cloudy Attack', [25, 92, 159], Effects(
            [['19-21', '25-27', '31-33'],
             ['40', '60', '80']],
            [['23-25', '30-32', '37-40'],
             ['60', '80', '100']],
            [WATER, 'buff_cha'],
        ), stacks=2, is_linked=(1, 'Stormy Attack')),
        Spell('Stormy Attack', [135], Effects(
            [['38-42']],
            [['46-50']],
            [WATER],
        ), is_linked=(2, 'Cloudy Attack')),
        Spell('Bastion', [30, 97, 164], Effects(
            [['80', '120', '150']],
            None,
            ['buff_pow'],
        ), stacks=2),
        Spell('Backlash', [35, 102, 169], Effects(
            [['18-21', '23-27', '29-33'],
             ['40', '60', '80']],
            [['22-25', '28-32', '35-40'],
             ['60', '80', '100']],
            [EARTH, 'buff_str'],
        ), stacks=2, is_linked=(1, 'Tetany')),
        Spell('Tetany', [145], Effects(
            [['34-38']],
            [['41-46']],
            [NEUTRAL],
        ), is_linked=(2, 'Backlash')),
        Spell('Repulsion Glyph', [45, 112, 179], Effects(
            [['13-14', '17-18', '21-22']] * 4,
            None,
            [FIRE, WATER, EARTH, AIR],
        ), aggregates=[('', [0, 1, 2, 3])], special='glyph',
        is_linked=(1, 'Barrier')),
        Spell('Barrier', [155], Effects(
            [['21-22']] * 4,
            None,
            [FIRE, WATER, EARTH, AIR],
        ), aggregates=[('', [0, 1, 2, 3])], special='glyph',
        is_linked=(2, 'Repulsion Glyph')),
        Spell('Blinding Glyph', [55, 122, 189], Effects(
            [['20-22', '27-30', '31-34']],
            None,
            [EARTH],
        ), special='glyph', is_linked=(1, 'Protective Glyph')),
        Spell('Protective Glyph', [165], Effects(
            [['31-35']],
            [['37-42']],
            [EARTH],
        ), special='glyph', is_linked=(2, 'Blinding Glyph')),
        Spell('Shiver', [60, 127, 194], Effects(
            [['22-25', '27-30', '30-34']],
            [['26-30', '32-36', '36-41']],
            [AIR],
        ), is_linked=(1, 'Tension')),
        Spell('Tension', [170], Effects(
            [['38-42']],
            [['46-50']],
            [WATER],
        ), is_linked=(2, 'Shiver')),
        #TODO: find out Paralysing Glyph's damages
        Spell('Paralysing Glyph', [65, 131, 198], Effects(
            [['22-25', '27-30', '30-34']],
            None,
            [WATER],
        ), special='glyph', is_linked=(1, 'Roaming Glyph')),
        Spell('Roaming Glyph', [175], Effects(
            [['30-34']],
            [['36-41']],
            [WATER],
        ), special='glyph', is_linked=(2, 'Paralysing Glyph')),
        Spell('Torpor', [70, 137], Effects(
            [['21-23', '27-30']],
            [['25-28', '32-36']],
            [EARTH],
        ), is_linked=(1, 'Lateral Flame')),
        Spell('Lateral Flame', [180], Effects(
            [['31-35']],
            [['37-42']],
            [FIRE],
        ), is_linked=(2, 'Torpor')),
        Spell('Reinforced Protection', [75, 142], Effects(
            [['120', '200'],
             ['160', '250']],
            None,
            ['buff_pow_nonglyph', 'buff_pow_glyph'],
        )),
        Spell('Burning Glyph', [85, 152], Effects(
            [['27-30', '33-37']],
            None,
            [FIRE],
        ), special='glyph', is_linked=(1, 'Perception Glyph')),
        Spell('Perception Glyph', [195], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE],
        ), special='glyph', is_linked=(2, 'Burning Glyph')),
    ],
    'Foggernaut': [
        Spell('Anchor', [1, 67, 133], Effects(
            [['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32']],
            [EARTH],
        ), is_linked=(1, 'Mooring')),
        Spell('Mooring', [100, 167], Effects(
            [['14-16', '17-20']],
            [['17-20', '21-25']],
            [EARTH],
        ), is_linked=(2, 'Anchor')),
        Spell('Pilfer', [1, 66, 132], Effects(
            [['13-15', '17-20', '22-25']],
            [['16-18', '21-24', '26-30']],
            [FIRE],
            steals=[True],
        ), is_linked=(1, 'Scuttle')),
        Spell('Scuttle', [95, 162], Effects(
            [['38-43', '47-54']],
            [['46-52', '57-65']],
            [FIRE],
        ), is_linked=(2, 'Pilfer')),
        Spell('Torrent', [6, 71, 138], Effects(
            [['15-19', '20-23', '25-28']],
            [['19-22', '24-27', '29-33']],
            [WATER],
        ), is_linked=(1, 'Harmattan')),
        Spell('Harmattan', [115, 182], Effects(
            [['24-27', '28-32']],
            [['29-33', '34-38']],
            [AIR],
        ), is_linked=(2, 'Torrent')),
        Spell('Scaphander', [15, 82, 149], Effects(
            [['12', '19', '25'],
             ['25', '35', '40']],
            [['16', '23', '30'],
             ['30', '40', '50']],
            ['buff_dam', 'buff_pshdam']
        )),
        Spell('Backwash', [25, 92, 159], Effects(
            [['12-15', '17-20', '22-26']],
            [['16-20', '21-25', '27-32']],
            [EARTH],
        ), is_linked=(1, 'Surge')),
        Spell('Surge', [135], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE],
        ), is_linked=(2, 'Backwash')),
        Spell('Tide', [30, 97, 164], Effects(
            [['18-20', '23-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [AIR],
        ), is_linked=(1, 'Corrosion')),
        Spell('Corrosion', [140], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, 'Tide')),
        Spell('Vapour', [35, 102, 169], Effects(
            [['16-18', '22-25', '28-32']],
            [['20-22', '27-31', '34-39']],
            [FIRE],
        ), is_linked=(1, 'Valve')),
        Spell('Valve', [145], Effects(
            [['18-21'],
             ['30']],
            [['22-25'],
             ['30']],
            [FIRE, 'buff_heals'],
        ), is_linked=(2, 'Vapour')),
        Spell('Spyglass', [50, 117, 184], Effects(
            [['20-22', '26-30', '31-35']],
            [['23-27', '32-36', '37-42']],
            [WATER],
        ), is_linked=(1, 'Periscope')),
        Spell('Periscope 2', [160], Effects(
            [['30-34']],
            [['36-41']],
            [WATER],
        ), is_linked=(2, 'Periscope 1')),
        Spell('First Aid', [55, 122, 189], Effects(
            [['18-21', '22-26', '25-29']],
            [['22-25', '27-31', '30-35']],
            [FIRE],
            heals=[True]
        ), is_linked=(1, 'Rescue')),
        Spell('Rescue', [165], Effects(
            [['23-25']],
            [['27-30']],
            [FIRE],
            heals=[True]
        ), is_linked=(2, 'First Aid')),
        Spell('Torpedo', [60, 127, 194], Effects(
            [['18-21', '22-26', '25-29']],
            [['22-25', '27-31', '30-35']],
            [AIR],
        ), is_linked=(1, 'Short-Circuit')),
        Spell('Short-Circuit', [170], Effects(
            [['38-42']],
            [['44-49']],
            [AIR],
        ), is_linked=(2, 'Torpedo')),
        Spell('Ambush ', [65, 131, 198], Effects(
            [['7-9', '9-11', '10-12']] * 4,
            [['9-11', '11-13', '12-14']] * 4,
            [FIRE, WATER, EARTH, AIR],
         ), aggregates=[('', [0, 1, 2, 3])]),
        Spell('Froth', [80, 147], Effects(
            [['30-34', '38-43']],
            [['36-40', '45-51']],
            [WATER],
        ), is_linked=(1, 'Nautilus')),
        Spell('Nautilus', [190], Effects(
            [['23-27']],
            [['28-32']],
            [WATER],
        ), is_linked=(2, 'Froth')),
        Spell('Trident', [85, 152], Effects(
            [['25-28', '31-35'],
             ['9-11', '13-15']],
            [['30-34', '37-42'],
             ['9-11', '13-15']],
            [EARTH, EARTH],
         ), aggregates=[('Hit', [0]),
                        ('Pushback Poison', [1])],
        is_linked=(1, 'Seizing')),
        Spell('Seizing', [195], Effects(
            [['32-36']],
            [['38-43']],
            [EARTH],
        ), is_linked=(2, 'Trident')),
    ],
    'Iop': [
        Spell('Pressure', [1, 66, 132], Effects(
            [['16-18', '20-23', '26-30']],
            [['19-21', '24-28', '31-36']],
            [EARTH],
        ), is_linked=(1, 'Fracture')),
        Spell('Fracture', [95, 162], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [AIR],
        ), is_linked=(2, 'Pressure')),
        Spell('Outpouring', [1, 68, 134], Effects(
            [['23-25', '30-33', '38-42']],
            [['27-30', '36-39', '46-50']],
            [WATER],
        ), is_linked=(1, 'Destructive Ring')),
        Spell('Destructive Ring', [105, 172], Effects(
            [['19-23', '24-28']],
            [['23-27', '29-34']],
            [AIR],
        ), is_linked=(2, 'Outpouring')),
        Spell('Divine Sword', [3, 69, 136], Effects(
            [['16-18', '20-23', '26-30'],
             ['10', '20', '30']],
            [['19-21', '24-28', '31-36'],
             ['10', '20', '30']],
            [AIR, 'buff_dam'],
        ), is_linked=(1, 'Chopper')),
        Spell('Chopper', [110, 177], Effects(
            [['19-22', '23-27']],
            [['22-26', '28-32']],
            [FIRE],
        ), is_linked=(2, 'Divine Sword')),
        Spell('Destructive Sword', [6, 71, 138], Effects(
            [['19-22', '26-29', '32-36']],
            [['23-26', '31-35', '38-43']],
            [FIRE],
        ), is_linked=(1, 'Accumulation')),
        Spell('Accumulation', [115, 182], Effects(
            create_level_based_stacking_values(((19, 22), (22, 26),), (20, 24), 2),
            create_level_based_stacking_values(((22, 27), (26, 31),), (24, 24), 2),
            [EARTH]*2,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(2)],
        is_linked=(2, 'Destructive Sword')),
        Spell('Intimidation', [10, 77, 144], Effects(
            [['6', '8', '10']] * 5,
            [['7', '10', '12']] * 5,
            [NEUTRAL, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3]),
                        ('', [4])],),
        Spell('Violence', [125, 192], Effects(
            [['40', '50']],
            None,
            ['buff_pshdam'],
        ), stacks=4,),        
        Spell('Concentration', [25, 92, 159], Effects(
            [['19-21', '24-27', '30-34'],
             ['13-15', '16-19', '20-24']],
            [['23-26', '29-33', '36-41'],
             ['15-18', '19-23', '24-29']],
            [EARTH, EARTH],
        ), aggregates=[('Summons', [0]),
                        ('Others', [1])],
        is_linked=(1, 'Sword of Judgement')),
        Spell('Sword of Judgement', [135], Effects(
            [['31-35'],
             ['48-52']],
            [['37-42'],
             ['58-62']],
            [WATER, WATER],
        ), aggregates=[('', [0]),
                       ('In 2 turns', [1])],
        is_linked=(2, 'Concentration')),
        Spell('Fervour', [30, 97, 164], Effects(
            [['15-17', '19-22','24-27']],
            [['18-20', '23-26','29-32']],
            [WATER],
        ), is_linked=(1, 'Threat')),
        Spell('Threat', [140], Effects(
            [['26-28']],
            [['31-34']],
            [WATER],
        ), is_linked=(2, 'Fervour')),
        Spell('Strengthstorm', [45, 112, 179], Effects(
            [['17-20', '22-26', '27-31'],
             ['17-20', '22-26', '27-31'],
             ['17-20', '22-26', '27-31'],
             ['17-20', '22-26', '27-31'],
             ['21-25', '31-35', '41-45']],
            [['20-23', '27-31', '32-37'],
             ['20-23', '27-31', '32-37'],
             ['20-23', '27-31', '32-37'],
             ['20-23', '27-31', '32-37'],
             ['21-25', '31-35', '41-45']],
            [FIRE] * 5,
        ), aggregates=[('First target', [0]),
                       ('Second target not charged', [1, 2]),
                       ('Second target charged', [3, 4])],
        is_linked=(1, 'Tumult')),
        Spell('Tumult', [155], Effects(
            create_stacking_values(((19, 21),), 20, 5),
            create_stacking_values(((23, 25),), 20, 5),
            [FIRE] * 5,
        ), aggregates=[(str(n+1) + " targets", [n]) for n in range(5)],
        is_linked=(2, 'Strengthstorm')),
        Spell('Celestial Sword', [50, 117, 184], Effects(
            [['28-31', '31-35', '36-40']],
            [['34-37', '38-42', '43-48']],
            [AIR],
        ), is_linked=(1, 'Zenith')),
        Spell('Zenith', [160], Effects(
            [['27-29'], 
             ['52-58']],
            [['31-35'],
             ['64-70']],
            [AIR] * 2,
        ), aggregates=[('', [0, 1])],
        is_linked=(2, 'Celestial Sword')),
        Spell('Power', [55, 122, 189], Effects(
            [['100', '200', '300']],
            [['120', '240', '350']],
            ['buff_pow']
        ),),
        Spell('Endurance', [65, 131, 198], Effects(
            [['22-25', '27-30', '30-34']],
            [['27-30', '32-36', '36-41']],
            [WATER],
        ), is_linked=(1, 'Castigation')),
        Spell('Castigation', [175], Effects(
            [['34-38']],
            [['41-46']],
            [WATER],
        ), is_linked=(2, 'Endurance')),
        Spell('Sword of Iop', [70, 137], Effects(
            [['30-33', '37-41']],
            [['36-39', '44-49']],
            [EARTH],
        ), is_linked=(1, 'Pygmachia')),
        Spell('Pygmachia', [180], Effects(
            create_stacking_values(((9, 11),), 18, 4),
            create_stacking_values(((11, 13),), 18, 4),
            [EARTH]*4,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(4)],
        is_linked=(2, 'Sword of Iop')),
        Spell('Sword of Fate', [80, 147], Effects(
            [['31-34', '38-42'],
             ['61-64', '78-82']],
            [['37-40', '46-50'],
             ['67-70', '86-90']],
            [FIRE, FIRE],
         ), aggregates=[('Not Charged', [0]),
                        ('Charged', [1])],
        is_linked=(1, 'Pounding')),
        Spell('Pounding', [190], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Sword of Fate')),
        Spell('Cleaver', [85, 152], Effects(
            [['40-45', '47-53']],
            [['48-54', '56-64']],
            [WATER],
        ), is_linked=(1, 'Sentence')),
        Spell('Sentence', [195], Effects(
            [['13-16'],
             ['26-30']],
            [['16-19'],
             ['32-36']],
            [FIRE, FIRE],
        ), aggregates=[('Target', [0]),
                        ('Enemies near target', [1])]
        , is_linked=(2, 'Cleaver')),
        Spell('Fit of Rage', [90, 157], Effects(
            create_stacking_values(((23, 25), (28, 32),), 20, 3),
            create_stacking_values(((27, 29), (34, 38),), 20, 3),
            [EARTH] * 3,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(3)],
        is_linked=(1, 'Iop\'s Wrath')),
        Spell('Iop\'s Wrath', [200], Effects(
            [['81-100'],
             ['191-210']],
            [['97-120'],
             ['207-230']],
            [EARTH] * 2,
        ), aggregates=[('Not Charged', [0]),
                        ('Charged', [1])],
        is_linked=(2, 'Fit of Rage')), 
    ],
    'Masqueraider': [
        Spell('Brincaderia', [1, 67, 133], Effects(
            [['7-9', '10-12', '13-15']],
            [['10-12', '13-15', '16-18']],
            [FIRE],
        ), is_linked=(1, 'Picada')),
        Spell('Picada', [100, 167], Effects(
            [['20-22', '25-28']],
            [['23-26', '30-33']],
            [AIR],
        ), is_linked=(2, 'Brincaderia')),
        Spell('Catalepsy', [3, 69, 136], Effects(
            [['13-15', '18-20', '23-25']],
            [['16-18', '22-24', '28-30']],
            [EARTH],
            steals=[True],
        ), is_linked=(1, 'Decoy')),
        Spell('Decoy', [110, 177], Effects(
            [['20-23', '24-28']],
            [['24-28', '29-33']],
            [FIRE],
            steals=[True],
        ), is_linked=(2, 'Catalepsy')),
        Spell('Capering', [10, 77, 144], Effects(
            [['18-20', '23-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [AIR],
        ), is_linked=(1, 'Purgatorio')),
        Spell('Purgatorio', [120, 187], Effects(
            [['29-32', '32-36']],
            [['34-39', '38-43']],
            [FIRE],
        ), is_linked=(2, 'Capering')),
        Spell('Shove Off', [15, 82, 149], Effects(
            [['6-7', '7-8', '8-9']] * 4,
            [['8-9', '9-10', '10-11']] * 4,
            [AIR, WATER, EARTH, FIRE],
         ), aggregates=[('', [0, 1, 2, 3])]),
         Spell('Parafuso', [20, 87, 154], Effects(
            [['13-15', '17-19', '21-24']],
            [['16-18', '20-23', '25-29']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Martelo')),
         Spell('Martelo', [130, 197], Effects(
            [['20-22', '22-25']],
            [['24-27', '26-30']],
            [EARTH]
        ), is_linked=(2, 'Parafuso')),
        Spell('Inferno', [35, 102, 169], Effects(
            [['24-27', '31-34', '38-42'],
             ['100', '150', '200']],
            [['29-32', '37-40', '46-50'],
             ['100', '150', '200']],
            [FIRE, 'buff_pow'],
        ), is_linked=(1, 'Distance')),
        Spell('Distance', [145], Effects(
            [['24-26']],
            [['29-31']],
            [WATER],
        ), is_linked=(2, 'Inferno')),
        Spell('Furia', [50, 117, 184], Effects(
            [['21-23', '28-31', '35-39'],
             ['20', '30', '40']],
            [['25-28', '34-38', '42-47'],
             ['20', '30', '40']],
            [EARTH, 'buff_dam'],
        ), is_linked=(1, 'Bocciara')),
        Spell('Bocciara', [160], Effects(
            [['16-19'],
             ['80']],
            [['20-24'],
             ['80']],
            [WATER, 'buff_pshdam'],
        ), is_linked=(2, 'Furia')),
        Spell('Ponteira', [60, 127, 194], Effects(
            [['12-15', '15-18', '20-23']],
            [['16-19', '19-22', '24-28']],
            [WATER],
        ), is_linked=(1, 'Agular')),
        Spell('Agular', [170], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Picada')),
        Spell('Neurosis', [175], Effects(
            [['200']],
            None,
            ['buff_pow'],
        )),
        Spell('Cavalcade', [70, 137], Effects(
            [['31-34', '38-42']],
            [['37-40', '46-50']],
            [AIR],
        ), is_linked=(1, 'Apostasy')),
        Spell('Apostasy', [180], Effects(
            [['25-28']],
            [['30-34']],
            [FIRE],
        ), is_linked=(2, 'Cavalcade')),
        Spell('Apathy', [80, 147], Effects(
            [['23-26', '28-32']],
            [['27-31', '34-38']],
            [EARTH],
        ), is_linked=(1, 'Retention')),
        Spell('Retention', [190], Effects(
            [['27-31']],
            [['33-37']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Estrelia')),
        Spell('Boliche', [85, 152], Effects(
            [['21-23', '26-28']],
            [['25-27', '31-34']],
            [WATER],
        ), is_linked=(1, 'Ronda')),
        Spell('Ronda', [195], Effects(
            [['38-42']],
            [['46-50']],
            [EARTH],
        ), is_linked=(2, 'Boliche')),   
    ],
    'Osamodas': [
        Spell('Dragonic', [1, 66, 132], Effects(
            [['13-15', '17-20', '22-25']] * 2,
            [['16-18', '21-24', '27-30']] * 2,
            [FIRE] * 2, heals=[True, False],
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(1, 'Sparkmeleon')),
        Spell('Sparkmeleon', [95, 162], Effects(
            [['21-23', '26-29']] * 2,
            [['25-28', '31-35']] * 2,
            [FIRE] * 2, heals=[False, True],
        ), aggregates=[('Enemies', [0]), 
                       ('Allies', [1])],
        is_linked=(2, 'Dragonic')),
        Spell('Geyser', [1, 67, 133], Effects(
            [['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-33']],
            [WATER]
        ), is_linked=(1, 'Aquaculture')),
        Spell('Aquaculture', [100, 167], Effects(
            [['25-28', '28-31'],
             ['100', '150']],
            [['30-34', '33-37'],
             ['100', '150']],
            [WATER, 'buff_pow'],
        ), is_linked=(2, 'Geyser')),
        Spell('Canine', [3, 69, 136], Effects(
            [['12-14', '16-19', '21-24']],
            [['15-17', '20-22', '25-29']],
            [AIR],
        ), is_linked=(1, 'Gambol')),
        Spell('Gambol', [110, 177], Effects(
            [['15-17', '19-21']],
            [['18-20', '23-25']],
            [AIR],
        ), is_linked=(2, 'Canine')),
        Spell('Fossil', [6, 71, 138], Effects(
            [['13-15', '18-20', '23-25']],
            [['16-18', '22-24', '28-30']],
            [EARTH],
        ), is_linked=(1, 'Sedimentation')),
        Spell('Sedimentation', [115, 182], Effects(
            [['32-36', '38-42']],
            [['39-43', '46-50']],
            [EARTH],
        ), is_linked=(2, 'Aquatic Wave')),
        Spell('Scalding Poison', [20, 87, 154], Effects(
            [['11-13', '13-15', '15-17']],
            None,
            [WATER],
        ), is_linked=(1, 'Aquatic Wave')),
        Spell('Aquatic Wave', [130, 197], Effects(
            [['19-22', '25-29']],
            [['24-27', '31-35']],
            [WATER],
        ), is_linked=(2, 'Scalding Poison')),
        Spell('Flaming Crow', [25, 92, 159], Effects(
            [['4-6', '6-8', '8-10'],
            ['4-6', '6-8', '8-10'],
            ['7-15', '11-19', '15-23'],
            ['7-15', '11-19', '15-23'],
            ['10-24', '16-30', '22-36'],
            ['10-24', '16-30', '22-36']],
            [['7-9', '9-11', '11-13'],
             ['7-9', '9-11', '11-13'],
            ['12-20', '16-24', '20-28'],
            ['12-20', '16-24', '20-28'],
            ['17-31', '23-37', '29-41'],
            ['17-31', '23-37', '29-41']],
            [FIRE] * 6, heals=[False, True, False, True, False, True],
        ), aggregates=[('Not charged:<br>Enemies', [0]),
                    ('Allies', [1]),
                    ('Charged once:<br>Enemies', [2]),
                    ('Allies', [3]),
                    ('Charged twice:<br>Enemies', [4]),
                    ('Allies', [5])],
        is_linked=(1, 'Cross Scale')),
        Spell('Cross Scale', [135], Effects(
            [['33-36']] * 2,
            [['38-42']] * 2,
            [FIRE] * 2,
        ), aggregates=[('Allies', [0]),
                       ('Enemies', [1])],
        is_linked=(2, 'Flaming Crow')),
        Spell('Repulsive Fang', [35, 102, 169], Effects(
            [['11-13', '13-15', '15-17']],
            [['14-16', '16-18', '18-21']],
            [AIR],
        ), is_linked=(1, 'Takeoff')),
        Spell('Takeoff', [145], Effects(
            [['33-37']],
            [['38-43']],
            [AIR],
        ), is_linked=(2, 'Repulsive Fang')),
        Spell('Woolly Sledgehammer', [40, 107, 174], Effects(
            [['13-15', '16-18', '18-20']],
            [['16-18', '19-21', '21-23']],
            [EARTH],
        ), is_linked=(1, 'Gobball Fleece')),
        Spell('Gobball Fleece', [150], Effects(
            [['32-36']],
            [['38-43']],
            [EARTH],
        ), is_linked=(2, 'Woolly Sledgehammer')),
        Spell('Duster', [50, 117, 184], Effects(
            create_level_based_stacking_values(((21, 24), (24, 27), (29, 33)), (3, 4, 5), 6),
            create_level_based_stacking_values(((25, 28), (29, 32), (35, 40)), (3, 4, 5), 6),
            [AIR, AIR, AIR, AIR, AIR, AIR]
        ), aggregates=[('No Tofus', [0]),
                       ('One Tofu', [1]),
                       ('Two Tofus', [2]),
                       ('Three Tofus', [3]),
                       ('Four Tofus', [4]),
                       ('Five Tofus', [5])],
        is_linked=(1, 'Dragon Heart')),
        Spell('Dragon Heart', [160], Effects(
            [['22-24'],
             ['11-12'],
             ['22-24']],
            None,
            [FIRE] * 3, heals=[True, True, False],
        ), aggregates=[('Allies', [0]),
                       ('Caster', [1]),
                       ('Enemies', [2])],
        is_linked=(2, 'Duster')),
        Spell('Dragon\'s Breath', [55, 122, 189], Effects(
            [['20-23', '27-31', '31-35']] * 2,
            [['24-27', '32-37', '37-42']] * 2,
            [FIRE] * 2, heals=[False, True],
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(1, 'Constriction')),
        Spell('Constriction', [165], Effects(
            [['25-28']],
            [['30-33']],
            [EARTH],
            steals=[True],
        ), is_linked=(2, 'Dragon\'s Breath')),
        Spell('Crackler Punch', [65, 131, 198], Effects(
            [['24-27', '31-35', '39-44']],
            [['29-32', '37-41', '47-52']],
            [EARTH],
        ), is_linked=(1, 'Batra')),
        Spell('Batra', [175], Effects(
            [['27-30'],
             ['9-10']],
            [['32-35'],
             ['11-12']],
            [WATER] * 2,
        ), aggregates=[('', [0, 1])],
        is_linked=(2, 'Crackler Punch')),
        Spell('Whirlwind', [70, 134], Effects(
            [['23-26', '29-32']],
            [['28-31', '35-38']],
            [WATER],
        ), is_linked=(1, 'Plucking')),
        Spell('Plucking', [180], Effects(
            [['23-26']],
            [['28-31']],
            [AIR],
        ), is_linked=(2, 'Duster')),
        Spell('Animal Tandem', [80, 147], Effects(
            [['110', '150']],
            None,
            ['buff_pow'],
        )),    
    ],
    'Pandawa': [
        Spell('Explosive Palm', [1, 68, 134], Effects(
            create_level_based_stacking_values(((12, 14), (15, 17), (20, 22)), (6, 8, 12), 2),
            create_level_based_stacking_values(((14, 16), (19, 21), (24, 26)), (6, 8, 12), 2),
            [FIRE] * 2,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(2)],
        is_linked=(1, 'Distillation')),
        Spell('Distillation', [105, 172], Effects(
            [['8-10', '10-12'],
             ['10-13', '13-16'],
             ['14-17', '17-21'],
             ['26-29', '32-36']],
            [['10-12', '12-14'],
             ['12-15', '16-19'],
             ['16-20', '20-25'],
             ['31-35', '38-43']],
            [WATER] * 4,
        ), aggregates=[('Sober', [0, 1, 2]),
                       ('Drunk', [3])],
        is_linked=(2, 'Explosive Palm')),
        Spell('Hangover', [1, 67, 133], Effects(
            create_level_based_stacking_values(((14, 16), (19, 22), (24, 27)), (4, 6, 10), 2),
            create_level_based_stacking_values(((17, 19), (22, 25), (29, 32)), (4, 6, 10), 2),
            [EARTH]*2,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(2)],
        is_linked=(1, 'Fiery Breath')),
        Spell('Fiery Breath', [100, 167], Effects(
            [['31-34', '38-42']],
            [['37-40', '46-50']],
            [FIRE],
        ), is_linked=(2, 'Hangover')),
        Spell('Schnaps', [6, 71, 138], Effects(
            [['12-14', '17-19', '21-24']],
            [['15-17', '20-23', '25-29']],
            [AIR],
        ), is_linked=(1, 'Debauchery')),
        Spell('Debauchery', [115, 182], Effects(
            [['17-19', '20-22']],
            [['20-22', '24-26']],
            [EARTH],
        ), is_linked=(2, 'Schnaps')),
        Spell('Tipple', [10, 77, 144], Effects(
            [['15-17', '20-23', '25-28']],
            [['18-22', '24-27', '30-34']],
            [WATER],
        ), is_linked=(1, 'Numbness')),
        Spell('Numbness', [120, 187], Effects(
            [['31-34', '36-40']],
            [['37-41', '43-48']],
            [AIR],
        ), is_linked=(2, 'Tipple')),
        Spell('Stretcher', [20, 87, 154], Effects(
            [['18-20', '23-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [EARTH],
        ), is_linked=(1, 'Alcoshu')),
        Spell('Alcoshu', [130, 197], Effects(
            [['10-12', '11-13']],
            [['12-14', '13-16']],
            [WATER], steals=[True],
        ), is_linked=(2, 'Stretcher')),
        Spell('Pandilongation', [25, 92, 159], Effects(
            [['18-20', '23-25', '28-31']],
            [['21-23', '27-30', '34-37']],
            [FIRE],
        ), is_linked=(1, 'Liqueur')),
        Spell('Liqueur', [135], Effects(
            [['22-25']],
            [['26-30']],
            [AIR],
            steals=[True],
        ), is_linked=(2, 'Pandilongation')),
        Spell('Inebriation', [30, 97, 164], Effects(
            [['50', '50', '50']] + [['8', '10', '12']] * 5,
            None,
            ['buff_pow', NEUTRAL, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('', [0]),
                        ('Hit in best element', [1]),
                        ('', [2]),
                        ('', [3]),
                        ('', [4]),
                        ('', [5])]),
        Spell('Propulsion', [40, 107, 174], Effects(
            [['21-23', '27-30', '33-37']],
            [['25-28', '32-36', '40-44']],
            [AIR],
        ), is_linked=(1, 'Absinthe')),
        Spell('Absinthe', [150], Effects(
            [['12-15']],
            [['14-18']],
            [FIRE], steals=[True],
        ), is_linked=(2, 'Propulsion')),
        Spell('Brandy', [45, 112, 179], Effects(
            [['16-18', '22-24', '26-29']],
            [['20-22', '26-28', '31-35']],
            [WATER],
        ), is_linked=(1, 'Filthipint')),
        Spell('Filthipint', [155], Effects(
            [['34-38']],
            [['41-46']],
            [EARTH],
            steals=[True],
        ), is_linked=(2, 'Brandy')),
        Spell('Eviction', [60, 127, 194], Effects(
            [['11-13', '13-15', '15-17']],
            [['13-15', '16-18', '18-20']],
            [EARTH],
        ), is_linked=(1, 'Nausea')),
        Spell('Nausea', [170], Effects(
            [['15-17'],
             ['19-21']],
            [['18-20'],
             ['22-24']],
            [AIR] * 2,
        ), aggregates=[('Sober', [0]),
                       ('Drunk', [1])], 
        is_linked=(2, 'Eviction')),
        Spell('Explosive Flask', [65, 131, 198], Effects(
            [['13-15', '16-18', '18-20'],
             ['16-19', '20-22', '22-25']],
            [['16-18', '19-21', '22-24'],
             ['20-22', '24-27', '26-30']],
            [FIRE] * 2,
        ), aggregates=[('Sober', [0]),
                        ('Drunk', [1])],
        is_linked=(1, 'Pandatak')),
        Spell('Pandatak', [175], Effects(
            [['38-42'],
             ['46-50']],
            [['46-50'],
             ['54-58']],
            [EARTH] * 2,
        ), aggregates=[('Sober', [0]),
                        ('Drunk', [1])],
        is_linked=(2, 'Explosive Flask')),
        Spell('Alcoholic Breath', [75, 142], Effects(
            [['23-26', '28-32']],
            [['27-31', '34-38']],
            [AIR],
        ), is_linked=(1, 'Waterfall')),
        Spell('Waterfall', [185], Effects(
            [['24-28']],
            [['29-34']],
            [WATER],
        ), is_linked=(2, 'Alcoholic Breath')),
        Spell('Melancholy', [80, 147], Effects(
            [['29-32', '36-40'],
             ['35-38', '41-45']],
            [['35-39', '43-48'],
             ['44-48', '51-556']],
            [WATER] * 2,
        ), aggregates=[('Sober', [0]),
                       ('Drunk', [1])],
        is_linked=(1, 'Pandjiu')),
        Spell('Pandjiu', [190], Effects(
            [['28-32']],
            [['34-38']],
            [FIRE],
        ), is_linked=(2, 'Melancholy')),
        Spell('Pandawa\'s Hand', [200], Effects(
            [['50']] * 5 + [['5']] * 5,
            [['100']] * 5 + [['10']] * 5,
            [NEUTRAL, EARTH, FIRE, WATER, AIR] * 2,
        ), aggregates=[('Sober:<br>Hit in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3]),
                        ('', [4]),
                        ('Drunk', [5, 6, 7, 8, 9])]), 
    ],
    'Rogue': [
        Spell('Explobomb', [1, 67, 133], Effects(
            [['9-10', '13-14', '17-19'],
             ['21-24', '24-27', '30-33'],
             ['11-12', '12-14', '15-17']],
            None,
            [FIRE] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(1, 'Resilient Explobomb')),
        Spell('Resilient Explobomb', [100, 167], Effects(
            [['13-14', '17-19'],
             ['24-27', '30-33'],
             ['12-14', '15-17']],
            None,
            [FIRE] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(2, 'Explobomb')),
        Spell('Grenado', [1, 68, 134], Effects(
            [['9-10', '13-14', '17-19'],
             ['15-18', '18-21', '24-27'],
             ['8-9', '9-10', '12-14']],
            None,
            [AIR] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(1, 'Resilient Grenado')),
        Spell('Resilient Grenado', [105, 172], Effects(
            [['13-14', '17-19'],
             ['18-21', '24-27'],
             ['9-10', '12-14']],
            None,
            [AIR] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(2, 'Grenado')),
        Spell('Pulsar', [6, 71, 138], Effects(
            [['13-15', '18-20', '23-25']],
            [['16-18', '22-24', '28-30']],
            [FIRE],
        ), is_linked=(1, 'Shrapnel')),
        Spell('Shrapnel', [115, 182], Effects(
            [['14-16', '17-19']],
            [['17-19', '20-23']],
            [WATER],
        ), is_linked=(2, 'Pulsar')),
        Spell('Carbine', [15, 82, 149], Effects(
            [['14-16', '18-20', '23-25']],
            [['17-19', '22-24', '28-30']],
            [AIR],
        ), is_linked=(1, 'Obliteration')),
        Spell('Obliteration', [125, 192], Effects(
            create_level_based_stacking_values(((29, 32), (33, 37)), (7, 10), 6),
            create_level_based_stacking_values(((35, 39), (40, 44)), (7, 10), 6),
            [EARTH] * 6,
        ), aggregates=[(BOMB_LABELS[n], [n]) for n in range(6)],
        is_linked=(2, 'Carbine')),
        Spell('Seismobomb', [25, 92, 159], Effects(
            [['12-13', '16-17', '20-22'],
             ['15-18', '18-21', '24-27'],
             ['8-9', '9-10', '12-14']],
            None,
            [EARTH] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(1, 'Resilient Seismobomb')),
        Spell('Resilient Seismobomb', [135], Effects(
            [['20-22'],
             ['24-27'],
             ['12-14']],
            None,
            [EARTH] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(2, 'Seismobomb')),
        Spell('Water Bomb', [30, 97, 164], Effects(
            [['9-10', '13-14', '17-19'],
             ['15-18', '18-21', '24-27'],
             ['8-9', '9-10', '12-14']],
            None,
            [WATER] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(1, 'Resilient Water Bomb')),
        Spell('Resilient Water Bomb', [140], Effects(
            [['17-19'],
             ['24-27'],
             ['12-14']],
            None,
            [WATER] * 3,
        ), aggregates=[('Explosion', [0]),
                        ('Wall during caster turn', [1]),
                        ('Wall after caster turn', [2])],
        is_linked=(2, 'Water Bomb')),
        Spell('Bombard', [40, 107, 174], Effects(
            [['14-16', '18-20', '23-25']],
            [['17-19', '22-24', '28-30']],
            [EARTH],
        ), is_linked=(1, 'Machine Gun')),
        Spell('Machine Gun', [150], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, 'Bombard')),
        Spell('Stolen Goods', [45, 112, 179], Effects(
            [['17-19', '23-25', '28-30']],
            [['21-23', '28-30', '34-36']],
            [WATER],
        ), is_linked=(1, 'Weigh Down')),
        Spell('Weigh Down', [155], Effects(
            [['30-34']],
            [['37-42']],
            [FIRE],
        ), is_linked=(2, 'Stolen Goods')),
        Spell('Extraction', [55, 122, 184], Effects(
            [['16-18', '22-24', '28-30'],
             ['8-9', '11-12', '14-15']],
            [['20-22', '26-28', '32-36'],
             ['10-11', '13-14', '16-18']],
            [FIRE] * 2,
            steals=[True, True],
        ), aggregates=[('Enemies', [0]),
                        ('Allies', [1])],
        is_linked=(1, 'Cadence')),
        Spell('Cadence', [165], Effects(
            [['26-28']],
            [['31-34']],
            [AIR],
        ), is_linked=(2, 'Extraction')),
        Spell('Boomerang Daggers', [65, 131, 198], Effects(
            [['12-14', '14-16', '16-18']] * 2,
            [['14-16', '17-19', '19-21']] * 2,
            [AIR, AIR],
        ), aggregates=[('', [0, 1])],
        is_linked=(1, 'Blunderbuss')),
        Spell('Blunderbuss', [175], Effects(
            [['35-39']],
            [['42-47']],
            [WATER],
        ), is_linked=(2, 'Boomerang Daggers')),
        Spell('Sticky Bomb', [180], Effects(
            [['19']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3])]),
        Spell('Musket', [75, 142], Effects(
            [['15-17', '19-21']],
            [['18-20', '23-25']],
            [EARTH],
        ), is_linked=(1, 'Shot Pellets')),
        Spell('Shot Pellets', [185], Effects(
            [['30-34'],
             ['15-17']],
            [['34-40'],
             ['18-20']],
            [FIRE] * 2, steals=[True, True],
        ), aggregates=[('Enemies', [0]),
                        ('Allies', [1])],
        is_linked=(2, 'Musket')),
        Spell('Deception', [85, 152], Effects(
            [['27-30', '33-37']],
            [['32-36', '40-44']],
            [WATER],
        ), is_linked=(1, 'Arquebus')),
        Spell('Arquebus', [190], Effects(
            [['35-39']],
            [['42-47']],
            [EARTH],
        ), is_linked=(2, 'Deception')),  
    ],
    'Sacrier': [
        Spell('Hemorrhage', [1, 66, 132], Effects(
            [['13-16', '17-20', '22-26']],
            [['16-19', '21-24', '26-31']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Desolation')),
        Spell('Desolation', [95, 162], Effects(
            [['21-24', '26-30']],
            [['25-29', '31-36']],
            [AIR],
            steals=[True],
        ), is_linked=(2, 'Hemorrhage')), 
        Spell('Nervousness', [1, 67, 133], Effects(
            [['13-14', '16-18', '21-23'],
             ['21-23', '27-30', '35-39']],
            [['15-17', '20-22', '25-28'],
             ['25-28', '33-36', '42-47']],
            [[WATER]] * 2
        ), aggregates=[('Suffering 1', [0]),
                       ('Suffering 10', [1])],
        is_linked=(1, 'Immolation')),
        Spell('Immolation', [100, 167], Effects(
            [['34-37', '40-44']],
            [['41-45', '48-53']],
            [[FIRE]],
        ), is_linked=(2, 'Nervousness')),
        Spell('Torture', [3, 69, 136], Effects(
            [['13-16', '17-20', '22-26']],
            [['16-19', '21-24', '26-31']],
            [EARTH],
            steals=[True],
        ), is_linked=(1, 'Blood Bath')),
        Spell('Blood Bath', [110, 177], Effects(
            [['21-24', '27-31']],
            [['25-29', '32-37']],
            [EARTH],
            steals=[True],
        ), is_linked=(2, 'Torture')),
        Spell('Excruciating Pain', [6, 71, 138], Effects(
            [['12-14', '16-18', '20-23'],
             ['20-23', '27-31', '34-38']],
            [['15-16', '20-22', '24-27'],
             ['24-27', '33-37', '41-46']],
            [FIRE] * 2,
        ), aggregates=[('Suffering 1', [0]),
                        ('Suffering 10', [1])],
        is_linked=(1, 'Clobbering')),
        Spell('Clobbering', [115, 182], Effects(
            [['31-35', '39-43']],
            [['38-41', '47-52']],
            [WATER],
        ), is_linked=(2, 'Excruciating Pain')),
        Spell('Mutilation', [10, 77, 144], Effects(
            [['50', '100', '150']],
            None,
            ['buff_pow']
        )),
        Spell('Ravages', [20, 87, 154], Effects(
            [['17-20', '22-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [EARTH]
        ), is_linked=(1, 'Light Speed')),
        Spell('Light Speed', [130, 197], Effects(
            [['20-23', '22-26']],
            [['24-28', '26-31']],
            [AIR],
        ), is_linked=(2, 'Ravages')),
        Spell('Assault', [25, 92, 159], Effects(
            [['9-11', '11-14', '14-17']],
            [['11-13', '13-16', '17-20']],
            [AIR]
        ), is_linked=(1, 'Aversion')),
        Spell('Aversion', [135], Effects(
            [['12-15']],
            [['15-18']],
            [FIRE],
        ), is_linked=(2, 'Assault')),
        Spell('Condensation', [32, 102, 169], Effects(
            [['13-16', '17-20', '21-25']],
            [['16-19', '20-24', '25-30']],
            [WATER]
        ), is_linked=(1, 'Influx')),
        Spell('Influx', [145], Effects(
            [['12-15']],
            [['15-18']],
            [EARTH],
        ), is_linked=(2, 'Condensation')),
        Spell('Hostility', [40, 107, 174], Effects(
            [['9-11', '12-14', '15-18']],
            [['11-14', '14-17', '18-22']],
            [FIRE]
        ), is_linked=(1, 'Projection')),
        Spell('Projection', [150], Effects(
            [['14-17']],
            [['17-20']],
            [WATER],
        ), is_linked=(2, 'Hostility')),
        Spell('Absorption', [55, 122, 189], Effects(
            [['13-16', '17-20', '20-24']],
            [['16-19', '20-24', '24-29']],
            [FIRE],
        ), is_linked=(1, 'Slaughter')),
        Spell('Slaughter', [165], Effects(
            [['26-30']],
            [['31-36']],
            [FIRE],
            steals=[True],
        ), is_linked=(2, 'Absorption')),
        Spell('Decimation', [60, 127, 194], Effects(
            [['16-17', '19-22', '22-24'],
             ['26-29', '32-36', '36-40']],
            [['19-21', '22-26', '26-29'],
             ['31-35', '39-43', '43-48']],
            [EARTH] * 2,
        ), aggregates=[('Suffering 1', [0]),
                        ('Suffering 10', [1])],
        is_linked=(1, 'Carnage')),
        Spell('Carnage', [170], Effects(
            [['44-48']],
            [['53-58']],
            [AIR],
            steals=[True],
        ), is_linked=(2, 'Decimation')),
        Spell('Fury', [70, 137], Effects(
            [['18-20', '23-26'],
             ['30-34', '39-43']],
            [['22-24', '28-31'],
             ['36-40', '47-52']],
            [AIR] * 2,
        ), aggregates=[('Suffering 1', [0]),
                        ('Suffering 10', [1])],
        is_linked=(1, 'Gash')),
        Spell('Gash', [180], Effects(
            [['47-51']],
            [['56-61']],
            [EARTH],
        ), is_linked=(2, 'Fury')),
        Spell('Stase', [75, 142], Effects(
            [['16-19', '20-24']],
            [['19-23', '24-29']],
            [WATER],
            steals=[True]
        ), is_linked=(1, 'Dissolution')),
        Spell('Dissolution', [185], Effects(
            [['25-29']],
            [['30-35']],
            [WATER],
            steals=[True]
        ), is_linked=(2, 'Stase')),
        Spell('Retribution', [90, 157], Effects(
            [['28', '35']] * 4,
            [['34', '42']] * 4,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), 
                       ('', [1]),
                       ('', [2]),
                       ('', [3])],
        is_linked=(1, 'Bloodthirsty Madness')),
        Spell('Bloodthirsty Madness', [200], Effects(
            [['24-28']] * 4 + [['48-56']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR] * 2, steals=[True] * 8,
        ), aggregates=[('Steals in best element', [0]),
                          ('', [1]),
                          ('', [2]),
                          ('', [3]),
                        ('Steals in best element on caster\'s Swords', [4]),
                          ('', [5]),
                          ('', [6]),
                          ('', [7])],
        is_linked=(2, 'Retribution')), 
    ],
    'Sadida': [
        Spell('Bramble', [1, 67, 133], Effects(
            [['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32']],
            [EARTH],
        ), is_linked=(1, 'Poisoned Undergrowth')),
        Spell('Poisoned Undergrowth', [100, 167], Effects(
            [['20-23', '24-28']],
            None,
            [EARTH],
        ), is_linked=(2, 'Bramble')),
        Spell('Prickly Embers', [3, 69, 136], Effects(
            [['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32']],
            [FIRE],
        ), is_linked=(1, 'Mangrove')),
        Spell('Mangrove', [110, 177], Effects(
            [['19-21', '23-26'],
             ['26-28', '32-35']],
            [['23-25', '28-31'],
             ['30-32', '37-40']],
            [FIRE] * 2,
        ), aggregates=[('', [0]),
                        ('Leafy Tree', [1])],
        is_linked=(2, 'Prickly Embers')),
        Spell('Tear', [10, 77, 144], Effects(
            [['13-15', '18-20', '22-25']],
            [['16-18', '21-24', '26-30']],
            [WATER],
        ), is_linked=(1, 'Rise of Sap')),
        Spell('Rise of Sap', [120, 187], Effects(
            [['24-38', '28-32']],
            [['29-33', '34-38']],
            [WATER],
            steals=[True],
        ), is_linked=(2, 'Tear')),
        Spell('Paralysing Poison', [15, 82, 149], Effects(
            [['13-15', '18-20', '21-23']],
            None,
            [FIRE],
        ), is_linked=(1, 'Contamination')),
        Spell('Contamination', [125, 192], Effects(
            [['9-11', '11-13']],
            None,
            [AIR],
        ), is_linked=(2, 'Paralysing Poison')),
        Spell('Soothing Bramble', [20, 87, 154], Effects(
            [['46-50', '61-65', '76-80']],
            None,
            [FIRE],
            heals=[True],
         )),
         Spell('Earthquake', [35, 102, 169], Effects(
            [['22-25', '28-31', '34-38']],
            None,
            [EARTH],
        ), is_linked=(1, 'Shake')),
        Spell('Shake', [145], Effects(
            [['32-35']],
            None,
            [AIR],
        ), is_linked=(2, 'Earthquake')),
        Spell('Natural Gift', [40, 107, 174], Effects(
            [['30', '40', '50']],
            None,
            [FIRE],
            heals=[True],
        ), is_linked=(1, 'Inoculation')),
        Spell('Inoculation', [150], Effects(
            [['38-42'],
             ['29-33']],
            [['43-47'],
             ['34-38']],
            [AIR] * 2,
        ), aggregates=[('Leafy Tree', [0]),
                       ('Infected enemy', [1])],
        is_linked=(2, 'Natural Gift')),
        Spell('Manifold Bramble', [45, 112, 179], Effects(
            [['17-19', '22-25', '27-30']],
            [['20-23', '27-30', '32-36']],
            [EARTH],
        ), is_linked=(1, 'Bane')),
        Spell('Bane', [155], Effects(
            [['27-30']],
            [['31-35']],
            [WATER], steals=[True],
        ), is_linked=(2, 'Manifold Bramble')),
        Spell('Dolly Sacrifice', [50, 117, 184], Effects(
            [['27-30', '37-41', '43-48']] * 2,
            [['33-36', '44-49', '52-58']] * 2,
            [WATER, WATER],
            steals=[False, True],
        ), aggregates=[('Enemies', [0]),
                       ('Allies/Summons', [1])],
        is_linked=(1, 'Force of Nature')),
        Spell('Force of Nature', [160], Effects(
            create_stacking_values(((21, 27),), 15, 6),
            create_stacking_values(((29, 36),), 15, 6),
            [EARTH] * 6,
        ), aggregates=[(TREE_LABELS[n], [n]) for n in range(6)],
        is_linked=(2, 'Dolly Sacrifice')),
        Spell('Aggressive Bramble', [65, 131, 198], Effects(
            [['34-37', '40-45', '45-50']],
            [['40-45', '48-54', '54-60']],
            [EARTH],
        ), is_linked=(1, 'Plaguing Bramble')),
        Spell('Plaguing Bramble', [175], Effects(
            [['23-26']],
            None,
            [FIRE],
        ), is_linked=(2, 'Aggressive Bramble')),
        Spell('Wild Grass', [70, 137], Effects(
            [['20-23', '26-29']],
            [['24-27', '31-35']],
            [FIRE],
        ), is_linked=(1, 'Contagion')),
        Spell('Contagion', [180], Effects(
            [['39-43']],
            [['45-50']],
            [AIR],
        ), is_linked=(2, 'Wild Grass')),
        Spell('Bush Fire', [80, 147], Effects(
            [['9-11', '13-15']] * 2,
            [['11-13', '16-18']] * 2,
            [FIRE, WATER],
        ), aggregates=[('', [0, 1])],
        is_linked=(1, 'Voodoo Curse')),
        Spell('Voodoo Curse', [190], Effects(
            [['11-13'],
            ['11-13']] * 2,
            None,
            [FIRE, WATER] * 2,
        ), aggregates=[('', [0, 1]),
                       ('If the target loses MP', [2]),
                       ('If the target loses AP', [3])],
        is_linked=(2, 'Bush Fire')),
        Spell('Paralysing Bramble', [195], Effects(
            [['20-23']],
            [['24-28']],
            [AIR],
         )),  
    ],
    'Sram': [
        Spell('Gangsterdom', [1, 66, 132], Effects(
            [['15-17', '21-23', '26-29'],
             ['50', '100', '200']],
            [['19-21', '25-28', '31-35'],
             ['50', '100', '200']],
            [EARTH, 'buff_pow_traps'],
        ), is_linked=(1, 'Pitfall')),
        Spell('Pitfall', [95, 162], Effects(
            create_stacking_values(((24, 27), (30, 34)), 8, 6),
            create_stacking_values(((29, 33), (34, 38)), 8, 6),
            [EARTH] * 6,
        ), aggregates=[(TRAP_LABELS[n], [n]) for n in range(6)],
        is_linked=(2, 'Gangsterdom')),
        Spell('Deviousness', [1, 67, 133], Effects(
            [['18-21', '22-25', '26-29']],
            [['22-25', '26-29', '31-34']],
            [FIRE],
        ), is_linked=(1, 'Cut-Throat')),
        Spell('Cut-Throat', [100, 167], Effects(
            [['30-33', '34-38'],
             ['100', '100']],
            [['46-40', '40-44'],
             ['150', '150']],
            [FIRE, 'buff_pow'],
        ), aggregates=[('', [0,]),
                       ('', [1])], stacks=1, 
        is_linked=(2, 'Deviousness')),
        Spell('Arsenic', [3, 69, 136], Effects(
            [['8-10', '11-13', '14-16']],
            [['10-12', '13-15', '17-19']],
            [AIR],
        ), is_linked=(1, 'Toxines')),
        Spell('Toxines', [110, 177], Effects(
            create_level_based_stacking_values(((5, 7), (7, 9)), (5, 6), 6),
            None,
            [AIR] * 6,
        ), aggregates=[(TRAP_LABELS[n], [n]) for n in range(6)],
        is_linked=(2, 'Arsenic')),
        Spell('Cruelty', [6, 71, 138], Effects(
            [['13-15', '18-20', '22-25']],
            [['16-18', '21-24', '26-30']],
            [WATER],
        ), is_linked=(1, 'Jinx')),
        Spell('Jinx', [115, 182], Effects(
            [['29-32', '34-38']],
            [['35-39', '41-46']],
            [WATER], steals=[True],
        ), is_linked=(2, 'Cruelty')),
        Spell('Tricky Trap', [15, 82, 149], Effects(
            [['18-20', '22-24', '26-28']],
            None,
            [FIRE],
        ), special='trap',
        is_linked=(1, 'Waylaying')),
        Spell('Waylaying', [125, 192], Effects(
            [['19-22', '22-25']],
            [['23-26', '27-30']],
            [WATER], steals=[True],
        ), is_linked=(2, 'Tricky Trap')),
        Spell('Miry Trap', [20, 87, 154], Effects(
            [['21-25', '27-31', '33-37']],
            None,
            [WATER],
        ), is_linked=(1, 'Epidemic'),
        special='trap'),
        Spell('Epidemic', [130, 197], Effects(
            [['32-36', '36-40']],
            None,
            [AIR],
        ), is_linked=(2, 'Miry Trap')),
        Spell('Malevolent Trap', [25, 92, 159], Effects(
            create_level_based_stacking_values(((18, 20), (23, 26), (28, 32)), (10, 15, 20), 13),
            None,
            [EARTH] * 13,
        ), aggregates=[(CHARGED_LABELS[n], [n]) for n in range(13)],
        is_linked=(1, 'Break-In'),
        special='trap'),
        Spell('Break-In', [135], Effects(
            [['15-17']],
            [['19-21']],
            [FIRE],
        ), is_linked=(2, 'Malevolent Trap')),
        Spell('Repelling Trap', [30, 97, 164], Effects(
            [['12-14', '15-17', '19-21']],
            None,
            [AIR],
        ), special='trap',
        is_linked=(1, 'Frightful Trap')),
        Spell('Frightful Trap', [140], Effects(
            [['20-22']],
            None,
            [EARTH],
        ), special='trap',
        is_linked=(2, 'Repelling Trap')),
        Spell('Shakedown', [40, 107, 174], Effects(
            [['21-24', '26-29', '31-34'],
             ['40', '60', '100']],
            [['26-29', '31-34', '37-41'],
             ['60', '80', '120']],
            [EARTH, 'buff_str'],
        ), aggregates=[('', [0]),
                       ('', [1])], stacks=2,
        is_linked=(1, 'Perquisition')),
        Spell('Perquisition', [150], Effects(
            [['24-27']],
            [['29-32']],
            [FIRE],
        ), is_linked=(2, 'Shakedown')),
        Spell('Con', [45, 112, 179], Effects(
            [['18-20', '24-26', '29-32'],
             ['40', '60', '100']],
            [['22-24', '29-32', '35-38'],
             ['60', '80', '120']],
            [AIR, 'buff_agi'],
        ), aggregates=[('', [0]),
                       ('', [1])], stacks=2,
        is_linked=(1, 'Raiding')),
        Spell('Raiding', [155], Effects(
            [['29-34']],
            [['35-41']],
            [WATER],
        ), is_linked=(2, 'Con')),
        Spell('Larceny', [50, 117, 184], Effects(
            [['34-38', '38-42', '38-42'],
             ['20', '40', '80']],
            [['41-45', '46-50', '46-50'],
             ['40', '60', '100']],
            [WATER, 'buff_cha'],
        ), aggregates=[('', [0]),
                       ('', [1])], stacks=2, 
        is_linked=(1, 'Lethal Attack')),
        Spell('Lethal Attack', [160], Effects(
            [['43-48'],
             ['54-60']],
            [['52-58'],
             ['65-72']],
            [EARTH] * 2,
        ), aggregates=[('', [0]),
                       ('On target with less than 25% HP', [1])],
        is_linked=(2, 'Larceny')),
        Spell('Furrow', [55, 122, 189], Effects(
            [['24-26', '31-35', '36-40'],
             ['20', '40', '80']],
            [['28-31', '38-42', '43-48'],
             ['40', '60', '100']],
            [FIRE, 'buff_int'],
        ), aggregates=[('', [0]),
                       ('', [1])], stacks=2,
        is_linked=(1, 'Toxic Injection')),
        Spell('Toxic Injection', [165], Effects(
            [['28-32']],
            [['34-38']],
            [AIR],
        ), is_linked=(2, 'Furrow')),
        Spell('Drift Trap', [65, 131, 198], Effects(
            [['12-14', '15-17', '17-19']],
            None,
            [FIRE],
        ), special='trap',
        is_linked=(1, 'Insidious Trap')),
        Spell('Insidious Trap', [175], Effects(
            [['8-9']],
            None,
            [AIR],
        ), is_linked=(2, 'Drift Trap'),
        special='trap'),
        Spell('Sickrat Trap', [70, 137], Effects(
            [['13-15', '17-19']],
            None,
            [WATER],
        ), special='trap',
        is_linked=(1, 'Fragmentation Trap')),
        Spell('Fragmentation Trap', [180], Effects(
            [['13-17'],
             ['27-31'],
             ['37-41'],
             ['47-51']],
            None,
            [FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('At the center', [0]),
                       ('One tile away from the center', [1]),
                       ('Two tiles away from the center', [2]),
                       ('Three tiles away from the center', [3])],
        is_linked=(2, 'Sickrat Trap'),
        special='trap'),
        Spell('Chakra Concentration', [75, 142], Effects(
            [['13', '15']],
            None,
            [FIRE],
            steals=[True],
        )),
        Spell('Lethal Trap', [80, 147], Effects(
            [['31-35', '39-43'],
             ['39-44', '49-54']],
            None,
            [EARTH] * 2,
        ), aggregates=[('', [0]),
                       ('On target with less than 25% HP', [1])], 
        is_linked=(1, 'Calamity'),
        special='trap'),
        Spell('Calamity', [190], Effects(
            [['40-44']],
            None,
            [WATER],
        ), is_linked=(2, 'Lethal Trap'),
        special='trap'),
        Spell('Mistake', [85, 152], Effects(
            [['27-31', '32-36']],
            [['33-37', '38-43']],
            [AIR],
        ), is_linked=(1, 'Perfidy')),
        Spell('Perfidy', [195], Effects(
            [['56-60']],
            [['62-66']],
            [EARTH],
        ), is_linked=(2, 'Mistake')),
    ],
    'Xelor': [
        Spell('Slow Down', [1, 66, 132], Effects(
            [['6-8', '8-10', '11-13']],
            [['8-10', '10-12', '13-16']],
            [WATER],
        ), is_linked=(1, 'Souvenir')),
        Spell('Souvenir', [95, 162], Effects(
            [['23-26', '28-32']],
            [['27-31', '34-38']],
            [EARTH],
        ), is_linked=(2, 'Slow Down')),
        Spell('Hand', [1, 67, 133], Effects(
            [['11-14', '15-18', '19-23'],
             ['14', '18', '23']],
            [['14-16', '18-21', '23-28'],
             ['16', '21', '28']],
            [FIRE] * 2,
        ), aggregates=[('', [0]),
                       ('Leaving Telegraf state', [1])],
        is_linked=(1, 'Cog')),
        Spell('Cog', [100, 167], Effects(
            [['14-16', '17-20']],
            [['16-19', '20-24']],
            [WATER],
        ), is_linked=(2, 'Hand')),
        Spell('Shriveling', [3, 69, 136], Effects(
            [['14-16', '19-22', '25-28'],
             ['20-22', '26-29', '33-36']],
            [['18-20', '23-26', '30-34'],
             ['24-26', '31-35', '40-43']],
            [AIR] * 2,
        ), aggregates=[('', [0]),
                       ('Telegraf state', [1])],
        is_linked=(1, 'Drying Up')),
        Spell('Drying Up', [110, 177], Effects(
            create_level_based_stacking_values(((27, 31), (34, 38)), (7, 10), 6),
            None,
            [AIR] * 6,
        ), aggregates=[(REBOUND_LABELS[n], [n]) for n in range(6)], 
        is_linked=(2, 'Shriveling')),
        Spell("Xelor's Punch", [10, 77, 144], Effects(
            [['14-16', '19-22', '23-27']],
            [['16-19', '22-26', '28-32']],
            [EARTH],
        ), is_linked=(1, 'Gear')),
        Spell('Gear', [120, 187], Effects(
            [['24-27', '27-31']],
            [['28-32', '33-37']],
            [EARTH],
        ), is_linked=(2, "Xelor's Punch")),
        Spell('Frostbite', [20, 87, 154], Effects(
            [['7-9', '9-11', '11-13']],
            [['8-10', '10-12', '13-16']],
            [AIR],
        ), is_linked=(1, 'Disruption')),
        Spell('Disruption', [130, 197], Effects(
            [['15-17', '17-19']],
            [['18-20', '20-23']],
            [FIRE],
        ), is_linked=(2, 'Frostbite')),
        Spell("Xelor's Sandglass", [25, 92, 159], Effects(
            [['17-19', '20-22', '23-26']],
            [['20-22', '23-26', '27-30']],
            [FIRE],
        ), is_linked=(1, 'Temporal Distortion')),
        Spell('Temporal Distortion', [135], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, "Xelor's Sandglass")),
        Spell('Time Theft', [30, 97, 164], Effects(
            [['19-21', '24-27', '30-34']],
            [['23-26', '29-33', '36-41']],
            [WATER],
        ), is_linked=(1, 'Petrification')),
        Spell('Petrification', [140], Effects(
            [['34-38']],
            [['41-46']],
            [WATER],
        ), is_linked=(2, 'Time Theft')),
        Spell('Temporal Dust', [40, 107, 174], Effects(
            [['20-22', '26-28', '32-35']],
            [['24-27', '31-34', '38-42']],
            [FIRE],
        ), is_linked=(1, 'Temporal Suspension')),
        Spell('Temporal Suspension', [150], Effects(
            [['25-29']],
            [['30-35']],
            [FIRE],
        ), is_linked=(2, 'Temporal Dust')),
        Spell('Loss of Motivation', [50, 117, 184], Effects(
            [['14-16', '20-22', '23-26']],
            [['17-20', '23-27', '28-31']],
            [EARTH],
        ), is_linked=(1, 'Pendulum')),
        Spell('Pendulum', [160], Effects(
            [['38-42']],
            [['46-50']],
            [AIR],
        ), is_linked=(2, 'Loss of Motivation')),
        Spell('Clock', [75, 142], Effects(
            [['29-31', '36-39']],
            [['35-38', '43-47']],
            [WATER], steals=[True],
        ), is_linked=(1, 'Water Clock')),
        Spell('Water Clock', [185], Effects(
            [['32-36']],
            [['38-43']],
            [WATER],
        ), is_linked=(2, 'Clock')),
        Spell('Dark Ray', [80, 147], Effects(
            [['34-37', '40-44'],
             ['47-53', '59-67']],
            [['39-43', '47-51'],
             ['57-65', '73-81']],
            [EARTH] * 2,
        ), aggregates=[('', [0]),
                       ('Telegraf state', [1])],
        is_linked=(1, 'Shadowy Beam')),
        Spell('Shadowy Beam', [190], Effects(
            [['20-22']],
            [['24-26']],
            [EARTH],
        ), is_linked=(2, 'Dark Ray')),
        Spell('Knell', [200], Effects(
            [['6']] * 4,
            None,
            [AIR, WATER, EARTH, FIRE],
        ), aggregates=[('', [0, 1, 2, 3])]),
    ],
    'Eliotrope': [
        Spell('Insult', [1, 67, 133], Effects(
            [['15-17', '20-22', '26-28']],
            [['18-20', '24-26', '31-34']],
            [AIR],
        ), is_linked=(1, 'Contempt')),
        Spell('Contempt', [100, 167], Effects(
            [['19-22', '24-27']],
            [['23-26', '29-32']],
            [AIR],
        ), is_linked=(2, 'Insult')),
        Spell('Audacious', [1, 68, 134], Effects(
            [['15-17', '20-23', '26-29']],
            [['19-21', '24-27', '31-35']],
            [WATER],
        ), is_linked=(1, 'Tribulation')),
        Spell('Tribulation', [105, 172], Effects(
            [['17-19', '21-24']],
            [['20-23', '25-29']],
            [WATER],
        ), is_linked=(2, 'Affliction')),
        Spell('Shock', [3, 69, 136], Effects(
            [['11-13', '15-17', '19-21']],
            [['14-16', '18-20', '22-25']],
            [EARTH],
        ), is_linked=(1, 'Convulsion')),
        Spell('Convulsion', [110, 177], Effects(
            [['16-18', '20-22']],
            [['19-21', '24-26']],
            [EARTH],
        ), is_linked=(2, 'Shock')),
        Spell('Wakfu Ray', [6, 71, 138], Effects(
            [['15-17', '21-23', '26-28']] * 2,
            [['18-20', '25-27', '31-34']] * 2,
            [FIRE, FIRE],
            heals=[False, True],
        ), aggregates=[('Enemies', [0]),
                       ('Allies', [1])],
        is_linked=(1, 'Lazybeam')),
        Spell('Lazybeam', [115, 182], Effects(
            [['23-26', '27-31']] * 2,
            [['27-32', '32-37']] * 2,
            [FIRE, FIRE],
            steals=[False, True],
        ), aggregates=[('Directly', [0]),
                       ('Through a portal', [1])],
        is_linked=(2, 'Wakfu Ray')),
        Spell('Offence', [13, 82, 149], Effects(
            [['20-23', '25-29', '31-36']],
            [['23-27', '30-35', '37-43']],
            [FIRE],
        ), is_linked=(1, 'Composure')),
        Spell('Composure', [125, 192], Effects(
            [['28-31', '32-36']],
            [['33-37', '39-43']],
            [WATER],
        ), is_linked=(2, 'Offence')),
        Spell('Therapy', [25, 92, 159], Effects(
            [['12-14', '16-18', '21-23']],
            [['15-17', '20-22', '26-28']],
            [EARTH],
        ), is_linked=(1, 'Snub')),
        Spell('Snub', [135], Effects(
            [['23-26']],
            [['28-31']],
            [EARTH],
        ), is_linked=(2, 'Therapy')),
        Spell('Bullying', [40, 107, 174], Effects(
            [['14-16', '18-20', '23-25']],
            [['17-19', '22-24', '28-30']],
            [AIR],
        ), is_linked=(1, 'Sermon')),
        Spell('Sermon', [150], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, 'Bullying')),
        Spell('Affliction', [50, 117, 184], Effects(
            [['16-18', '20-23', '25-28']] * 3,
            [['19-21', '24-27', '30-34']] * 3,
            [WATER] * 3,
        ), aggregates=[('Directly', [0]),
                       ('Through a portal', [1, 2])],
        is_linked=(1, 'Affront')),
        Spell('Affront', [160], Effects(
            [['20-23']] * 2,
            [['24-28']] * 2,
            [FIRE] * 2, steals=[False, True],
        ), aggregates=[('Directly', [0]),
                       ('Through a portal', [1])],
        is_linked=(2, 'Affliction')),
        Spell('Lightning Fist', [65, 131, 198], Effects(
            [['14-16', '19-21', '23-25']],
            [['17-19', '23-25', '28-30']],
            [WATER],
        ), is_linked=(1, 'Insolence')),
        Spell('Insolence', [175], Effects(
            [['25-28']],
            [['30-34']],
            [WATER],
        ), is_linked=(2, 'Lightning Fist')),
        Spell('Focus', [70, 137], Effects(
            [['75', '100'],
             ['150', '200']],
            None,
            ['buff_pow', 'buff_pow'],
        ), aggregates=[('Directly', [0]),
                       ('Through a portal', [1])]),
        Spell('Parasite', [75, 142], Effects(
            [['27-30', '33-37']] * 3,
            [['32-36', '40-44']] * 3,
            [FIRE] * 3,
        ), aggregates=[('Directly', [0]),
                       ('Through a portal', [1, 2])],
        is_linked=(1, 'Virus')),
        Spell('Virus', [185], Effects(
            [['34-38']],
            [['41-46']],
            [FIRE],
        ), is_linked=(2, 'Parasite')),
        Spell('Sinecure', [80, 147], Effects(
            [['9-11', '12-14']],
            [['12-14', '15-17']],
            [AIR],
        ), is_linked=(1, 'Persiflage')),
        Spell('Persiflage', [190], Effects(
            [['25-29']],
            [['30-35']],
            [EARTH],
        ), is_linked=(2, 'Sinecure')),
        Spell('Sarcasm', [85, 152], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [EARTH],
        ), is_linked=(1, 'Ridicule ')),
        Spell('Ridicule', [195], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Sarcasme')), 
    ],
    'Huppermage': [
        Spell('Telluric Wave', [1, 67, 133], Effects(
            [['15-19', '20-24', '25-29']],
            [['20-24', '25-29', '30-34']],
            [EARTH],
        ), is_linked=(1, 'Cataract')),
        Spell('Cataract', [100, 167], Effects(
            [['15-17', '18-20']] * 2,
            [['18-20', '21-23']] * 2,
            [WATER, FIRE],
        ), aggregates=[('', [0, 1])],
        is_linked=(2, 'Telluric Wave')),
        Spell('Ether', [1, 66, 132], Effects(
            [['12-14', '16-18', '20-22']],
            [['15-17', '19-21', '23-25']],
            [AIR],
        ), is_linked=(1, 'Stinger')),
        Spell('Stinger', [95, 162], Effects(
            [['13-15', '16-18']] * 2,
            [['16-18', '19-21']] * 2,
            [EARTH, WATER],
        ), aggregates=[('', [0, 1])], 
        is_linked=(2, 'Ether')),
        Spell('Runification', [1, 68, 134], Effects(
            [['9', '12', '15']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Target in earth state', [0]),
                       ('Target in fire state', [1]),
                       ('Target in water state', [2]),
                       ('Target in air state', [3])],
        is_linked=(1, 'Manifestation')),
        Spell('Manifestation', [105, 172], Effects(
            [['15', '15']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Target in earth state', [0]),
                       ('Target in fire state', [1]),
                       ('Target in water state', [2]),
                       ('Target in air state', [3])],
        is_linked=(2, 'Runification')),
        Spell('Flamethrower', [3, 69, 136], Effects(
            [['12-14', '16-18', '20-22']],
            [['16-18', '20-22', '24-26']],
            [FIRE],
        ), is_linked=(1, 'Celestial Wave')),
        Spell('Celestial Wave', [110, 177], Effects(
            [['11-13', '14-16']] * 2,
            [['14-16', '17-19']] * 2,
            [AIR, EARTH],
        ), aggregates=[('', [0, 1])],
        is_linked=(2, 'Flamethrower')),
        Spell('Stalagmite', [6, 71, 138], Effects(
            [['18-21', '23-26', '28-31']],
            [['24-27', '29-32', '34-37']],
            [WATER],
        ), is_linked=(1, 'Ember')),
        Spell('Ember', [115, 182], Effects(
            [['15-17', '18-20']] * 2,
            [['18-20', '21-23']] * 2,
            [FIRE, AIR],
        ), aggregates=[('', [0, 1])], 
        is_linked=(2, 'Stalagmite')),
        Spell('Elemental Drain', [9, 47, 87], Effects(
            [['15-19', '19-23', '23-27']] * 4
            + [['50', '100', '180']] * 4,
            [['19-23', '23-27', '27-31']] * 4
            + [['60', '120', '200']] * 4,
            [EARTH, FIRE, WATER, AIR,
             'buff_str', 'buff_int', 'buff_cha', 'buff_agi'], 
        ), aggregates=[('Target in earth state', [0]),
                       ('', [4]),
                       ('Target in fire state', [1]),
                       ('', [5]),
                       ('Target in water state', [2]),
                       ('', [6]),
                       ('Target in air state', [3]),
                       ('', [7])],
        is_linked=(1, 'Morph')),
        Spell('Morph', [120, 187], Effects(
            [['24-27', '28-32']] * 4,
            [['29-33', '34-38']] * 4,
            [WATER, EARTH, AIR, FIRE], 
        ), aggregates=[('Target in water state', [0]),
                       ('Target in earth state', [1]),
                       ('Target in air state', [2]),
                       ('Target in fire state', [3])],
        is_linked=(2, 'Elemental Drain')),
        Spell('Storm', [15, 82, 149], Effects(
            [['24-28', '29-33', '34-38']],
            [['29-33', '34-38', '39-43']],
            [EARTH],
            steals=[True]
        ), is_linked=(1, 'Stalactite')),
        Spell('Stalactite', [125, 192], Effects(
            [['20-22', '23-25']],
            [['24-26', '26-28']],
            [WATER],
        ), is_linked=(2, 'Glacier')),
        Spell('Transfixing Gust', [20, 87, 154], Effects(
            [['20-22', '25-28', '31-35']],
            [['23-26', '30-34', '35-39']],
            [AIR],
            steals=[True]
        ), is_linked=(1, 'Tectonic Breach')),
        Spell('Tectonic Breach', [130, 197], Effects(
            [['12-14', '14-16']],
            [['15-17', '17-19']],
            [EARTH],
        ), is_linked=(2, 'Transfixing Gust')),
        Spell('Burning Stroke', [30, 97, 164], Effects(
            [['23-27', '28-32', '33-37']],
            [['28-32', '33-37', '38-42']],
            [FIRE],
            steals=[True]
        ), is_linked=(1, 'Hurricane')),
        Spell('Hurricane', [140], Effects(
            [['17-19']],
            [['20-22']],
            [AIR]
        ), is_linked=(2, 'Burning Stroke')),
        Spell('Glacier', [32, 102, 169], Effects(
            [['22-26', '28-32', '34-38']],
            [['26-30', '32-36', '38-42']],
            [WATER],
            steals=[True]
        ), is_linked=(1, 'Volcano')),
        Spell('Volcano', [145], Effects(
            [['19-21']],
            [['22-24']],
            [FIRE]
        ), is_linked=(2, 'Glacier')),
        Spell('Journey', [40, 107, 174], Effects(
            [['15-24', '23-32', '31-40']] * 4,
            [['25-34', '33-42', '41-50']] * 4,
            [EARTH, FIRE, WATER, AIR], 
        ), aggregates=[('Target in earth state', [0]),
                       ('Target in fire state', [1]),
                       ('Target in water state', [2]),
                       ('Target in air state', [3])]),
        Spell('Deflagration', [50, 117, 184], Effects(
            [['22-26', '26-30', '30-34']],
            [['26-30', '30-34', '34-38']],
            [FIRE],
        ), is_linked=(1, 'Comet')),
        Spell('Comet', [160], Effects(
            [['28-32']],
            [['32-36']],
            [AIR],
        ), is_linked=(2, 'Deflagration')),
        Spell('Contribution', [55, 122, 189], Effects(
            [['150'] * 3],
            None,
            ['buff_pow']
        ), aggregates=[('Target in water state', [0])], stacks=2),
        Spell('Icy Shards', [60, 127, 194], Effects(
            [['24-28', '29-33', '34-38']],
            [['28-32', '33-37', '38-42']],
            [WATER],
        ), is_linked=(1, 'Sun Lance')),
        Spell('Sun Lance', [170], Effects(
            [['34-38']],
            [['39-43']],
            [FIRE],
        ), is_linked=(2, 'Icy Shards')),
        Spell('Runic Overcharge', [175], Effects(
            [['10']] * 4,
            None,
            [WATER, FIRE, AIR, EARTH],
        ), aggregates=[('For each of the caster\'s runes', [0, 1, 2 , 3])]),
        Spell('Astral Blade', [75, 142], Effects(
            [['26-28', '32-35']],
            [['31-34', '36-39']],
            [AIR],
        ), is_linked=(1, 'Telluric Blade')),
        Spell('Telluric Blade', [185], Effects(
            [['34-38']],
            [['41-46']],
            [EARTH],
        ), is_linked=(2, 'Astral Blade')),
        Spell('Striking Meteor', [80, 147], Effects(
            [['20-24', '30-34']],
            [['24-27', '34-37']],
            [EARTH],
        ), is_linked=(1, 'Flood')),
        Spell('Flood', [190], Effects(
            [['31-35']],
            [['37-42']],
            [WATER],
        ), is_linked=(2, 'Striking Meteor')),
        Spell('Tribute', [90, 157], Effects(
            [['150', '150']],
            None,
            ['buff_pow'],
        ), is_linked=(1, 'Arcane Torrent')),
        Spell('Arcane Torrent', [200], Effects(
            [['6']] * 4 + [['9']] * 4 + [['12']] * 4 + [['15']] * 4 + [['18']] * 4 + [['21']] * 4,
            [['8']] * 4 + [['11']] * 4 + [['14']] * 4 + [['17']] * 4 + [['20']] * 4 + [['23']] * 4,
            [AIR, EARTH, FIRE, WATER] * 6,
        ), aggregates=[('1 combination', [0, 1, 2, 3]),
                        ('2 combinations', [4, 5, 6, 7]),
                        ('3 combinations', [8, 9, 10, 11]),
                        ('4 combinations', [12, 13, 14, 15]),
                        ('5 combinations', [16, 17, 18, 19]),
                        ('6 combinations', [20, 21, 22, 23])],
        is_linked=(2, 'Tribute')),
    ],
    'Ouginak': [
        Spell('Watchdog', [1, 67, 133], Effects(
            [['18-20', '24-27', '31-34']],
            [['22-24', '29-32', '37-41']],
            [EARTH],
        ), is_linked=(1, 'Jaw')),
        Spell('Jaw', [100, 167], Effects(
            [['23-35', '28-31']],
            [['27-30', '34-37']],
            [FIRE],
        ), is_linked=(2, 'Watchdog')),
        Spell('Marrow Bone', [1, 68, 134], Effects(
            create_level_based_stacking_values(((12, 14), (16, 19), (21, 24)), 
                                               (6, 7, 8), 5),
            create_level_based_stacking_values(((15, 17), (20, 22), (25, 29)), 
                                               (6, 7, 8), 5),
            [[WATER]] * 5,
        ), aggregates=[('', [0]),
                       ('After hitting a Prey once', [1]),
                       ('After hitting a Prey twice', [2]),
                       ('After hitting a Prey 3x', [3]),
                       ('After hitting a Prey 4x', [4])],
        is_linked=(1, 'Muzzle')),
        Spell('Muzzle', [105, 172], Effects(
            create_level_based_stacking_values(((30, 33), (37, 41)),
                                                  (18, 22), 5),
            create_level_based_stacking_values(((30, 33), (36, 39)),
                                                  (18, 22), 5),
            [EARTH] * 5,
        ), aggregates=[('', [0]),
                       ('1 ennemy adjacent to a Prey', [1]),
                        ('2 enemies adjacent to a Prey', [2]),
                        ('3 enemies adjacent to a Prey', [3]),
                        ('4 enemies adjacent to a Prey', [4])],
        is_linked=(2, 'Marrow Bone')),
        Spell('Carrion', [3, 69, 136], Effects(
            [['18-20', '25-27', '29-32']],
            [['22-24', '30-33', '35-38']],
            [AIR],
        ), is_linked=(1, 'Radius')),
        Spell('Radius', [110, 177], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [WATER],
        ), is_linked=(2, 'Carrion')),
        Spell('Tracking', [6, 71, 138], Effects(
            [['19-21', '25-28', '31-35']],
            [['22-25', '30-34', '37-42']],
            [FIRE],
        ), is_linked=(1, 'Carving Up')),
        Spell('Carving Up', [115, 182], Effects(
            [['34-38', '40-45']],
            [['41-46', '48-54']],
            [AIR],
        ), is_linked=(2, 'Tracking')),
        Spell('Mastiff', [20, 87, 154], Effects(
            [['10-11', '13-15', '17-19']] * 2,
            [['13-15', '16-18', '20-23']] * 2,
            [EARTH,EARTH],
            steals=(False, True)
        ), aggregates=[('', [0]),
                       ('If the target is Prey', [1])],
        is_linked=(1, 'Stripping')),
        Spell('Stripping', [130, 197], Effects(
            create_level_based_stacking_values(((31, 35), (35, 39)),
                                                  (16, 20), 5),
            create_level_based_stacking_values(((38, 42), (42, 47)),
                                                  (16, 20), 5),
            [AIR] * 5,
        ), aggregates=[('', [0]),
                        ('1 ally adjacent to a Prey', [1]),
                        ('2 allies adjacent to a Prey', [2]),
                        ('3 allies adjacent to a Prey', [3]),
                        ('4 allies adjacent to a Prey', [4])],
        is_linked=(2, 'Mastiff')),
        Spell('Tibia', [25, 92, 159], Effects(
            [['25-28', '32-36', '40-45']],
            [['30-34', '39-43', '48-54']],
            [WATER],
        ), is_linked=(1, 'Humerous')),
        Spell('Humerous', [135], Effects(
            [['41-46']],
            [['49-55']],
            [EARTH],
        ), is_linked=(2, 'Tibia')),
        Spell('R-Canine', [30, 97, 164], Effects(
            [['50', '70', '100']],
            None,
            ['buff_pow'],
        ), stacks=2),
        Spell('Tally Ho', [35, 102, 169], Effects(
            [['18-20', '23-26', '29-31']],
            [['22-24', '28-30', '35-37']],
            [FIRE],
        ), is_linked=(1, 'Hunt')),
        Spell('Hunt', [145], Effects(
            [['39-44']],
            [['47-53']],
            [FIRE],
        ), is_linked=(2, 'Tally Ho')),
        Spell('Carcass', [40, 107, 174], Effects(
            create_level_based_stacking_values(((5, 7), (7, 9), (9, 11)), 
                                               (4, 5, 6), 5),
            create_level_based_stacking_values(((3, 8), (9, 11), (11, 13)), 
                                               (4, 5, 6), 5),
            [[AIR]] * 6,
        ), aggregates=[('', [0]),
                       ('After hitting a Prey once', [1]),
                       ('After hitting a Prey twice', [2]),
                       ('After hitting a Prey 3x', [3]),
                       ('After hitting a Prey 4x', [4])],
        is_linked=(1, 'Beaten')),
        Spell('Beaten', [150], Effects(
            [['27-30'],
             ['75']],
            [['32-36'],
             ['75']],
            [AIR, 'buff_pow'],
        ), aggregates=[('If the target is Prey, stack x2', [0]),
                       ('', [1])], stacks=2,
        is_linked=(2, 'Carcass')),
        Spell('Woof', [50, 117, 184], Effects(
            [['12-14', '17-19', '20-22']] * 2,
            [['15-17', '20-22', '24-26']] * 2,
            [FIRE] * 2,
            steals=[False, True],
        ), aggregates=[('', [0]),
                       ('If the target is Prey', [1])],
        is_linked=(1, 'Vertebra')),
        Spell('Vertebra', [160], Effects(
            [['32-36']],
            [['38-43']],
            [WATER],
        ), is_linked=(2, 'Woof')),
        Spell('Ulna', [55, 122, 189], Effects(
            [['10-12', '14-16', '16-18']],
            [['12-14', '16-18', '19-22']],
            [WATER],
        ), is_linked=(1, 'Calcaneus')),
        Spell('Calcaneus', [165], Effects(
            [['14-16']],
            [['17-19']],
            [WATER],
        ), is_linked=(2, 'Ulna')),
        Spell('Amarok', [65, 131, 198], Effects(
            [['21-23', '25-28', '28-31']],
            [['25-28', '30-33', '34-37']],
            [EARTH],
        ), is_linked=(1, 'Cerberus')),
        Spell('Cerberus', [175], Effects(
            [['15-18'],
             ['21-25'],
             ['15-18'],
             ['15-18'],
             ['13-14'],
             ['13-14'],
             ['13-14']],
            [['19-23'],
             ['26-30'],
             ['19-22'],
             ['19-22'],
             ['15-16'],
             ['15-16'],
             ['15-16']],
            [EARTH] * 7,
        ), aggregates=[('No Rage', [0]),
                        ('Rage', [1]),
                        ('Raage', [2, 3]),
                        ('Animal Form', [4, 5, 6])],
        is_linked=(2, 'Amarok')),
        Spell('Gnaw', [185], Effects(
            [['80']],
            None,
            ['buff_pow'],
        ), stacks=3),
        Spell('Bloodhound', [80, 147], Effects(
            [['23-25', '28-31']],
            [['27-30', '34-37']],
            [AIR],
        ), is_linked=(1, 'Tetanisation')),
        Spell('Tetanisation', [190], Effects(
            [['41-46']],
            [['49-55']],
            [FIRE],
        ), is_linked=(2, 'Bloodhound')),   
    ],
    'Forgelance': [
        Spell('Lance of the Lake', [1, 66, 132], Effects(
            [['13-15', '17-20', '22-25']],
            [['16-18', '21-23', '26-30']],
            [WATER],
        ), is_linked=(1, 'Seismic Pike')),
        Spell('Seismic Pike', [95, 162], Effects(
            [['21-24', '26-29']],
            [['25-29', '31-36']],
            [EARTH],
        ), is_linked=(2, 'Lance of the Lake')),
        Spell('Slingshot', [1, 67, 133], Effects(
            [['15-17', '19-21', '25-28']],
            [['18-20', '22-25', '30-34']],
            [EARTH],
        ), is_linked=(1, 'Lightning-Javelin')),
        Spell('Lightning-Javelin', [100, 167], Effects(
            [['23-26', '28-32']],
            [['28-31', '35-39']],
            [WATER],
        ), is_linked=(2, 'Slingshot')),
        Spell('Parry', [105, 172], Effects(
            [['24', '30']] * 4,
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), 
                       ('', [1]),
                       ('', [2]),
                       ('', [3])]),
        Spell('Fire Lance', [3, 69, 136], Effects(
            [['12-13', '16-19', '21-24']],
            [['15-17', '20-22', '25-29']],
            [FIRE],
        ), is_linked=(1, 'Disengaging')),
        Spell('Disengaging', [110, 177], Effects(
            [['23-26', '29-32']],
            [['28-31', '35-38']],
            [AIR],
        ), is_linked=(2, 'Fire Lance')),
        Spell('No Myr Javelin', [6, 71, 138], Effects(
            [['16-18', '21-24', '26-30']],
            [['19-21', '25-29', '31-36']],
            [AIR],
        ), is_linked=(1, 'Hot Iron')),
        Spell('Hot Iron', [115, 182], Effects(
            [['17-20', '20-23']],
            [['20-23', '24-28']],
            [FIRE],
        ), is_linked=(2, 'No Myr Javelin')),
        Spell('Heroic Charge', [10, 77, 144], Effects(
            [['20', '27', '33']] * 4,
            [['24', '32', '40']] * 4,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3])],),
        Spell('Collapse', [15, 82, 149], Effects(
            [['13-15', '16-18', '20-22']],
            [['15-17', '19-21', '24-26']],
            [EARTH],
        ), is_linked=(1, 'Brass Rain')),
        Spell('Brass Rain', [125, 192], Effects(
            [['16-18', '19-21']],
            [['20-22', '23-25']],
            [AIR],
        ), is_linked=(2, 'Collapse')),
        Spell('Biting Trident', [20, 87, 154], Effects(
            [['13-15', '17-19', '21-24']],
            [['16-18', '20-23', '25-29']],
            [WATER],
        ), is_linked=(1, 'Spicy Mill')),
        Spell('Spicy Mill', [130, 197], Effects(
            [['25-29', '28-32']],
            [['30-34', '34-38']],
            [FIRE],
        ), is_linked=(2, 'Biting Trident')),
        Spell('Burning Estoc', [30, 97, 164], Effects(
            [['14-16', '19-21', '23-26']],
            [['17-20', '22-25', '28-31']],
            [FIRE],
        ), is_linked=(1, 'Octave')),
        Spell('Octave', [140], Effects(
            [['16-18']],
            [['19-22']],
            [WATER],
        ), is_linked=(2, 'Burning Estoc')),
        Spell('Brass Volley', [35, 102, 169], Effects(
            [['14-16', '18-20', '22-25']],
            [['17-19', '21-24', '26-30']],
            [AIR],
        ), is_linked=(1, 'Upheaval')),
        Spell('Upheaval', [145], Effects(
            [['29-33']],
            [['35-40']],
            [EARTH],
        ), is_linked=(2, 'Brass Volley')),
        Spell('Balestra', [40, 107, 174], Effects(
            [['18-20', '23-25', '28-31']],
            [['21-23', '27-30', '34-37']],
            [WATER],
        ), is_linked=(1, 'Windmill')),
        Spell('Windmill', [150], Effects(
            [['29-33']],
            [['35-40']],
            [AIR],
        ), is_linked=(2, 'Balestra')),
        Spell('Earthen Weakness', [45, 112, 179], Effects(
            [['8-10', '11-13', '14-16']],
            [['10-12', '13-15', '17-19']],
            [EARTH],
        ), is_linked=(1, 'Lunge')),
        Spell('Lunge', [155], Effects(
            [['12-14']],
            [['14-17']],
            [FIRE],
        ), is_linked=(2, 'Earthen Weakness')),
        Spell('Kyrja', [50, 117, 184], Effects(
            [['18-20', '24-27', '28-32']] * 4,
            [['21-24', '29-33', '34-38']] * 4,
            [EARTH, FIRE, WATER, AIR], steals=[True, True, True, True],
        ), aggregates=[('Steals in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3])],
        is_linked=(1, 'Vajra')),
        Spell('Vajra', [160], Effects(
            [['39-44']] * 4,
            [['47-53']] * 4,
            [EARTH, FIRE, WATER, AIR], steals=[True, True, True, True],
        ), aggregates=[('Steals in best element', [0]),
                        ('', [1]),
                        ('', [2]),
                        ('', [3])],
        is_linked=(2, 'Kyrja')),
        Spell('Maelstrom', [55, 122, 189], Effects(
            [['11-13', '16-18', '18-20']],
            [['14-16', '19-21', '22-24']],
            [FIRE],
        ), is_linked=(1, 'Ydra')),
        Spell('Ydra', [165], Effects(
            [['25-28']],
            [['30-34']],
            [EARTH],
        ), is_linked=(2, 'Maelstrom')),
        Spell('Iron Prelude', [60, 127, 194], Effects(
            [['100', '150', '200']],
            None,
            ['buff_pow'],
        )),
        Spell('Cyclone Lancer', [65, 131, 198], Effects(
            [['23-25', '28-30', '31-33']],
            [['28-30', '33-35', '37-40']],
            [AIR],
        ), is_linked=(1, 'Elding')),
        Spell('Elding', [175], Effects(
            [['32-36']],
            [['38-43']],
            [WATER],
        ), is_linked=(2, 'Cyclone Lancer')),
        Spell('Jormun', [75, 142], Effects(
            [['24-27', '30-34'], ['21-24', '26-30']],
            [['29-33', '36-41'], ['25-29', '31-36']],
            [WATER, WATER],
        ), aggregates=[('On ennemy', [0]),
                       ('On caster', [1]),],
        is_linked=(1, 'Muspel')),
        Spell('Muspel', [185], Effects(
            [['32-36']],
            [['38-42']],
            [FIRE],
        ), is_linked=(2, 'Jormun')),
        Spell('Middle Earth', [85, 152], Effects(
            [['24-27', '30-34'], ['30', '50']],
            [['29-33', '36-41'], ['30', '50']],
            [EARTH, 'buff_pow'],
        ), is_linked=(1, 'Noa')),
        Spell('Noa', [195], Effects(
            [['20-23'], ['23-26']],
            [['24-28'], ['28-31']],
            [AIR, AIR],
        ), aggregates=[('', [0]),
                       ('Noa state', [1])], 
        is_linked=(2, 'Middle Earth')),
        #TODO figure out effects of Eclipse, Helmgang and Surtr Spark
    ]
}
# AUTO-GENERATED DAMAGE_SPELLS START
# The block below is overwritten by itemscraper/generate_damage_spells.py.
# Do not edit it manually.
DAMAGE_SPELLS = {
    'default': [
        Spell('Burnt Pie', [30, 97, 164], Effects(
            [['5-7', '6-8', '8-10'],
             ['5-7', '6-8', '8-10'],
             ['5-7', '6-8', '8-10'],
             ['5-7', '6-8', '8-10']],
            [['6-8', '8-10', '10-12'],
             ['6-8', '8-10', '10-12'],
             ['6-8', '8-10', '10-12'],
             ['6-8', '8-10', '10-12']],
            [EARTH, FIRE, WATER, AIR],
        ), is_linked=(1, 'Leek Pie')),
        Spell('Leek Pie', [97, 164], Effects(
            [['6-8', '8-10'], ['6-8', '8-10'], ['6-8', '8-10'], ['6-8', '8-10']],
            [['9-11', '11-13'], ['9-11', '11-13'], ['9-11', '11-13'], ['9-11', '11-13']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(2, 'Burnt Pie')),
        Spell("Grunob's Lightning Strike", [20, 87, 154], Effects(
            [['13-16', '17-21', '21-26']],
            [['17-21', '22-27', '27-33']],
            [FIRE],
        ), is_linked=(1, "Grunob's Lesson")),
        Spell("Grunob's Lesson", [87, 154], Effects(
            [['15-18', '19-22']],
            [['19-22', '23-26']],
            [FIRE],
        ), is_linked=(2, "Grunob's Lightning Strike")),
        Spell('Kannibubble', [40, 107, 174], Effects(
            [['12-15', '15-19', '19-23']],
            [['16-19', '20-24', '24-29']],
            [WATER],
        ), is_linked=(1, 'Kanniboil')),
        Spell('Kanniboil', [107, 174], Effects(
            [['17-19', '21-24']],
            [['20-23', '25-29']],
            [WATER],
        ), is_linked=(2, 'Kannibubble')),
        Spell('Mantiscroc', [60, 127, 194], Effects(
            [['14-17', '18-22', '20-24']],
            [['18-22', '23-27', '25-30']],
            [EARTH],
        ), is_linked=(1, 'Dart Mocles')),
        Spell('Dart Mocles', [127, 194], Effects(
            [['20-23', '22-27']],
            [['25-29', '28-33']],
            [EARTH],
        ), is_linked=(2, 'Mantiscroc')),
        Spell('Moon Hammer', [80, 147], Effects(
            [['15-19', '19-23']],
            [['20-24', '24-30']],
            [AIR],
        ), stacks=2, is_linked=(1, 'Darkli Moon Hammer')),
        Spell('Darkli Moon Hammer', [80, 147], Effects(
            [['17-20', '21-25']],
            [['21-24', '26-30']],
            [AIR],
        ), stacks=4, is_linked=(2, 'Moon Hammer')),
        Spell('Perfidious Boomerang', [100, 200], Effects(
            [['21-23', '26-29'],
             ['21-23', '26-29'],
             ['21-23', '26-29'],
             ['21-23', '26-29'],
             ['100', '160'],
             ['100', '160'],
             ['100', '160'],
             ['100', '160']],
            [['25-28', '31-35'],
             ['25-28', '31-35'],
             ['25-28', '31-35'],
             ['25-28', '31-35'],
             ['120', '180'],
             ['120', '180'],
             ['120', '180'],
             ['120', '180']],
            [EARTH, FIRE, WATER, AIR, 'buff_str', 'buff_int', 'buff_cha', 'buff_agi'],
            steals=[True, True, True, True, False, False, False, False],
        ), is_linked=(1, 'Diamondine Boomerang')),
        Spell('Diamondine Boomerang', [100, 200], Effects(
            [['21-23', '26-29'], ['21-23', '26-29'], ['21-23', '26-29'], ['21-23', '26-29']],
            [['25-28', '31-35'], ['25-28', '31-35'], ['25-28', '31-35'], ['25-28', '31-35']],
            [EARTH, FIRE, WATER, AIR],
            steals=[True, True, True, True],
        ), is_linked=(2, 'Perfidious Boomerang')),
        Spell('Weapon Skill', [1], Effects(
            [['300']],
            [['350']],
            ['buff_pow_weapon'],
        )),
        Spell('Ebony Dofus', [180], Effects(
            [['14-16'], ['14-16'], ['14-16'], ['14-16']],
            None,
            [EARTH, FIRE, WATER, AIR],
        )),
        Spell("Crocobur's Appetite", [1], Effects(
            [['16-20']],
            None,
            [NEUTRAL],
            steals=[True],
        )),
        Spell('Pestilential Fog', [1, 1, 1], Effects(
            [['0-0', '18-0', '18-0'],
             ['0-0', '18-0', '18-0'],
             ['0-0', '18-0', '18-0'],
             ['0-0', '18-0', '18-0']],
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Scurvion Toxicity', [200, 200, 200], Effects(
            [['0-0', '8-0', '8-0'],
             ['0-0', '8-0', '8-0'],
             ['0-0', '8-0', '8-0'],
             ['0-0', '8-0', '8-0']],
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
    ],
    'Cra': [
        Spell('Optical Arrow', [1, 66, 132], Effects(
            [['14-16', '18-21', '23-27']],
            [['17-19', '22-25', '28-32']],
            [AIR],
        ), is_linked=(1, 'Raining Arrows')),
        Spell('Burning Arrows', [105, 172], Effects(
            [['27-29', '33-36']],
            [['32-35', '40-43']],
            [FIRE],
        ), is_linked=(2, 'Repulsive Shot')),
        Spell('Powerful Shots', [40, 107, 174], Effects(
            [['150', '220', '300']],
            [['170', '250', '350']],
            ['buff_pow'],
        )),
        Spell('Atonement Arrow', [75, 142], Effects(
            [['28-30', '35-37']],
            [['34-36', '42-44']],
            [WATER],
        ), is_linked=(1, 'Redemption Arrow')),
        Spell("Bat's Eye", [50, 117, 184], Effects(
            [['15-17', '21-23', '25-27']],
            [['18-21', '24-27', '29-32']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Crushing Arrow')),
        Spell('Retreating Shot', [20, 87, 154], Effects(
            [['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-34']],
            [AIR],
        ), is_linked=(1, 'Barricade Shot')),
        Spell('Immobilising Arrow', [15, 82, 149], Effects(
            [['7-9', '8-10', '11-13']],
            [['10-12', '11-13', '14-16']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Assailing Arrow')),
        Spell('Punitive Arrow', [65, 131, 198], Effects(
            [['21-23', '26-28', '29-31']],
            [['26-28', '31-33', '35-37']],
            [EARTH],
        ), is_linked=(1, 'Arrow of Judgement')),
        Spell('Raining Arrows', [95, 162], Effects(
            [['17-19', '21-23']],
            [['20-22', '25-28']],
            [AIR],
        ), is_linked=(2, 'Optical Arrow')),
        Spell('Poisoned Arrow', [35, 102, 169], Effects(
            [['10-12', '13-15', '17-18']],
            [['12-14', '16-18', '20-21']],
            [NEUTRAL],
        ), is_linked=(1, 'Paralysing Arrow')),
        Spell('Destructive Bolts', [155], Effects(
            [['36-38']],
            [['43-46']],
            [EARTH],
        ), is_linked=(2, 'Concentration Arrow')),
        Spell('Persecuting Arrow', [85, 152], Effects(
            [['10-12', '13-15'], ['10-12', '13-15']],
            [['13-15', '13-15'], ['13-15', '13-15'], ['0-0', '16-18'], ['0-0', '16-18']],
            [EARTH, WATER],
        ), is_linked=(1, 'Tyrannical Arrow')),
        Spell('Slow Down Arrow', [100, 167], Effects(
            [['27-29', '34-36']],
            [['33-35', '41-43']],
            [WATER],
        ), is_linked=(2, 'Frozen Arrow')),
        Spell('Tormenting Arrow', [140], Effects(
            [['25-27'], ['14-16']],
            [['30-32'], ['17-19']],
            [AIR, AIR],
            steals=[True, False],
        ), is_linked=(2, 'Exploding Arrow')),
        Spell('Explosive Arrow', [80, 147], Effects(
            [['24-27', '30-34'], ['24-27', '30-34']],
            [['29-33', '36-41'], ['29-33', '36-41']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Fulminating Arrow')),
        Spell('Concentration Arrow', [45, 112, 179], Effects(
            [['14-16', '19-22', '23-26']],
            [['17-20', '23-26', '28-31']],
            [AIR],
        ), is_linked=(1, 'Destructive Bolts')),
        Spell('Paralysing Arrow', [145], Effects(
            [['37-39']],
            [['44-47']],
            [WATER],
        ), is_linked=(2, 'Poisoned Arrow')),
        Spell('Redemption Arrow', [185], Effects(
            [['23-26'], ['23-26']],
            [['28-31'], ['28-31']],
            [WATER, WATER],
        ), stacks=2, is_linked=(2, 'Atonement Arrow')),
        Spell('Crushing Arrow', [160], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE],
            steals=[True],
        ), is_linked=(2, "Bat's Eye")),
        Spell('Assailing Arrow', [125, 192], Effects(
            [['27-31', '31-35'], ['50', '50']],
            [['32-37', '37-42'], ['50', '50']],
            [FIRE, 'buff_pow'],
        ), stacks=4, is_linked=(2, 'Immobilising Arrow')),
        Spell('Arrow of Judgement', [175], Effects(
            [['14-15'], ['31-35']],
            [['16-18'], ['37-42']],
            [EARTH, EARTH],
            steals=[True, False],
        ), is_linked=(2, 'Punitive Arrow')),
        Spell('Piercing Shot', [60, 127, 194], Effects(
            [['29-32', '36-39', '40-44'], ['29-32', '36-39', '40-44']],
            [['35-38', '43-47', '48-53'], ['35-38', '43-47', '48-53']],
            [AIR, AIR],
        ), is_linked=(1, 'Devouring Arrow')),
        Spell('Tyrannical Arrow', [195], Effects(
            [['13-15'], ['13-15'], ['7-8'], ['7-8']],
            [['16-18'], ['16-18'], ['9-10'], ['9-10']],
            [FIRE, AIR, FIRE, AIR],
        ), is_linked=(2, 'Persecuting Arrow')),
        Spell('Barricade Shot', [130, 197], Effects(
            [['23-27', '26-30']],
            [['28-32', '31-36']],
            [EARTH],
        ), is_linked=(2, 'Retreating Shot')),
        Spell('Devouring Arrow', [170], Effects(
            [['11-13'], ['23-27'], ['34-38'], ['34-38'], ['34-38'], ['52-56'], ['70-74']],
            [['14-16'], ['28-32'], ['39-43'], ['39-43'], ['39-43'], ['60-64'], ['81-85']],
            [AIR, AIR, AIR, AIR, AIR, AIR, AIR],
            steals=[False, False, False, False, True, True, True],
        ), stacks=3, is_linked=(2, 'Piercing Shot')),
        Spell('Exploding Arrow', [30, 97, 164], Effects(
            [['7-9', '10-13', '14-17'],
             ['7-9', '10-13', '14-17'],
             ['12-13', '14-16', '19-23']],
            [['10-13', '14-17', '18-21'],
             ['10-13', '14-17', '18-21'],
             ['14-16', '17-20', '24-28']],
            [FIRE, FIRE, FIRE],
            steals=[True, True, False],
        ), is_linked=(1, 'Tormenting Arrow')),
        Spell('Fulminating Arrow', [190], Effects(
            [['34-38'], ['44-48'], ['54-58'], ['64-68'], ['74-78']],
            [['41-46'], ['51-56'], ['61-66'], ['71-76'], ['81-86']],
            [FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=4, is_linked=(2, 'Explosive Arrow')),
        Spell('Covering Fire', [110, 177], Effects(
            [['32-36', '38-42'], ['32-36', '38-42']],
            [['39-43', '46-50'], ['39-43', '46-50']],
            [EARTH, EARTH],
        ), is_linked=(2, 'Lashing Arrow')),
        Spell('Frozen Arrow', [1, 67, 133], Effects(
            [['14-17', '19-22', '24-28']],
            [['18-21', '23-26', '29-34']],
            [WATER],
        ), is_linked=(1, 'Slow Down Arrow')),
        Spell('Repulsive Shot', [1, 68, 134], Effects(
            [['17-19', '22-25', '28-32']],
            [['20-23', '26-30', '34-38']],
            [FIRE],
        ), is_linked=(1, 'Burning Arrows')),
        Spell('Lashing Arrow', [1, 69, 136], Effects(
            [['15-17', '20-23', '25-29']],
            [['18-21', '24-28', '30-35']],
            [EARTH],
        ), is_linked=(1, 'Covering Fire')),
    ],
    'Ecaflip': [
        Spell('Roulette', [40, 107, 174], Effects(
            [['100', '200', '400'],
             ['100', '200', '400'],
             ['100', '200', '400'],
             ['100', '200', '400'],
             ['40', '60', '100']],
            None,
            ['buff_str', 'buff_int', 'buff_cha', 'buff_agi', 'buff_finalheals'],
        )),
        Spell('Feline Spirit', [65, 131, 198], Effects(
            [['19-21', '26-29', '31-34']],
            [['26-0', '35-0', '41-0']],
            [EARTH],
        ), is_linked=(1, 'Kraps')),
        Spell('Luck', [25, 92, 159], Effects(
            [['15-17', '20-23', '27-30']],
            [['21-0', '27-0', '35-0']],
            [WATER],
        ), is_linked=(1, 'Nerve')),
        Spell('Playful Claw', [105, 172], Effects(
            [['25-28', '31-35']],
            [['34-0', '42-0']],
            [WATER],
        ), is_linked=(2, 'Topkaj')),
        Spell('Claw of Ceangal', [165], Effects(
            [['27-29']],
            [['33-0']],
            [AIR],
        ), is_linked=(2, 'Balling Up')),
        Spell('Rekop', [200], Effects(
            [['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['36-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['24-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['54-0'],
             ['54-0'],
             ['54-0'],
             ['54-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['14-0'],
             ['8-20'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['18-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['15-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-0'],
             ['8-20'],
             ['8-20'],
             ['8-20'],
             ['8-54'],
             ['8-54'],
             ['8-54'],
             ['8-54'],
             ['8-36'],
             ['8-36'],
             ['8-36'],
             ['8-36']],
            [['23-0'],
             ['23-0'],
             ['23-0'],
             ['23-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['37-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['20-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['25-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['56-0'],
             ['56-0'],
             ['56-0'],
             ['56-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['22-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['16-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['19-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['11-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['12-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-23'],
             ['10-23'],
             ['10-23'],
             ['10-23'],
             ['10-56'],
             ['10-56'],
             ['10-56'],
             ['10-56'],
             ['10-37'],
             ['10-37'],
             ['10-37'],
             ['10-37']],
            [AIR, WATER, FIRE, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, AIR, WATER, FIRE, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, AIR, WATER, FIRE, EARTH, AIR, AIR, AIR, AIR, WATER, WATER, WATER, WATER, FIRE, FIRE, FIRE, FIRE, EARTH, EARTH, EARTH, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, AIR, AIR, WATER, FIRE, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, WATER, FIRE, EARTH, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('', [0]),
 ('', [1]),
 ('', [2]),
 ('', [3]),
 ('Hit in best element', [4]),
 ('', [5]),
 ('', [6]),
 ('', [7]),
 ('Hit in best element', [8]),
 ('', [9]),
 ('', [10]),
 ('', [11]),
 ('Hit in best element', [12]),
 ('', [13]),
 ('', [14]),
 ('', [15]),
 ('Hit in best element', [16]),
 ('', [17]),
 ('', [18]),
 ('', [19]),
 ('Hit in best element', [20]),
 ('', [21]),
 ('', [22]),
 ('', [23]),
 ('', [24]),
 ('', [25]),
 ('', [26]),
 ('', [27]),
 ('Hit in best element', [28]),
 ('', [29]),
 ('', [30]),
 ('', [31]),
 ('Hit in best element', [32]),
 ('', [33]),
 ('', [34]),
 ('', [35]),
 ('', [36]),
 ('', [37]),
 ('', [38]),
 ('', [39]),
 ('', [40]),
 ('', [41]),
 ('', [42]),
 ('', [43]),
 ('', [44]),
 ('', [45]),
 ('', [46]),
 ('', [47]),
 ('', [48]),
 ('', [49]),
 ('', [50]),
 ('', [51]),
 ('', [52]),
 ('', [53]),
 ('', [54]),
 ('', [55]),
 ('Hit in best element', [56]),
 ('', [57]),
 ('', [58]),
 ('', [59]),
 ('Hit in best element', [60]),
 ('', [61]),
 ('', [62]),
 ('', [63]),
 ('Hit in best element', [64]),
 ('', [65]),
 ('', [66]),
 ('', [67]),
 ('Hit in best element', [68]),
 ('', [69]),
 ('', [70]),
 ('', [71]),
 ('Hit in best element', [72]),
 ('', [73]),
 ('', [74]),
 ('', [75]),
 ('Hit in best element', [76]),
 ('', [77]),
 ('', [78]),
 ('', [79]),
 ('Hit in best element', [80]),
 ('', [81]),
 ('', [82]),
 ('', [83]),
 ('Hit in best element', [84]),
 ('', [85]),
 ('', [86]),
 ('', [87]),
 ('', [88]),
 ('', [89]),
 ('', [90]),
 ('', [91]),
 ('', [92]),
 ('Hit in best element', [93]),
 ('', [94]),
 ('', [95]),
 ('', [96]),
 ('Hit in best element', [97]),
 ('', [98]),
 ('', [99]),
 ('', [100]),
 ('Hit in best element', [101]),
 ('', [102]),
 ('', [103]),
 ('', [104]),
 ('Hit in best element', [105]),
 ('', [106]),
 ('', [107]),
 ('', [108]),
 ('Hit in best element', [109]),
 ('', [110]),
 ('', [111]),
 ('', [112]),
 ('Hit in best element', [113]),
 ('', [114]),
 ('', [115]),
 ('', [116]),
 ('Hit in best element', [117]),
 ('', [118]),
 ('', [119]),
 ('', [120]),
 ('', [121]),
 ('', [122]),
 ('', [123]),
 ('', [124]),
 ('', [125]),
 ('', [126]),
 ('', [127]),
 ('', [128]),
 ('Hit in best element', [129]),
 ('', [130]),
 ('', [131]),
 ('', [132]),
 ('Hit in best element', [133]),
 ('', [134]),
 ('', [135]),
 ('', [136]),
 ('Hit in best element', [137]),
 ('', [138]),
 ('', [139]),
 ('', [140]),
 ('', [141]),
 ('', [142]),
 ('', [143]),
 ('Hit in best element', [144]),
 ('', [145]),
 ('', [146]),
 ('', [147]),
 ('Hit in best element', [148]),
 ('', [149]),
 ('', [150]),
 ('', [151])], is_linked=(2, 'Bluff')),
        Spell('Rough Tongue', [100, 167], Effects(
            [['24-27', '30-33'], ['24-27', '30-33']],
            [['32-0', '40-0'], ['32-0', '40-0']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(2, 'Yahtzee')),
        Spell('Summoning Claw', [60, 127, 194], Effects(
            [['30', '60', '90']],
            None,
            ['buff_pow'],
        ), stacks=3),
        Spell('Reflex', [1, 66, 132], Effects(
            [['8-10', '11-13', '14-17']],
            [['12-0', '16-0', '20-0']],
            [AIR],
        ), is_linked=(1, 'Lapping Up')),
        Spell('All or Nothing', [160], Effects(
            [['16-18'],
             ['16-18'],
             ['16-18'],
             ['16-18'],
             ['23-25'],
             ['23-25'],
             ['23-25'],
             ['23-25'],
             ['30-32'],
             ['30-32'],
             ['30-32'],
             ['30-32'],
             ['37-39'],
             ['37-39'],
             ['37-39'],
             ['37-39'],
             ['44-46'],
             ['44-46'],
             ['44-46'],
             ['44-46'],
             ['16-18'],
             ['16-18'],
             ['16-18'],
             ['16-18']],
            [['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['28-0'],
             ['28-0'],
             ['28-0'],
             ['28-0'],
             ['35-0'],
             ['35-0'],
             ['35-0'],
             ['35-0'],
             ['42-0'],
             ['42-0'],
             ['42-0'],
             ['42-0'],
             ['49-0'],
             ['49-0'],
             ['49-0'],
             ['49-0'],
             ['21-0'],
             ['21-0'],
             ['21-0'],
             ['21-0']],
            [EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR],
            heals=[True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, True, False, False, False, False],
        ), aggregates=[('Hit in best element', [0]),
 ('', [1]),
 ('', [2]),
 ('', [3]),
 ('Hit in best element', [4]),
 ('', [5]),
 ('', [6]),
 ('', [7]),
 ('Hit in best element', [8]),
 ('', [9]),
 ('', [10]),
 ('', [11]),
 ('Hit in best element', [12]),
 ('', [13]),
 ('', [14]),
 ('', [15]),
 ('Hit in best element', [16]),
 ('', [17]),
 ('', [18]),
 ('', [19]),
 ('Hit in best element', [20]),
 ('', [21]),
 ('', [22]),
 ('', [23])], is_linked=(2, 'Trickery')),
        Spell('Fate of Ecaflip', [145], Effects(
            [['42-46'], ['25-27']],
            [['55-0'], ['31-0']],
            [EARTH, EARTH],
            steals=[True, False],
        ), is_linked=(2, 'Blakjak')),
        Spell('Felintion', [85, 152], Effects(
            [['27-29', '33-36']],
            [['35-0', '43-0']],
            [WATER],
        ), is_linked=(1, 'Misadventure')),
        Spell('Jass', [15, 82, 149], Effects(
            [['16-18', '21-23', '26-29']],
            [['22-0', '28-0', '35-0']],
            [AIR],
        ), is_linked=(1, 'Misfortune')),
        Spell('Belote', [45, 112, 179], Effects(
            [['17-19', '22-25', '27-30']],
            [['23-0', '30-0', '36-0']],
            [EARTH],
        ), is_linked=(1, 'Peril')),
        Spell('Blakjak', [35, 102, 169], Effects(
            [['17-20', '22-25', '27-31']],
            [['23-0', '30-0', '37-0']],
            [FIRE],
        ), is_linked=(1, 'Fate of Ecaflip')),
        Spell('Yowling', [185], Effects(
            [['30-34']],
            [['41-0']],
            [FIRE],
        ), is_linked=(2, 'Pawpads')),
        Spell('Lapping Up', [95, 162], Effects(
            [['26-29', '32-36']],
            [['35-0', '43-0']],
            [EARTH],
        ), is_linked=(2, 'Reflex')),
        Spell('Pawpads', [75, 142], Effects(
            [['28-31', '35-38']],
            [['37-0', '46-0']],
            [AIR],
        ), is_linked=(1, 'Yowling')),
        Spell('Bravado', [110, 177], Effects(
            [['24-27', '28-32'],
             ['29-32', '36-40'],
             ['34-37', '44-48'],
             ['39-42', '52-56'],
             ['44-47', '60-64']],
            [['33-0', '38-0'],
             ['38-5', '46-8'],
             ['43-10', '54-16'],
             ['48-15', '62-24'],
             ['53-20', '70-32']],
            [AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=4, is_linked=(2, 'Heads or Tails')),
        Spell('Misadventure', [195], Effects(
            [['37-41']],
            [['49-0']],
            [EARTH],
        ), is_linked=(2, 'Felintion')),
        Spell('Misfortune', [125, 192], Effects(
            [['36-39', '41-45'], ['27-29', '31-33']],
            [['47-0', '54-0'], ['34-0', '38-0']],
            [WATER, WATER],
            steals=[True, False],
        ), is_linked=(2, 'Jass')),
        Spell('Trickery', [50, 117, 184], Effects(
            [['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['11-12', '15-16', '19-20'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['20-22', '24-26', '28-30'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['29-32', '33-36', '37-40'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50'],
             ['38-42', '42-46', '46-50']],
            [['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['20-0', '25-0', '30-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['30-0', '35-0', '40-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['40-0', '45-0', '50-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0'],
             ['50-0', '55-0', '60-0']],
            [AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH, AIR, WATER, FIRE, EARTH],
            steals=[True, True, True, True, False, False, False, False, True, True, True, True, False, False, False, False, True, True, True, True, False, False, False, False, True, True, True, True, False, False, False, False],
            heals=[False, False, False, False, True, True, True, True, False, False, False, False, True, True, True, True, False, False, False, False, True, True, True, True, False, False, False, False, True, True, True, True],
        ), is_linked=(1, 'All or Nothing')),
        Spell('Nerve', [135], Effects(
            [['44-48'], ['26-28']],
            [['58-0'], ['33-0']],
            [AIR, AIR],
            steals=[True, False],
        ), is_linked=(2, 'Luck')),
        Spell('Kraps', [175], Effects(
            [['28-30']],
            [['34-0']],
            [WATER],
        ), is_linked=(2, 'Feline Spirit')),
        Spell('Balling Up', [55, 122, 189], Effects(
            [['17-19', '23-25', '29-32']],
            [['23-0', '30-0', '38-0']],
            [FIRE],
        ), is_linked=(1, 'Claw of Ceangal')),
        Spell('Peril', [155], Effects(
            [['43-47'], ['26-28']],
            [['56-0'], ['33-0']],
            [FIRE, FIRE],
            steals=[True, False],
        ), is_linked=(2, 'Belote')),
        Spell('Bluff', [90, 157], Effects(
            [['4-56', '4-56'], ['4-56', '4-56'], ['4-56', '4-56'], ['4-56', '4-56']],
            [['8-60', '8-60'], ['8-60', '8-60'], ['8-60', '8-60'], ['8-60', '8-60']],
            [AIR, WATER, FIRE, EARTH],
        ), is_linked=(1, 'Rekop')),
        Spell('Yahtzee', [1, 67, 133], Effects(
            [['1-6', '2-12', '3-18']],
            [['9-0', '15-0', '21-0']],
            [WATER],
        ), is_linked=(1, 'Rough Tongue')),
        Spell('Topkaj', [1, 68, 134], Effects(
            [['7-0', '13-0', '16-0'],
             ['7-0', '13-0', '16-0'],
             ['10-0', '16-0', '19-0'],
             ['10-0', '16-0', '19-0'],
             ['13-0', '13-0', '13-0'],
             ['13-0', '13-0', '13-0'],
             ['0-0', '19-0', '22-0'],
             ['0-0', '19-0', '22-0']],
            [['10-0', '16-0', '19-0'],
             ['10-0', '16-0', '19-0'],
             ['13-0', '19-0', '22-0'],
             ['13-0', '19-0', '22-0'],
             ['16-0', '16-0', '16-0'],
             ['16-0', '16-0', '16-0'],
             ['0-0', '22-0', '25-0'],
             ['0-0', '22-0', '25-0']],
            [FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE],
            heals=[False, True, False, True, True, False, False, True],
        ), is_linked=(1, 'Playful Claw')),
        Spell('Heads or Tails', [1, 69, 136], Effects(
            [['10-0', '14-0', '18-0']],
            [['14-0', '18-0', '22-0']],
            [EARTH],
        ), is_linked=(1, 'Bravado')),
    ],
    'Eliotrope': [
        Spell('Insult', [1, 66, 132], Effects(
            [['15-17', '20-22', '26-28']],
            [['18-20', '24-26', '31-34']],
            [AIR],
        ), is_linked=(1, 'Contempt')),
        Spell('Lightning Fist', [165], Effects(
            [['23-25']],
            [['28-30']],
            [WATER],
        ), is_linked=(2, 'Therapy')),
        Spell('Therapy', [55, 122, 189], Effects(
            [['15-17', '20-22', '23-25'], ['15-17', '20-22', '23-25']],
            [['18-20', '24-26', '28-30'], ['18-20', '24-26', '28-30']],
            [EARTH, EARTH],
            steals=[True, False],
            heals=[False, True],
        ), is_linked=(1, 'Lightning Fist')),
        Spell('Affliction', [65, 131, 198], Effects(
            [['14-16', '18-21', '23-26'],
             ['14-16', '18-21', '23-26'],
             ['14-16', '18-21', '23-26'],
             ['14-16', '18-21', '23-26']],
            [['17-19', '22-25', '28-32'],
             ['17-19', '22-25', '28-32'],
             ['17-19', '22-25', '28-32'],
             ['17-19', '22-25', '28-32']],
            [WATER, WATER, WATER, WATER],
            steals=[True, False, False, False],
            heals=[False, False, True, True],
        ), is_linked=(1, 'Offence')),
        Spell('Offence', [175], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE],
        ), is_linked=(2, 'Affliction')),
        Spell('Snub', [145], Effects(
            [['24-27']],
            [['29-33']],
            [EARTH],
        ), is_linked=(2, 'Insolence')),
        Spell('Bullying', [45, 112, 179], Effects(
            [['14-16', '18-20', '23-25']],
            [['17-19', '22-24', '28-30']],
            [AIR],
        ), is_linked=(1, 'Cataclysm')),
        Spell('Extinction', [85, 152], Effects(
            [['26-28', '32-35'], ['26-28', '32-35']],
            [['31-34', '38-42'], ['31-34', '38-42']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Sermon')),
        Spell('Ridicule', [75, 142], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [AIR],
        ), is_linked=(1, 'Sarcasm')),
        Spell('Contempt', [95, 162], Effects(
            [['19-22', '24-27']],
            [['23-26', '29-32']],
            [AIR],
        ), is_linked=(2, 'Insult')),
        Spell('Tribulation', [100, 167], Effects(
            [['19-21', '23-26']],
            [['22-25', '28-31']],
            [WATER],
        ), is_linked=(2, 'Audacious')),
        Spell('Wandering', [115, 182], Effects(
            [['2', '2'], ['2', '2']],
            None,
            ['buff_final', 'buff_finalheals'],
        ), is_linked=(2, 'Portal')),
        Spell('Convulsion', [105, 172], Effects(
            [['19-22', '24-27']],
            [['23-26', '29-32']],
            [EARTH],
        ), is_linked=(2, 'Shock')),
        Spell('Lazybeam', [110, 177], Effects(
            [['19-21', '23-26'], ['19-21', '23-26']],
            [['22-25', '28-31'], ['22-25', '28-31']],
            [FIRE, FIRE],
            steals=[False, True],
        ), is_linked=(2, 'Wakfu Ray')),
        Spell('Affront', [25, 92, 159], Effects(
            [['15-18', '19-23', '24-28']],
            [['19-22', '24-28', '29-34']],
            [FIRE],
        ), is_linked=(1, 'Composure')),
        Spell('Sinecure', [125, 192], Effects(
            [['9-11', '12-14'], ['9-11', '12-14']],
            [['12-14', '15-17'], ['12-14', '15-17']],
            [AIR, AIR],
            steals=[True, False],
            heals=[False, True],
        ), stacks=2, is_linked=(2, 'Persiflage')),
        Spell('Sermon', [195], Effects(
            [['32-36']],
            [['38-43']],
            [AIR],
        ), is_linked=(2, 'Extinction')),
        Spell('Pride', [170], Effects(
            [['150']],
            None,
            ['buff_pow'],
        )),
        Spell('Cabal', [40, 107, 174], Effects(
            [['100', '150', '200']],
            None,
            ['buff_pow'],
        )),
        Spell('Composure', [135], Effects(
            [['32-36']],
            [['39-43']],
            [WATER],
        ), is_linked=(2, 'Affront')),
        Spell('Cataclysm', [155], Effects(
            [['34-38']],
            [['41-46']],
            [FIRE],
        ), is_linked=(2, 'Bullying')),
        Spell('Persiflage', [15, 82, 149], Effects(
            [['16-18', '20-23', '25-29']],
            [['19-22', '24-28', '30-35']],
            [EARTH],
        ), is_linked=(1, 'Sinecure')),
        Spell('Insolence', [35, 102, 169], Effects(
            [['16-18', '20-23', '25-28'], ['16-18', '20-23', '25-28']],
            [['19-21', '24-27', '30-34'], ['19-21', '24-27', '30-34']],
            [WATER, WATER],
        ), is_linked=(1, 'Snub')),
        Spell('Sarcasm', [185], Effects(
            [['34-38']],
            [['41-46']],
            [EARTH],
        ), is_linked=(2, 'Ridicule')),
        Spell('Portal', [5, 72, 139], Effects(
            [['2', '2', '2'], ['2', '2', '2']],
            None,
            ['buff_final', 'buff_finalheals'],
        ), is_linked=(1, 'Wandering')),
        Spell('Audacious', [1, 67, 133], Effects(
            [['15-17', '20-23', '26-29'], ['15-17', '20-23', '26-29']],
            [['19-21', '24-27', '31-35'], ['19-21', '24-27', '31-35']],
            [WATER, WATER],
        ), is_linked=(1, 'Tribulation')),
        Spell('Shock', [1, 68, 134], Effects(
            [['14-16', '18-20', '23-26']],
            [['17-19', '21-24', '28-31']],
            [EARTH],
        ), is_linked=(1, 'Convulsion')),
        Spell('Wakfu Ray', [1, 69, 136], Effects(
            [['15-17', '21-23', '26-28'], ['15-17', '21-23', '26-28']],
            [['18-20', '25-27', '31-34'], ['18-20', '25-27', '31-34']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(1, 'Lazybeam')),
    ],
    'Eniripsa': [
        Spell('Bloodless Word', [165], Effects(
            [['37-40'], ['37-40']],
            [['41-45'], ['41-45']],
            [WATER, WATER],
            heals=[False, True],
        ), is_linked=(2, 'Forbidden Word')),
        Spell('Galvanising Word', [140], Effects(
            [['150']],
            None,
            ['buff_pow'],
        )),
        Spell('Scalpel', [125, 192], Effects(
            [['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44'],
             ['35-38', '40-44']],
            [['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53'],
             ['42-46', '48-53']],
            [EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR],
            heals=[False, False, False, False, True, True, True, True],
        ), aggregates=[('Hit in best element', [0]),
 ('', [1]),
 ('', [2]),
 ('', [3]),
 ('Hit in best element', [4]),
 ('', [5]),
 ('', [6]),
 ('', [7])]),
        Spell('Commotion', [130, 197], Effects(
            [['23-25', '25-28'], ['23-25', '25-28'], ['23-25', '25-28'], ['25', '25']],
            [['27-29', '30-33'], ['27-29', '30-33'], ['27-29', '30-33'], ['25', '25']],
            [FIRE, FIRE, FIRE, 'buff_final'],
            heals=[True, True, False, False],
        ), is_linked=(2, 'Lamentations')),
        Spell('Deafening Cry', [100, 167], Effects(
            [['19-22', '24-28']],
            [['23-27', '30-34']],
            [FIRE],
        ), is_linked=(2, 'Raucous Word')),
        Spell('Pilfering', [65, 131, 198], Effects(
            [['15-17', '18-20', '20-22']],
            [['18-20', '21-23', '23-26']],
            [FIRE],
            steals=[True],
        ), stacks=2, is_linked=(1, 'Distracting Word')),
        Spell('Turbulent Word', [25, 92, 159], Effects(
            [['23-26', '29-33', '36-41'], ['23-26', '29-33', '36-41']],
            [['27-31', '35-39', '43-49'], ['27-31', '35-39', '43-49']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(1, 'Furious Word')),
        Spell('Shrill Choir', [190], Effects(
            [['40-44'], ['45-49'], ['50-54'], ['55-59'], ['60-64']],
            [['48-53'], ['53-58'], ['58-63'], ['63-68'], ['68-73']],
            [FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=3, is_linked=(2, 'Tribal Paintbrush')),
        Spell('Distracting Word', [175], Effects(
            [['30-34'], ['30-34']],
            [['37-41'], ['37-41']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(2, 'Pilfering')),
        Spell('War Cry', [50, 117, 184], Effects(
            [['23-26', '31-35', '37-41']],
            [['28-31', '38-42', '44-49']],
            [EARTH],
        ), is_linked=(1, 'Ritual Word')),
        Spell('Ritual Word', [160], Effects(
            [['28-32'], ['28-32']],
            [['34-38'], ['34-38']],
            [EARTH, EARTH],
            heals=[False, True],
        ), is_linked=(2, 'War Cry')),
        Spell('Furious Word', [135], Effects(
            [['30-34']],
            [['36-41']],
            [EARTH],
        ), is_linked=(2, 'Turbulent Word')),
        Spell('Tribal Paintbrush', [80, 147], Effects(
            [['15-18', '19-22'], ['15-18', '19-22'], ['15-18', '19-22'], ['15-18', '19-22']],
            [['19-22', '23-26'], ['19-22', '23-26'], ['19-22', '23-26'], ['19-22', '23-26']],
            [EARTH, EARTH, EARTH, EARTH],
            heals=[True, False, True, False],
        ), stacks=5, is_linked=(1, 'Shrill Choir')),
        Spell('Warpaint', [40, 107, 174], Effects(
            [['6-7', '7-9', '9-11'], ['6-7', '7-9', '9-11'], ['6-7', '7-9', '9-11']],
            [['6-7', '7-9', '9-11'], ['8-9', '10-12', '12-14'], ['8-9', '10-12', '12-14']],
            [EARTH, EARTH, EARTH],
            heals=[True, False, True],
        ), is_linked=(1, 'Secret Word')),
        Spell('Ancestral Ointment', [110, 177], Effects(
            [['31-33', '35-38'], ['31-33', '35-38']],
            [['34-37', '40-44'], ['34-37', '40-44']],
            [EARTH, EARTH],
            heals=[False, True],
        ), is_linked=(2, 'Profanity')),
        Spell('Lamentations', [20, 87, 154], Effects(
            [['18-20', '23-26', '29-32']],
            [['22-24', '28-31', '35-38']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Commotion')),
        Spell('Sobs', [105, 172], Effects(
            [['19-21', '23-26']],
            [['22-24', '28-31']],
            [WATER],
        ), is_linked=(2, 'Vampiric Word')),
        Spell('Forbidden Word', [55, 122, 189], Effects(
            [['30-33', '40-44', '46-50'], ['30-33', '40-44', '46-50']],
            [['36-39', '48-52', '55-60'], ['36-39', '48-52', '55-60']],
            [WATER, WATER],
            heals=[False, True],
        ), is_linked=(1, 'Bloodless Word')),
        Spell('Cryotherapy', [85, 152], Effects(
            [['11-13', '14-16'], ['11-13', '14-16'], ['11-13', '14-16']],
            [['14-16', '17-19'], ['14-16', '17-19'], ['14-16', '17-19']],
            [WATER, WATER, WATER],
            heals=[False, True, False],
        ), is_linked=(1, 'Murmur')),
        Spell('Defensive Word', [145], Effects(
            [['28-31']],
            [['34-37']],
            [WATER],
            steals=[True],
        ), is_linked=(2, "Prankster's Word")),
        Spell('Mischievous Word', [1, 66, 132], Effects(
            [['12-14', '16-19', '21-24']],
            [['15-17', '20-22', '25-29']],
            [AIR],
        ), is_linked=(1, 'Malicious Word')),
        Spell('Malicious Word', [95, 162], Effects(
            [['24-27', '30-34']],
            [['29-33', '36-41']],
            [AIR],
        ), is_linked=(2, 'Mischievous Word')),
        Spell("Prankster's Word", [35, 102, 169], Effects(
            [['15-17', '18-20', '22-24'], ['15-17', '18-20', '22-24']],
            [['17-19', '21-23', '26-28'], ['17-19', '21-23', '26-28']],
            [AIR, AIR],
            heals=[False, True],
        ), is_linked=(1, 'Defensive Word')),
        Spell('Flowery Word', [70, 137], Effects(
            [['26-29', '33-37'], ['26-29', '33-37']],
            [['31-35', '40-44'], ['31-35', '40-44']],
            [AIR, AIR],
            heals=[False, True],
        ), is_linked=(1, 'Enchanted Thicket')),
        Spell('Enchanted Thicket', [180], Effects(
            [['34-38'], ['34-38']],
            [['40-45'], ['40-45']],
            [AIR, AIR],
            heals=[True, False],
        ), is_linked=(2, 'Flowery Word')),
        Spell('Secret Word', [150], Effects(
            [['28-32'], ['28-32'], ['55-59'], ['55-59'], ['25']],
            [['34-38'], ['34-38'], ['61-65'], ['61-65'], ['25']],
            [AIR, AIR, AIR, AIR, 'buff_finalheals'],
            heals=[True, False, True, False, False],
        ), is_linked=(2, 'Warpaint')),
        Spell('Murmur', [195], Effects(
            [['16-18'], ['16-18']],
            [['19-22'], ['19-22']],
            [AIR, AIR],
            heals=[False, True],
        ), is_linked=(2, 'Cryotherapy')),
        Spell('Raucous Word', [1, 67, 133], Effects(
            [['12-14', '17-19', '22-25'], ['12-14', '17-19', '22-25']],
            [['15-17', '20-23', '27-30'], ['15-17', '20-23', '27-30']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(1, 'Deafening Cry')),
        Spell('Vampiric Word', [1, 68, 134], Effects(
            [['16-18', '21-23', '27-30']],
            [['19-21', '25-28', '32-36']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Sobs')),
        Spell('Profanity', [1, 69, 136], Effects(
            [['14-16', '18-20', '22-25']],
            [['17-19', '21-24', '26-30']],
            [EARTH],
        ), is_linked=(1, 'Ancestral Ointment')),
    ],
    'Enutrof': [
        Spell('Golden Age', [160], Effects(
            [['200']],
            None,
            ['buff_pow'],
        )),
        Spell('Expiry', [75, 142], Effects(
            [['33-35', '41-44'], ['33-35', '41-44']],
            [['39-42', '49-53'], ['39-42', '49-53']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Sieving')),
        Spell('Mound', [20, 87, 154], Effects(
            [['12-14', '16-18', '20-22'], ['14-16', '18-20', '23-25']],
            [['15-17', '19-21', '24-26'], ['17-19', '22-24', '28-30']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Mine Fire')),
        Spell('Ghostly Shovel', [55, 122, 189], Effects(
            [['17-19', '23-25', '26-28']],
            [['20-22', '27-29', '31-34']],
            [FIRE],
        ), is_linked=(1, 'Last Resort')),
        Spell('Coin Throwing', [1, 66, 132], Effects(
            [['7-9', '10-12', '13-15']],
            [['10-12', '13-15', '16-18']],
            [WATER],
        ), is_linked=(1, 'Hard Cash')),
        Spell('Goldrush', [10, 77, 144], Effects(
            [['50', '100', '150']],
            None,
            ['buff_pow'],
        )),
        Spell('Auriferous Shovel', [45, 112, 179], Effects(
            [['21-23', '27-31', '33-37']],
            [['25-28', '33-37', '40-44']],
            [WATER],
        ), is_linked=(1, 'Peat Bog')),
        Spell('Shovel of the Ancients', [70, 137], Effects(
            [['31-34', '40-44']],
            [['37-41', '48-53']],
            [WATER],
        ), is_linked=(1, 'Deposit')),
        Spell('Collapse', [105, 172], Effects(
            [['25-28', '31-35'], ['9-11', '12-14']],
            [['30-34', '37-42'], ['12-14', '15-17']],
            [EARTH, EARTH],
        ), is_linked=(2, 'Shovel Kiss')),
        Spell('Hard Cash', [95, 162], Effects(
            [['24-27', '29-33'], ['8-10', '11-13']],
            [['28-32', '35-39'], ['11-13', '14-16']],
            [AIR, AIR],
        ), is_linked=(2, 'Coin Throwing')),
        Spell('Mine Fire', [130, 197], Effects(
            [['29-32', '32-36']],
            [['34-38', '38-43']],
            [FIRE],
        ), is_linked=(2, 'Mound')),
        Spell('Peat Bog', [155], Effects(
            [['31-35'],
             ['36-40'],
             ['41-45'],
             ['46-50'],
             ['51-55'],
             ['56-60'],
             ['61-65'],
             ['66-70'],
             ['71-75'],
             ['76-80'],
             ['81-85']],
            [['37-42'],
             ['42-47'],
             ['47-52'],
             ['52-57'],
             ['57-62'],
             ['62-67'],
             ['67-72'],
             ['72-77'],
             ['77-82'],
             ['82-87'],
             ['87-92']],
            [EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('0 MP used this turn', [0]),
 ('1 MP used this turn', [1]),
 ('2 MP used this turn', [2]),
 ('3 MP used this turn', [3]),
 ('4 MP used this turn', [4]),
 ('5 MP used this turn', [5]),
 ('6 MP used this turn', [6]),
 ('7 MP used this turn', [7]),
 ('8 MP used this turn', [8]),
 ('9 MP used this turn', [9]),
 ('10 MP used this turn', [10])], is_linked=(2, 'Auriferous Shovel')),
        Spell('Obsolescence', [140], Effects(
            [['26-30'], ['30-34']],
            [['31-36'], ['36-41']],
            [WATER, WATER],
        ), is_linked=(2, 'Loafylactic')),
        Spell('Miserliness', [40, 107, 174], Effects(
            [['20', '30', '50']],
            None,
            ['buff_pow'],
        ), is_linked=(1, 'Decadence')),
        Spell('Placer Mining', [100, 167], Effects(
            [['23-26', '28-32'], ['7-9', '10-12']],
            [['27-31', '34-38'], ['10-12', '13-15']],
            [WATER, WATER],
        ), is_linked=(2, 'Prime of Life')),
        Spell('Tunnel', [65, 131, 198], Effects(
            [['19-22', '23-26', '26-29']],
            [['23-26', '28-31', '31-35']],
            [EARTH],
        ), is_linked=(1, 'Spade of the Ancients')),
        Spell('Loafylactic', [30, 97, 164], Effects(
            [['14-16', '18-20', '23-25']],
            [['17-19', '22-24', '25-28']],
            [AIR],
        ), is_linked=(1, 'Obsolescence')),
        Spell('Spade of the Ancients', [175], Effects(
            [['32-36']],
            [['38-43']],
            [AIR],
        ), is_linked=(2, 'Tunnel')),
        Spell('Firedamp Explosion', [110, 177], Effects(
            [['26-29', '30-34'], ['8-10', '11-13']],
            [['31-35', '36-41'], ['11-13', '14-16']],
            [FIRE, FIRE],
        ), is_linked=(2, 'Opportuneness')),
        Spell('Decadence', [150], Effects(
            [['10']],
            None,
            ['buff_final'],
        ), is_linked=(2, 'Miserliness')),
        Spell('Sieving', [185], Effects(
            [['25-29']],
            [['30-35']],
            [WATER],
        ), is_linked=(2, 'Expiry')),
        Spell('Last Resort', [165], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Ghostly Shovel')),
        Spell('Deposit', [180], Effects(
            [['29-32'], ['29-32']],
            [['35-38'], ['35-38']],
            [FIRE, FIRE],
            heals=[False, True],
        ), is_linked=(2, 'Shovel of the Ancients')),
        Spell('Lucky Tunnel', [190], Effects(
            [['20']],
            None,
            ['buff_pow'],
        ), stacks=11, buff_scaling={'selection_count': 11,
 'stack_offset': 1,
 'stats': {'pow': {'base': 20, 'max_effective': 10, 'per_stack': 20}},
 'type': 'mp_buff'}),
        Spell('Bankruptcy', [60, 127, 194], Effects(
            [['26-29', '32-36', '36-40'], ['30-33', '37-41', '41-45']],
            [['31-35', '39-44', '43-48'], ['35-39', '44-49', '49-54']],
            [AIR, AIR],
        ), is_linked=(1, 'Shovel Throwing')),
        Spell('Prime of Life', [1, 67, 133], Effects(
            [['17-19', '22-25', '28-32']],
            [['20-23', '26-30', '34-38']],
            [EARTH],
        ), is_linked=(1, 'Placer Mining')),
        Spell('Shovel Throwing', [170], Effects(
            [['34-37']],
            [['41-44']],
            [EARTH],
        ), is_linked=(2, 'Bankruptcy')),
        Spell('Shovel Kiss', [1, 68, 134], Effects(
            [['11-13', '15-18', '19-23']],
            [['14-16', '19-22', '24-29']],
            [FIRE],
        ), is_linked=(1, 'Collapse')),
        Spell('Opportuneness', [1, 69, 136], Effects(
            [['8-10', '11-13', '14-16'], ['30', '50', '80']],
            [['11-13', '14-16', '17-19'], ['30', '50', '80']],
            [AIR, 'buff_pow'],
        ), stacks=2, is_linked=(1, 'Firedamp Explosion')),
    ],
    'Feca': [
        Spell('Backlash', [1, 66, 132], Effects(
            [['17-20', '23-26', '29-33']],
            [['21-24', '27-31', '35-40']],
            [EARTH],
        ), stacks=2, is_linked=(1, 'Tetany')),
        Spell('Scorched Dirt', [60, 127, 194], Effects(
            [['22-25', '27-30', '27-30'], ['0-0', '0-0', '30-34']],
            None,
            [FIRE, FIRE],
        ), is_linked=(1, 'Lookout')),
        Spell('Dirt Floor', [55, 122, 189], Effects(
            [['19-22', '25-29', '25-29'], ['0-0', '0-0', '29-33']],
            None,
            [EARTH, EARTH],
        ), is_linked=(1, 'Refuge')),
        Spell('Distrust', [85, 152], Effects(
            [['17-18', '21-22'], ['17-18', '21-22'], ['17-18', '21-22'], ['17-18', '21-22']],
            None,
            [EARTH, FIRE, WATER, AIR],
        ), is_linked=(1, 'Barrier')),
        Spell('Shiver', [30, 97, 164], Effects(
            [['16-18', '21-23', '26-29']],
            [['20-22', '25-28', '31-35']],
            [AIR],
        ), is_linked=(1, 'Sudden Shower')),
        Spell('Valley', [50, 117, 184], Effects(
            [['18-20', '24-27', '28-32']],
            None,
            [WATER],
        ), is_linked=(1, 'Black Ice')),
        Spell('Prairie', [45, 112, 179], Effects(
            [['20-22', '26-29', '31-35']],
            None,
            [AIR],
        ), is_linked=(1, 'Pastureland')),
        Spell('Lethargy', [20, 87, 154], Effects(
            [['18-20', '23-25', '28-31']],
            [['21-23', '27-30', '34-37']],
            [FIRE],
        ), is_linked=(1, 'Gather the Flock')),
        Spell('Bubble', [35, 102, 169], Effects(
            [['10-12', '13-15', '17-19']],
            [['13-15', '16-18', '20-23']],
            [WATER],
        ), is_linked=(1, 'Cowbell')),
        Spell('Bastion', [25, 92, 159], Effects(
            [['100', '150', '200']],
            None,
            ['buff_pow'],
        )),
        Spell('Reinforced Protection', [200], Effects(
            [['200'], ['200'], ['200'], ['200']],
            None,
            ['buff_str', 'buff_int', 'buff_cha', 'buff_agi'],
        )),
        Spell("Shepherd's Crook", [180], Effects(
            [['18-20']],
            [['22-24']],
            [FIRE],
        ), is_linked=(2, 'Silbo')),
        Spell('Gather the Flock', [130, 197], Effects(
            [['33-37', '38-42']],
            [['40-44', '46-50']],
            [EARTH],
        ), is_linked=(2, 'Lethargy')),
        Spell('Gust', [110, 177], Effects(
            [['20-22', '24-26']],
            [['24-27', '29-32']],
            [AIR],
        ), is_linked=(2, 'Typhoon')),
        Spell('Silbo', [70, 137], Effects(
            [['13-15', '17-19']],
            [['16-18', '20-23']],
            [AIR],
        ), is_linked=(1, "Shepherd's Crook")),
        Spell('Manuvre', [125, 192], Effects(
            [['33-37', '38-42']],
            [['40-44', '46-50']],
            [AIR],
        ), is_linked=(2, 'Drowsiness')),
        Spell('Pastureland', [155], Effects(
            [['31-35']],
            [['37-42']],
            [AIR],
        ), is_linked=(2, 'Prairie')),
        Spell('Lifelessness', [100, 167], Effects(
            [['24-28', '31-35']],
            [['30-34', '38-43']],
            [FIRE],
        ), is_linked=(2, 'Languor')),
        Spell('Stratus', [105, 172], Effects(
            [['25-27', '31-34']],
            [['30-33', '37-40']],
            [WATER],
        ), is_linked=(2, 'Nimbus')),
        Spell('Tetany', [95, 162], Effects(
            [['29-32', '36-40']],
            [['35-39', '43-48']],
            [EARTH],
        ), is_linked=(2, 'Backlash')),
        Spell('Barrier', [195], Effects(
            [['21-22'], ['21-22'], ['21-22'], ['21-22'], ['0-0'], ['0-0'], ['0-0'], ['0-0']],
            None,
            [EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR],
        ), is_linked=(2, 'Distrust')),
        Spell('Refuge', [165], Effects(
            [['32-36']],
            [['38-43']],
            [EARTH],
        ), is_linked=(2, 'Dirt Floor')),
        Spell('Sudden Shower', [140], Effects(
            [['36-40']],
            [['43-48']],
            [WATER],
        ), is_linked=(2, 'Shiver')),
        Spell('Black Ice', [160], Effects(
            [['31-35']],
            [['37-42']],
            [WATER],
        ), is_linked=(2, 'Valley')),
        Spell('Lookout', [170], Effects(
            [['30-34']],
            [['36-41']],
            [FIRE],
        ), is_linked=(2, 'Scorched Dirt')),
        Spell('Torpor', [75, 142], Effects(
            [['22-24', '27-30']],
            [['26-29', '32-36']],
            [EARTH],
        ), is_linked=(1, 'Getaway')),
        Spell('Cowbell', [145], Effects(
            [['32-36']],
            [['38-43']],
            [FIRE],
        ), is_linked=(2, 'Bubble')),
        Spell('Getaway', [185], Effects(
            [['27-29']],
            [['32-35']],
            [WATER],
        ), is_linked=(2, 'Torpor')),
        Spell('Languor', [1, 67, 133], Effects(
            [['16-18', '21-23', '27-29']],
            [['19-21', '25-27', '32-35']],
            [FIRE],
        ), stacks=2, is_linked=(1, 'Lifelessness')),
        Spell('Drowsiness', [15, 82, 149], Effects(
            [['17-19', '22-24', '27-30']],
            [['20-23', '26-29', '32-36']],
            [EARTH],
        ), is_linked=(1, 'Manuvre')),
        Spell('Nimbus', [1, 68, 134], Effects(
            [['13-15', '18-20', '23-25']],
            [['16-18', '21-23', '28-30']],
            [WATER],
        ), stacks=2, is_linked=(1, 'Stratus')),
        Spell('Typhoon', [1, 69, 136], Effects(
            [['15-17', '20-22', '25-27']],
            [['18-20', '24-26', '30-32']],
            [AIR],
        ), stacks=2, is_linked=(1, 'Gust')),
    ],
    'Foggernaut': [
        Spell('Tide', [25, 92, 159], Effects(
            [['21-24', '27-31', '34-38']],
            [['26-29', '33-37', '41-46']],
            [WATER],
        ), is_linked=(1, 'Vapour')),
        Spell('Backwash', [50, 117, 184], Effects(
            [['15-17', '20-23', '23-27']],
            [['18-20', '24-27', '28-32']],
            [EARTH],
        ), is_linked=(1, 'Froth')),
        Spell('Torrent', [60, 127, 194], Effects(
            [['22-25', '27-30', '30-34']],
            [['26-30', '32-36', '36-41']],
            [WATER],
        ), is_linked=(1, 'Harmattan')),
        Spell('Trident', [45, 112, 174], Effects(
            [['18-20', '23-26', '28-32']],
            [['21-24', '21-24', '21-24'], ['0-0', '28-32', '34-38']],
            [AIR],
        ), is_linked=(1, 'Capstan')),
        Spell('Froth', [160], Effects(
            [['32-36']],
            [['38-43']],
            [WATER],
        ), is_linked=(2, 'Backwash')),
        Spell('Vapour', [135], Effects(
            [['29-33']],
            [['35-40']],
            [FIRE],
        ), is_linked=(2, 'Tide')),
        Spell('Anchor', [70, 137], Effects(
            [['27-30', '35-38']],
            [['33-36', '42-46']],
            [EARTH],
        ), is_linked=(1, 'Short-Circuit')),
        Spell('Rudder', [105, 172], Effects(
            [['26-29', '31-34']],
            [['32-35', '37-41']],
            [EARTH],
        ), is_linked=(2, 'Torpedo')),
        Spell('Evolution', [10, 77, 144], Effects(
            [['40', '70', '100']],
            None,
            ['buff_pow'],
        ), stacks=2, is_linked=(1, 'Hypertension')),
        Spell('Ambush', [165], Effects(
            [['7-9'], ['7-9'], ['7-9'], ['7-9']],
            [['10-12'], ['10-12'], ['10-12'], ['10-12']],
            [WATER, EARTH, FIRE, AIR],
        ), is_linked=(2, 'Sonar')),
        Spell('First Aid', [65, 131, 198], Effects(
            [['18-21', '22-26', '25-29'],
             ['18-21', '22-26', '25-29'],
             ['18-21', '22-26', '25-29'],
             ['18-21', '22-26', '25-29']],
            [['22-25', '27-31', '30-35'],
             ['22-25', '27-31', '30-35'],
             ['22-25', '27-31', '30-35'],
             ['22-25', '27-31', '30-35']],
            [EARTH, FIRE, WATER, AIR],
            heals=[True, True, True, True],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Spyglass', [1, 66, 132], Effects(
            [['15-17', '20-23', '25-29']],
            [['18-21', '24-27', '30-35']],
            [WATER],
        ), is_linked=(1, 'Corrosion')),
        Spell('Harmattan', [170], Effects(
            [['31-35']],
            [['37-42']],
            [AIR],
        ), is_linked=(2, 'Torrent')),
        Spell('Corrosion', [95, 162], Effects(
            [['21-24', '26-30']],
            [['25-29', '31-36']],
            [AIR],
        ), is_linked=(2, 'Spyglass')),
        Spell('Valve', [100, 167], Effects(
            [['10-12', '13-15'], ['10-12', '13-15']],
            [['13-15', '16-18'], ['13-15', '16-18']],
            [FIRE, FIRE],
        ), is_linked=(2, 'Mooring')),
        Spell('Hypertension', [120, 187], Effects(
            [['150', '200']],
            None,
            ['buff_pow'],
        ), is_linked=(2, 'Evolution')),
        Spell('Periscope', [110, 177], Effects(
            [['24-28', '28-32']],
            [['29-33', '34-38']],
            [WATER],
        ), is_linked=(2, 'Hoofbeat')),
        Spell('Short-Circuit', [180], Effects(
            [['33-37']],
            [['40-44']],
            [FIRE],
        ), is_linked=(2, 'Anchor')),
        Spell('Sonar', [55, 122, 189], Effects(
            [['5-7', '8-10', '11-13'],
             ['5-7', '8-10', '11-13'],
             ['5-7', '8-10', '11-13'],
             ['5-7', '8-10', '11-13']],
            [['8-10', '11-13', '14-16'],
             ['8-10', '11-13', '14-16'],
             ['8-10', '11-13', '14-16'],
             ['8-10', '11-13', '14-16']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(1, 'Ambush')),
        Spell('Turbine', [30, 97, 164], Effects(
            [['17-20', '22-25', '27-31']],
            [['21-24', '26-30', '32-37']],
            [FIRE],
        ), is_linked=(1, 'Pilfer')),
        Spell('Capstan', [155], Effects(
            [['29-33']],
            [['35-40']],
            [EARTH],
        ), is_linked=(2, 'Trident')),
        Spell('Pilfer', [140], Effects(
            [['33-37'], ['23-25']],
            [['40-44'], ['28-30']],
            [AIR, AIR],
        ), is_linked=(2, 'Turbine')),
        Spell('Mooring', [1, 67, 133], Effects(
            [['11-13', '14-16', '16-18']],
            [['14-16', '17-20', '19-22']],
            [EARTH],
        ), is_linked=(1, 'Valve')),
        Spell('Torpedo', [1, 68, 134], Effects(
            [['15-17', '20-23', '25-29']],
            [['18-21', '24-28', '30-35']],
            [AIR],
        ), is_linked=(1, 'Rudder')),
        Spell('Hoofbeat', [1, 69, 136], Effects(
            [['13-15', '18-21', '22-25'],
             ['16-18', '24-27', '31-34'],
             ['19-21', '30-33', '40-43'],
             ['22-24', '36-39', '49-52'],
             ['25-27', '42-45', '58-61']],
            [['16-18', '22-25', '26-30'],
             ['19-21', '28-31', '35-39'],
             ['22-24', '34-37', '44-48'],
             ['25-27', '40-43', '53-57'],
             ['28-30', '46-49', '62-66']],
            [FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(1, 'Periscope')),
    ],
    'Forgelance': [
    ],
    'Huppermage': [
        Spell('Ether', [1, 66, 132], Effects(
            [['15-17', '20-22', '26-28'], ['10', '20', '30']],
            [['18-20', '24-26', '31-34'], ['10', '20', '30']],
            [AIR, 'buff_agi'],
        ), stacks=4, is_linked=(1, 'Stinger')),
        Spell('Elemental Drain', [10, 77, 144], Effects(
            [['14-16', '19-22', '23-27'],
             ['14-16', '19-22', '23-27'],
             ['14-16', '19-22', '23-27'],
             ['14-16', '19-22', '23-27'],
             ['60', '120', '200'],
             ['60', '120', '200'],
             ['60', '120', '200'],
             ['60', '120', '200']],
            [['17-19', '23-27', '28-32'],
             ['17-19', '23-27', '28-32'],
             ['17-19', '23-27', '28-32'],
             ['17-19', '23-27', '28-32'],
             ['60', '120', '200'],
             ['60', '120', '200'],
             ['60', '120', '200'],
             ['60', '120', '200']],
            [EARTH, FIRE, WATER, AIR, 'buff_str', 'buff_int', 'buff_cha', 'buff_agi'],
        ), is_linked=(1, 'Morph')),
        Spell('Storm', [15, 82, 149], Effects(
            [['17-20', '22-25', '27-31']],
            [['21-24', '26-30', '32-37']],
            [EARTH],
            steals=[True],
        ), is_linked=(1, 'Stalactite')),
        Spell('Striking Meteor', [80, 147], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [EARTH],
        ), is_linked=(1, 'Icy Shards')),
        Spell('Glacier', [35, 102, 169], Effects(
            [['18-21', '23-27', '29-33']],
            [['22-25', '28-32', '35-40']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Volcano')),
        Spell('Icy Shards', [190], Effects(
            [['34-38']],
            [['41-46']],
            [WATER],
        ), is_linked=(2, 'Striking Meteor')),
        Spell('Transfixing Gust', [20, 87, 154], Effects(
            [['16-19', '21-24', '26-30']],
            [['20-23', '25-29', '31-36']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Tectonic Breach')),
        Spell('Astral Blade', [160], Effects(
            [['33-36']],
            [['40-43']],
            [AIR],
        ), is_linked=(2, 'Deflagration')),
        Spell('Burning Stroke', [30, 97, 164], Effects(
            [['18-20', '23-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [FIRE],
            steals=[True],
        ), is_linked=(1, 'Hurricane')),
        Spell('Deflagration', [50, 117, 184], Effects(
            [['20-22', '27-30', '32-35']],
            [['24-27', '33-36', '38-42']],
            [FIRE],
        ), is_linked=(1, 'Astral Blade')),
        Spell('Journey', [40, 107, 174], Effects(
            [['15-24', '23-32', '31-40'],
             ['15-24', '23-32', '31-40'],
             ['15-24', '23-32', '31-40'],
             ['15-24', '23-32', '31-40']],
            [['25-34', '33-42', '41-50'],
             ['25-34', '33-42', '41-50'],
             ['25-34', '33-42', '41-50'],
             ['25-34', '33-42', '41-50']],
            [EARTH, FIRE, WATER, AIR],
        )),
        Spell('Contribution', [55, 122, 189], Effects(
            [['150', '150', '150']],
            None,
            ['buff_pow'],
        ), stacks=2),
        Spell('Celestial Wave', [105, 172], Effects(
            [['11-13', '14-16'], ['11-13', '14-16']],
            [['14-16', '17-19'], ['14-16', '17-19']],
            [AIR, EARTH],
        ), is_linked=(2, 'Flamethrower')),
        Spell('Stinger', [95, 162], Effects(
            [['9-11', '12-14'], ['9-11', '12-14']],
            [['12-14', '15-17'], ['12-14', '15-17']],
            [EARTH, WATER],
        ), is_linked=(2, 'Ether')),
        Spell('Cataract', [100, 167], Effects(
            [['15-17', '18-20'], ['15-17', '18-20']],
            [['18-20', '21-23'], ['18-20', '21-23']],
            [WATER, FIRE],
        ), is_linked=(2, 'Telluric Wave')),
        Spell('Ember', [110, 177], Effects(
            [['13-15', '16-18'], ['13-15', '16-18']],
            [['16-18', '19-21'], ['16-18', '19-21']],
            [FIRE, AIR],
        ), is_linked=(2, 'Stalagmite')),
        Spell('Morph', [120, 187], Effects(
            [['24-27', '28-32'], ['24-27', '28-32'], ['24-27', '28-32'], ['24-27', '28-32']],
            [['29-33', '34-38'], ['29-33', '34-38'], ['29-33', '34-38'], ['29-33', '34-38']],
            [WATER, EARTH, AIR, FIRE],
        ), is_linked=(2, 'Elemental Drain')),
        Spell('Hurricane', [140], Effects(
            [['17-19']],
            [['20-23']],
            [AIR],
        ), is_linked=(2, 'Burning Stroke')),
        Spell('Telluric Blade', [185], Effects(
            [['34-38']],
            [['41-46']],
            [EARTH],
        ), is_linked=(2, 'Comet')),
        Spell('Stalactite', [125, 192], Effects(
            [['20-22', '23-25']],
            [['24-26', '27-30']],
            [WATER],
        ), is_linked=(2, 'Storm')),
        Spell('Volcano', [145], Effects(
            [['19-21']],
            [['23-25']],
            [FIRE],
        ), is_linked=(2, 'Glacier')),
        Spell('Flood', [60, 127, 194], Effects(
            [['22-25', '28-31', '31-35']],
            [['27-30', '33-37', '37-42']],
            [WATER],
        ), is_linked=(1, 'Sun Lance')),
        Spell('Sun Lance', [170], Effects(
            [['33-37']],
            [['40-44']],
            [FIRE],
        ), is_linked=(2, 'Flood')),
        Spell('Runic Overcharge', [175], Effects(
            [['10-0'], ['10-0'], ['10-0'], ['10-0']],
            None,
            [WATER, FIRE, AIR, EARTH],
        )),
        Spell('Tectonic Breach', [130, 197], Effects(
            [['12-14', '14-16']],
            [['15-17', '17-19']],
            [EARTH],
        ), is_linked=(2, 'Transfixing Gust')),
        Spell('Comet', [75, 142], Effects(
            [['26-28', '32-35']],
            [['31-34', '38-42']],
            [AIR],
        ), is_linked=(1, 'Telluric Blade')),
        Spell('Tribute', [90, 157], Effects(
            [['150', '150']],
            None,
            ['buff_pow'],
        ), is_linked=(1, 'Arcane Torrent')),
        Spell('Arcane Torrent', [200], Effects(
            [['3-0'], ['3-0'], ['3-0'], ['3-0']],
            [['4-0'], ['4-0'], ['4-0'], ['4-0']],
            [AIR, EARTH, FIRE, WATER],
        ), stacks=6, is_linked=(2, 'Tribute')),
        Spell('Telluric Wave', [1, 67, 133], Effects(
            [['14-16', '19-21', '24-27'], ['10', '20', '30']],
            [['17-19', '22-25', '29-32'], ['10', '20', '30']],
            [EARTH, 'buff_str'],
        ), stacks=4, is_linked=(1, 'Cataract')),
        Spell('Flamethrower', [1, 68, 134], Effects(
            [['16-18', '21-23', '27-30'], ['10', '20', '30']],
            [['19-21', '25-28', '32-36'], ['10', '20', '30']],
            [FIRE, 'buff_int'],
        ), stacks=4, is_linked=(1, 'Celestial Wave')),
        Spell('Stalagmite', [1, 69, 136], Effects(
            [['17-19', '23-25', '29-32'], ['10', '20', '30']],
            [['21-23', '27-30', '35-38'], ['10', '20', '30']],
            [WATER, 'buff_cha'],
        ), stacks=4, is_linked=(1, 'Ember')),
    ],
    'Iop': [
        Spell('Pressure', [1, 66, 132], Effects(
            [['16-18', '20-23', '26-30']],
            [['19-21', '24-28', '31-36']],
            [EARTH],
        ), stacks=2, is_linked=(1, 'Fracture')),
        Spell('Sword of Fate', [80, 147], Effects(
            [['31-34', '38-42']],
            [['37-40', '46-50']],
            [FIRE],
        ), is_linked=(1, 'Tumult')),
        Spell('Breath', [30, 97, 164], Effects(
            [['8-10', '10-12', '13-15']],
            [['11-13', '13-15', '16-18']],
            [AIR],
        ), is_linked=(1, 'Gathering')),
        Spell('Sword of Judgement', [110, 177], Effects(
            [['26-30', '31-35'], ['41-44', '48-52']],
            [['32-36', '37-42'], ['49-53', '58-62']],
            [WATER, WATER],
        ), is_linked=(2, 'Divine Sword')),
        Spell('Power', [40, 107, 174], Effects(
            [['150', '200', '300']],
            [['180', '240', '350']],
            ['buff_pow'],
        )),
        Spell('Destructive Sword', [35, 102, 169], Effects(
            [['20-23', '26-29', '32-36']],
            [['24-27', '31-35', '38-43']],
            [FIRE],
        ), stacks=2, is_linked=(1, 'Castigation')),
        Spell('Strengthstorm', [45, 112, 179], Effects(
            [['17-19', '22-25', '27-30'],
             ['17-19', '22-25', '27-30'],
             ['24-27', '32-35', '38-42']],
            [['20-23', '26-29', '32-35'],
             ['20-23', '26-29', '32-35'],
             ['29-33', '38-42', '46-50']],
            [FIRE, FIRE, FIRE],
        ), stacks=2, is_linked=(1, 'Pounding')),
        Spell('Celestial Sword', [70, 137], Effects(
            [['28-31', '36-40']],
            [['34-37', '43-48']],
            [AIR],
        ), is_linked=(1, 'Zenith')),
        Spell('Concentration', [15, 82, 149], Effects(
            [['13-15', '16-19', '20-24'], ['19-21', '25-28', '30-34']],
            [['16-19', '20-24', '25-30'], ['24-27', '30-34', '37-42']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Sentence')),
        Spell("Iop's Wrath", [200], Effects(
            [['81-100']],
            [['97-120']],
            [EARTH],
        ), is_linked=(2, 'Fit of Rage')),
        Spell('Sword of Iop', [60, 127, 194], Effects(
            [['27-30', '33-37', '37-41']],
            [['32-36', '40-44', '44-49']],
            [EARTH],
        ), is_linked=(1, 'Cleaver')),
        Spell('Outpouring', [20, 87, 154], Effects(
            [['24-27', '31-34', '38-42']],
            [['29-32', '37-40', '46-50']],
            [WATER],
        ), is_linked=(1, 'Destructive Ring')),
        Spell('Threat', [100, 167], Effects(
            [['21-23', '26-28']],
            [['25-27', '31-34']],
            [WATER],
        ), is_linked=(2, 'Fervour')),
        Spell('Pounding', [155], Effects(
            [['27-30']],
            [['32-36']],
            [AIR],
        ), is_linked=(2, 'Strengthstorm')),
        Spell('Endurance', [50, 117, 184], Effects(
            [['22-25', '27-30', '30-34']],
            [['27-30', '32-36', '36-41']],
            [WATER],
        ), is_linked=(1, 'Pygmachia')),
        Spell('Cleaver', [170], Effects(
            [['47-53']],
            [['56-64']],
            [WATER],
        ), is_linked=(2, 'Sword of Iop')),
        Spell('Destructive Ring', [130, 197], Effects(
            [['22-25', '24-28']],
            [['26-30', '29-34']],
            [AIR],
        ), is_linked=(2, 'Outpouring')),
        Spell('Gathering', [140], Effects(
            [['22-25']],
            [['26-30']],
            [FIRE],
        ), is_linked=(2, 'Breath')),
        Spell('Accumulation', [105, 172], Effects(
            [['19-22', '22-26']],
            [['22-27', '26-31']],
            [EARTH],
        ), is_linked=(2, 'Chopper')),
        Spell('Fracture', [95, 162], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [AIR],
        ), stacks=2, is_linked=(2, 'Pressure')),
        Spell('Tumult', [190], Effects(
            [['19-21'], ['39-41'], ['59-61'], ['79-81'], ['99-101']],
            [['23-25'], ['43-45'], ['63-65'], ['83-85'], ['103-105']],
            [FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Sword of Fate')),
        Spell('Zenith', [180], Effects(
            [['27-29'], ['52-58']],
            [['31-35'], ['64-70']],
            [AIR, AIR],
        ), is_linked=(2, 'Celestial Sword')),
        Spell('Pygmachia', [160], Effects(
            [['9-11']],
            [['12-14']],
            [EARTH],
        ), is_linked=(2, 'Endurance')),
        Spell('Sentence', [125, 192], Effects(
            [['11-14', '13-16'], ['23-26', '23-26'], ['0-0', '26-30']],
            [['15-18', '15-18'], ['27-31', '27-31'], ['0-0', '17-20'], ['0-0', '32-36']],
            [FIRE, FIRE, FIRE],
        ), is_linked=(2, 'Concentration')),
        Spell('Fit of Rage', [90, 157], Effects(
            [['23-26', '28-32'],
             ['43-46', '48-52'],
             ['63-66', '68-72'],
             ['83-86', '88-92'],
             ['103-106', '108-112']],
            [['27-31', '34-38'],
             ['47-51', '54-58'],
             ['67-71', '74-78'],
             ['87-91', '94-98'],
             ['107-111', '114-118']],
            [EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=2, is_linked=(1, "Iop's Wrath")),
        Spell('Castigation', [145], Effects(
            [['28-31']],
            [['34-37']],
            [WATER],
        ), stacks=2, is_linked=(2, 'Destructive Sword')),
        Spell('Intimidation', [5, 72, 139], Effects(
            [['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10']],
            [['7-9', '9-11', '11-13'],
             ['7-9', '9-11', '11-13'],
             ['7-9', '9-11', '11-13'],
             ['7-9', '9-11', '11-13']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Fervour', [1, 67, 133], Effects(
            [['9-11', '13-15', '16-19']],
            [['12-14', '16-18', '20-23']],
            [WATER],
        ), is_linked=(1, 'Threat')),
        Spell('Chopper', [1, 68, 134], Effects(
            [['17-19', '22-25', '28-32']],
            [['20-23', '26-30', '34-38']],
            [FIRE],
        ), is_linked=(1, 'Accumulation')),
        Spell('Divine Sword', [1, 69, 136], Effects(
            [['14-17', '19-22', '24-28']],
            [['18-21', '23-26', '29-34']],
            [AIR],
        ), is_linked=(1, 'Sword of Judgement')),
    ],
    'Masqueraider': [
        Spell('Martelo', [105, 172], Effects(
            [['20-22', '22-25']],
            [['24-27', '26-30']],
            [EARTH],
        ), is_linked=(2, 'Parafuso')),
        Spell('Retention', [175], Effects(
            [['27-31']],
            [['33-37']],
            [AIR],
            steals=[True],
        ), is_linked=(2, 'Apathy')),
        Spell('Distance', [165], Effects(
            [['28-30']],
            [['33-36']],
            [WATER],
        ), is_linked=(2, 'Inferno')),
        Spell('Apathy', [65, 131, 198], Effects(
            [['23-26', '28-31', '31-35']],
            [['28-31', '33-37', '37-42']],
            [EARTH],
        ), is_linked=(1, 'Retention')),
        Spell('Furia', [35, 102, 169], Effects(
            [['21-23', '28-31', '35-39']],
            [['25-28', '34-38', '42-47']],
            [EARTH],
        ), is_linked=(1, 'Bocciara')),
        Spell('Capering', [45, 112, 179], Effects(
            [['20-23', '26-29', '31-35']],
            [['24-27', '31-35', '37-42']],
            [AIR],
        ), is_linked=(1, 'Purgatorio')),
        Spell('Boliche', [70, 137], Effects(
            [['23-25', '29-32']],
            [['27-30', '35-38']],
            [WATER],
        ), is_linked=(1, 'Ronda')),
        Spell('Shove Off', [15, 82, 149], Effects(
            [['6-7', '7-8', '8-9'],
             ['6-7', '7-8', '8-9'],
             ['6-7', '7-8', '8-9'],
             ['6-7', '7-8', '8-9']],
            [['8-9', '9-10', '10-11'],
             ['8-9', '9-10', '10-11'],
             ['8-9', '9-10', '10-11'],
             ['8-9', '9-10', '10-11']],
            [FIRE, EARTH, WATER, AIR],
        )),
        Spell('Masquerade', [185], Effects(
            [['25-0'], ['25-0'], ['25-0'], ['25-0']],
            None,
            [NEUTRAL, NEUTRAL, NEUTRAL, NEUTRAL],
        )),
        Spell('Agular', [135], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Ponteira')),
        Spell('Decoy', [110, 177], Effects(
            [['20-23', '24-28']],
            [['24-28', '29-33']],
            [FIRE],
            steals=[True],
        ), is_linked=(2, 'Cavalcade')),
        Spell('Bocciara', [145], Effects(
            [['19-22']],
            [['23-26']],
            [WATER],
        ), is_linked=(2, 'Furia')),
        Spell('Apostasy', [100, 167], Effects(
            [['22-24', '27-30']],
            [['26-29', '32-36']],
            [FIRE],
        ), is_linked=(2, 'Catalepsy')),
        Spell('Ponteira', [25, 92, 159], Effects(
            [['14-16', '19-21', '23-26']],
            [['17-20', '22-25', '28-31']],
            [WATER],
        ), is_linked=(1, 'Agular')),
        Spell('Inferno', [55, 122, 189], Effects(
            [['27-29', '36-39', '41-45'], ['100', '150', '200']],
            [['32-35', '43-47', '49-54'], ['100', '150', '200']],
            [FIRE, 'buff_pow'],
        ), is_linked=(1, 'Distance')),
        Spell('Brincaderia', [1, 66, 132], Effects(
            [['7-9', '10-12', '13-15']],
            [['10-12', '13-15', '16-18']],
            [FIRE],
        ), is_linked=(1, 'Picada')),
        Spell('Neurosis', [190], Effects(
            [['250']],
            None,
            ['buff_pow'],
        )),
        Spell('Ronda', [180], Effects(
            [['38-42']],
            [['46-50']],
            [EARTH],
        ), is_linked=(2, 'Boliche')),
        Spell('Purgatorio', [155], Effects(
            [['32-36']],
            [['38-43']],
            [FIRE],
        ), is_linked=(2, 'Capering')),
        Spell('Transfiguration', [200], Effects(
            [['20']],
            None,
            ['buff_final'],
        ), is_linked=(2, 'Carnavalo')),
        Spell('Carnavalo', [90, 157], Effects(
            [['19-23', '24-28'],
             ['19-23', '24-28'],
             ['19-23', '24-28'],
             ['19-23', '24-28'],
             ['29-33', '39-43'],
             ['29-33', '39-43'],
             ['29-33', '39-43'],
             ['29-33', '39-43']],
            [['24-28', '29-34'],
             ['24-28', '29-34'],
             ['24-28', '29-34'],
             ['24-28', '29-34'],
             ['34-38', '45-50'],
             ['34-38', '45-50'],
             ['34-38', '45-50'],
             ['34-38', '45-50']],
            [EARTH, FIRE, WATER, AIR, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]),
 ('', [1]),
 ('', [2]),
 ('', [3]),
 ('Hit in best element', [4]),
 ('', [5]),
 ('', [6]),
 ('', [7])], is_linked=(1, 'Transfiguration')),
        Spell('Catalepsy', [1, 67, 133], Effects(
            [['13-15', '18-20', '23-25']],
            [['16-18', '22-24', '28-30']],
            [EARTH],
            steals=[True],
        ), is_linked=(1, 'Apostasy')),
        Spell('Parafuso', [1, 68, 134], Effects(
            [['13-15', '17-19', '21-24']],
            [['16-18', '20-23', '25-29']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Martelo')),
        Spell('Picada', [95, 162], Effects(
            [['20-22', '25-28']],
            [['23-26', '30-33']],
            [AIR],
        ), is_linked=(2, 'Brincaderia')),
        Spell('Cavalcade', [1, 69, 136], Effects(
            [['23-25', '30-33', '38-42']],
            [['27-30', '36-39', '46-50']],
            [AIR],
        ), is_linked=(1, 'Decoy')),
    ],
    'Osamodas': [
        Spell('Crobak Call', [1, 66, 132], Effects(
            [['14-16', '18-20', '23-26'], ['14-16', '18-20', '23-26']],
            [['17-19', '21-24', '28-31'], ['17-19', '21-24', '28-31']],
            [AIR, AIR],
            heals=[False, True],
        ), is_linked=(1, 'Fangs of Boowolf')),
        Spell('Whip', [5, 72, 139], Effects(
            [['10-12', '13-15', '17-19'],
             ['10-12', '13-15', '17-19'],
             ['10-12', '13-15', '17-19'],
             ['10-12', '13-15', '17-19']],
            [['13-15', '16-18', '20-23'],
             ['13-15', '16-18', '20-23'],
             ['13-15', '16-18', '20-23'],
             ['13-15', '16-18', '20-23']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(1, 'Crop')),
        Spell('Leap-Froog', [40, 107, 174], Effects(
            [['16-18', '21-23', '26-30']],
            [['20-22', '25-28', '31-35']],
            [WATER],
        ), is_linked=(1, 'Feather Tornado')),
        Spell('Draconic Breath', [45, 112, 179], Effects(
            [['14-16', '19-22', '23-26']],
            [['17-20', '23-26', '28-31']],
            [FIRE],
        ), is_linked=(1, 'Crackler Punch')),
        Spell('Bestial Charge', [50, 117, 184], Effects(
            [['16-18', '22-25', '26-29']],
            [['20-22', '27-30', '31-35']],
            [EARTH],
        ), is_linked=(1, 'Song of the Phoenix')),
        Spell('Air Ace', [55, 122, 189], Effects(
            [['16-18', '21-24', '24-27']],
            [['19-21', '25-28', '29-32']],
            [AIR],
        ), is_linked=(1, 'Whirlwind')),
        Spell('Discipline', [60, 127, 194], Effects(
            [['14-16', '17-20', '19-22'],
             ['14-16', '17-20', '19-22'],
             ['14-16', '17-20', '19-22'],
             ['14-16', '17-20', '19-22']],
            [['17-19', '21-24', '23-26'],
             ['17-19', '21-24', '23-26'],
             ['17-19', '21-24', '23-26'],
             ['17-19', '21-24', '23-26']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(1, 'Swift Whip')),
        Spell('Bear Cry', [1, 69, 136], Effects(
            [['14-16', '18-20', '23-26'], ['14-16', '18-20', '23-26'], ['30', '75', '150']],
            [['17-19', '21-24', '28-31'], ['17-19', '21-24', '28-31'], ['30', '75', '150']],
            [EARTH, EARTH, 'buff_pow'],
            heals=[True, False, False],
        ), is_linked=(1, 'Swamp')),
        Spell('Vulture Talons', [125, 192], Effects(
            [['18-20', '22-25']],
            [['21-24', '26-30']],
            [AIR],
        )),
        Spell('Chtiger Claws', [120, 187], Effects(
            [['21-23', '26-29']],
            [['25-28', '31-35']],
            [FIRE],
        )),
        Spell('Piranya Teeth', [1, 68, 134], Effects(
            [['15-17', '20-22', '25-28'], ['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-34'], ['18-20', '23-26', '30-34']],
            [WATER, WATER],
            steals=[True, False],
            heals=[False, True],
        ), is_linked=(1, 'Wild Heart')),
        Spell('Crop', [115, 182], Effects(
            [['11-13', '13-15'], ['11-13', '13-15'], ['11-13', '13-15'], ['11-13', '13-15']],
            [['14-16', '16-18'], ['14-16', '16-18'], ['14-16', '16-18'], ['14-16', '16-18']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(2, 'Whip')),
        Spell('Plucking', [100, 167], Effects(
            [['23-25', '26-29'],
             ['25-27', '30-33'],
             ['27-29', '34-37'],
             ['29-31', '38-41'],
             ['31-33', '42-45'],
             ['33-35', '46-49'],
             ['35-37', '50-53'],
             ['37-39', '54-57'],
             ['39-41', '58-61'],
             ['41-43', '62-65'],
             ['43-45', '66-69']],
            [['27-30', '31-35'],
             ['29-32', '35-39'],
             ['31-34', '39-43'],
             ['33-36', '43-47'],
             ['35-38', '47-51'],
             ['37-40', '51-55'],
             ['39-42', '55-59'],
             ['41-44', '59-63'],
             ['43-46', '63-67'],
             ['45-48', '67-71'],
             ['47-50', '71-75']],
            [AIR, AIR, AIR, AIR, AIR, AIR, AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4]),
 ('Stack 5', [5]),
 ('Stack 6', [6]),
 ('Stack 7', [7]),
 ('Stack 8', [8]),
 ('Stack 9', [9]),
 ('Stack 10', [10])], is_linked=(2, 'Prespic Peaks')),
        Spell('Golden Fleece', [130, 197], Effects(
            [['22-24', '24-27']],
            [['26-29', '29-32']],
            [EARTH],
        )),
        Spell('Swamp', [110, 177], Effects(
            [['22-24', '27-30'],
             ['25-27', '31-34'],
             ['28-30', '35-38'],
             ['31-33', '39-42'],
             ['34-36', '43-46']],
            [['26-29', '32-36'],
             ['29-32', '36-40'],
             ['32-35', '40-44'],
             ['35-38', '44-48'],
             ['38-41', '48-52']],
            [WATER, WATER, WATER, WATER, WATER],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Bear Cry')),
        Spell('Wild Heart', [105, 172], Effects(
            [['23-27', '29-33'],
             ['25-29', '33-37'],
             ['27-31', '37-41'],
             ['29-33', '41-45'],
             ['31-35', '45-49'],
             ['33-37', '49-53'],
             ['35-39', '53-57'],
             ['37-41', '57-61'],
             ['39-43', '61-65'],
             ['41-45', '65-69'],
             ['43-47', '69-73']],
            [['28-32', '35-40'],
             ['30-34', '39-44'],
             ['32-36', '43-48'],
             ['34-38', '47-52'],
             ['36-40', '51-56'],
             ['38-42', '55-60'],
             ['40-44', '59-64'],
             ['42-46', '63-68'],
             ['44-48', '67-72'],
             ['46-50', '71-76'],
             ['48-52', '75-80']],
            [FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4]),
 ('Stack 5', [5]),
 ('Stack 6', [6]),
 ('Stack 7', [7]),
 ('Stack 8', [8]),
 ('Stack 9', [9]),
 ('Stack 10', [10])], is_linked=(2, 'Piranya Teeth')),
        Spell('Bestial Pact', [140], Effects(
            [['3'], ['3']],
            None,
            ['buff_final', 'buff_finalheals'],
        ), stacks=11, buff_scaling={'selection_count': 11,
 'stack_offset': 1,
 'stats': {'final': {'base': 10, 'max_effective': 10, 'per_stack': 3},
           'finalheals': {'base': 10, 'max_effective': 10, 'per_stack': 3}},
 'type': 'summon_final'}),
        Spell('Feather Tornado', [150], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, 'Leap-Froog')),
        Spell('Crackler Punch', [155], Effects(
            [['31-35']],
            [['37-42']],
            [EARTH],
        ), is_linked=(2, 'Draconic Breath')),
        Spell('Song of the Phoenix', [160], Effects(
            [['30-34'], ['30-34']],
            [['36-41'], ['36-41']],
            [FIRE, FIRE],
            heals=[True, False],
        ), is_linked=(2, 'Bestial Charge')),
        Spell('Whirlwind', [165], Effects(
            [['31-35']],
            [['37-42']],
            [WATER],
        ), is_linked=(2, 'Air Ace')),
        Spell('Swift Whip', [170], Effects(
            [['21-24'], ['21-24'], ['21-24'], ['21-24']],
            [['25-29'], ['25-29'], ['25-29'], ['25-29']],
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(2, 'Discipline')),
        Spell('Prespic Peaks', [1, 67, 133], Effects(
            [['14-16', '19-21', '24-27'], ['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32'], ['17-19', '22-25', '29-32']],
            [FIRE, FIRE],
            heals=[False, True],
        ), is_linked=(1, 'Plucking')),
        Spell('Snake Bite', [135], Effects(
            [['15-17']],
            [['18-20']],
            [WATER],
        )),
        Spell('Fangs of Boowolf', [95, 162], Effects(
            [['26-28', '29-31'],
             ['36-38', '41-43'],
             ['46-48', '53-55'],
             ['56-58', '65-67'],
             ['66-68', '77-79']],
            [['29-31', '35-37'],
             ['39-41', '47-49'],
             ['49-51', '59-61'],
             ['59-61', '71-73'],
             ['69-71', '83-85']],
            [EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Crobak Call')),
    ],
    'Ouginak': [
        Spell('Tetanisation', [190], Effects(
            [['41-46']],
            [['49-55']],
            [FIRE],
        ), is_linked=(2, 'Bloodhound')),
        Spell('Tally Ho', [35, 102, 169], Effects(
            [['18-20', '23-25', '29-31']],
            [['22-24', '28-30', '35-37']],
            [FIRE],
            steals=[True],
        ), stacks=2, is_linked=(1, 'Woof')),
        Spell('Watchdog', [1, 66, 132], Effects(
            [['18-20', '24-27', '31-34']],
            [['22-24', '29-32', '37-41']],
            [EARTH],
        ), is_linked=(1, 'Jaw')),
        Spell('Mastiff', [65, 131, 198], Effects(
            [['10-12', '13-15', '17-19']],
            [['13-15', '16-18', '20-23']],
            [EARTH],
            steals=[True],
        ), stacks=2, is_linked=(1, 'Stripping')),
        Spell('Cerberus', [130, 197], Effects(
            [['13-16', '15-18'],
             ['19-22', '21-25'],
             ['13-16', '15-18'],
             ['13-16', '15-18'],
             ['11-12', '13-14'],
             ['11-12', '13-14'],
             ['11-12', '13-14']],
            [['17-20', '19-23'],
             ['23-27', '26-30'],
             ['17-20', '19-22'],
             ['17-20', '19-22'],
             ['13-14', '15-16'],
             ['13-14', '15-16'],
             ['13-14', '15-16']],
            [EARTH, EARTH, EARTH, EARTH, EARTH, EARTH, EARTH],
        ), is_linked=(2, 'Amarok')),
        Spell('Ulna', [25, 92, 159], Effects(
            [['10-12', '14-16', '16-18']],
            [['13-15', '17-19', '19-22']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Calcaneus')),
        Spell('Tibia', [55, 122, 189], Effects(
            [['25-28', '32-36', '40-45']],
            [['30-34', '39-43', '48-54']],
            [WATER],
        ), is_linked=(1, 'Humerus')),
        Spell('Bloodhound', [80, 147], Effects(
            [['23-25', '28-31']],
            [['27-30', '34-37']],
            [AIR],
        ), is_linked=(1, 'Tetanisation')),
        Spell('Carcass', [40, 107, 174], Effects(
            [['5-7', '7-9', '9-11'],
             ['9-11', '12-14', '15-17'],
             ['13-15', '17-19', '21-23'],
             ['17-19', '22-24', '27-29'],
             ['21-23', '27-29', '33-35']],
            [['8-10', '10-12', '12-14'],
             ['12-14', '15-17', '18-20'],
             ['16-18', '20-22', '24-26'],
             ['20-22', '25-27', '30-32'],
             ['24-26', '30-32', '36-38']],
            [AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=4, is_linked=(1, 'Beaten')),
        Spell('R-Canine', [30, 97, 164], Effects(
            [['50', '70', '100']],
            None,
            ['buff_pow'],
        ), stacks=2),
        Spell('Jaw', [95, 162], Effects(
            [['23-25', '28-31']],
            [['27-30', '34-37']],
            [FIRE],
        ), is_linked=(2, 'Watchdog')),
        Spell('Calcaneus', [135], Effects(
            [['19-21']],
            [['23-25']],
            [WATER],
            steals=[True],
        ), is_linked=(2, 'Ulna')),
        Spell('Stripping', [175], Effects(
            [['35-39'], ['55-59'], ['75-79'], ['95-99'], ['115-119']],
            [['42-47'], ['62-67'], ['82-87'], ['102-107'], ['122-127']],
            [AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Mastiff')),
        Spell('Woof', [145], Effects(
            [['20-22']],
            [['24-26']],
            [FIRE],
            steals=[True],
        ), stacks=2, is_linked=(2, 'Tally Ho')),
        Spell('Muzzle', [100, 167], Effects(
            [['30-33', '37-41'],
             ['48-51', '59-63'],
             ['66-69', '81-85'],
             ['84-87', '103-107'],
             ['102-105', '125-129']],
            [['36-39', '44-49'],
             ['54-57', '66-71'],
             ['72-75', '88-93'],
             ['90-93', '110-115'],
             ['108-111', '132-137']],
            [EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Marrow Bone')),
        Spell('Humerus', [165], Effects(
            [['41-46']],
            [['49-55']],
            [EARTH],
        ), is_linked=(2, 'Tibia')),
        Spell('Hunt', [50, 117, 184], Effects(
            [['25-28', '33-37', '39-44']],
            [['30-33', '40-45', '47-53']],
            [FIRE],
        ), is_linked=(1, 'Vertebra')),
        Spell('Beaten', [150], Effects(
            [['27-30'], ['150']],
            [['32-36'], ['150']],
            [AIR, 'buff_pow'],
        ), is_linked=(2, 'Carcass')),
        Spell('Radius', [105, 172], Effects(
            [['26-29', '32-36']],
            [['31-35', '38-43']],
            [WATER],
        ), is_linked=(2, 'Carrion')),
        Spell('Vertebra', [160], Effects(
            [['32-36'], ['32-36']],
            [['38-43'], ['38-43']],
            [WATER, WATER],
        ), stacks=2, is_linked=(2, 'Hunt')),
        Spell('Amarok', [20, 87, 154], Effects(
            [['18-20', '23-25', '28-31']],
            [['21-23', '27-30', '34-37']],
            [EARTH],
        ), is_linked=(1, 'Cerberus')),
        Spell('Gnaw', [185], Effects(
            [['30']],
            None,
            ['buff_pow'],
        )),
        Spell('Carving Up', [110, 177], Effects(
            [['34-38', '40-45']],
            [['41-46', '48-54']],
            [AIR],
        ), is_linked=(2, 'Tracking')),
        Spell('Marrow Bone', [1, 67, 133], Effects(
            [['12-14', '16-19', '21-24'],
             ['16-18', '21-24', '27-30'],
             ['20-22', '26-29', '33-36'],
             ['24-26', '31-34', '39-42'],
             ['28-30', '36-39', '45-48']],
            [['15-17', '20-22', '25-29'],
             ['19-21', '25-27', '31-35'],
             ['23-25', '30-32', '37-41'],
             ['27-29', '35-37', '43-47'],
             ['31-33', '40-42', '49-53']],
            [WATER, WATER, WATER, WATER, WATER],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=4, is_linked=(1, 'Muzzle')),
        Spell('Carrion', [1, 68, 134], Effects(
            [['18-20', '25-27', '29-32']],
            [['22-24', '30-33', '35-38']],
            [AIR],
        ), stacks=2, is_linked=(1, 'Radius')),
        Spell('Tracking', [1, 69, 136], Effects(
            [['19-21', '25-28', '31-35']],
            [['22-25', '30-34', '37-42']],
            [FIRE],
        ), is_linked=(1, 'Carving Up')),
    ],
    'Pandawa': [
        Spell('Alcoholic Breath', [170], Effects(
            [['28-32'], ['34-38']],
            [['34-38'], ['40-44']],
            [AIR, AIR],
        ), is_linked=(2, 'Eviction')),
        Spell('Propulsion', [40, 107, 174], Effects(
            [['21-23', '27-30', '33-37'], ['21-23', '27-30', '33-37']],
            [['25-28', '32-36', '40-44'], ['25-28', '32-36', '40-44']],
            [AIR, AIR],
        ), is_linked=(1, 'Absinthe')),
        Spell('Eviction', [60, 127, 194], Effects(
            [['11-13', '13-15', '15-17'], ['11-13', '13-15', '15-17']],
            [['14-16', '16-18', '19-21'], ['14-16', '16-18', '19-21']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Alcoholic Breath')),
        Spell('Pandilongation', [25, 92, 159], Effects(
            [['18-20', '23-25', '28-31'], ['18-20', '23-25', '28-31']],
            [['21-23', '27-30', '34-37'], ['21-23', '27-30', '34-37']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Liqueur')),
        Spell('Melancholy', [80, 147], Effects(
            [['29-32', '36-40'], ['35-38', '44-48']],
            [['35-39', '43-48'], ['41-45', '51-56']],
            [WATER, WATER],
        ), is_linked=(1, 'Pandjiu')),
        Spell('Explosive Flask', [65, 131, 198], Effects(
            [['13-15', '16-18', '18-20'], ['16-19', '20-22', '22-25']],
            [['16-18', '19-21', '22-24'], ['20-22', '24-27', '26-30']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Pandatak')),
        Spell('Pandatak', [175], Effects(
            [['38-42'], ['46-50']],
            [['46-50'], ['54-58']],
            [EARTH, EARTH],
        ), is_linked=(2, 'Explosive Flask')),
        Spell('Hangover', [1, 66, 132], Effects(
            [['14-16', '19-22', '24-27'],
             ['18-20', '25-28', '34-37'],
             ['18-20', '25-28', '34-37']],
            [['17-19', '22-25', '29-32'],
             ['21-23', '28-31', '39-42'],
             ['21-23', '28-31', '39-42']],
            [EARTH, EARTH, EARTH],
        ), is_linked=(1, 'Fiery Breath')),
        Spell('Fiery Breath', [95, 162], Effects(
            [['31-34', '31-34'], ['0-0', '38-42']],
            [['37-40', '37-40'], ['0-0', '46-50']],
            [FIRE, FIRE],
        ), is_linked=(2, 'Hangover')),
        Spell('Numbness', [110, 177], Effects(
            [['31-34', '36-40'], ['31-34', '36-40']],
            [['37-41', '43-48'], ['37-41', '43-48']],
            [AIR, AIR],
        ), is_linked=(2, 'Tipple')),
        Spell('Brandy', [45, 112, 179], Effects(
            [['16-18', '22-24', '26-29'],
             ['16-18', '22-24', '26-29'],
             ['16-18', '22-24', '26-29'],
             ['16-18', '22-24', '26-29']],
            [['20-22', '26-28', '31-35'],
             ['20-22', '26-28', '31-35'],
             ['20-22', '26-28', '31-35'],
             ['20-22', '26-28', '31-35']],
            [WATER, WATER, WATER, WATER],
            heals=[True, True, False, False],
        ), is_linked=(1, 'Filthipint')),
        Spell('Liqueur', [135], Effects(
            [['22-25']],
            [['26-30']],
            [AIR],
            steals=[True],
        ), is_linked=(2, 'Pandilongation')),
        Spell('Stretcher', [20, 87, 154], Effects(
            [['18-20', '23-26', '28-32'], ['18-20', '23-26', '28-32']],
            [['21-24', '27-31', '34-38'], ['21-24', '27-31', '34-38']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Alcoshu')),
        Spell('Nausea', [75, 142], Effects(
            [['12-14', '15-17'], ['12-14', '15-17']],
            [['15-17', '18-20'], ['15-17', '18-20']],
            [AIR, AIR],
        ), is_linked=(1, 'Waterfall')),
        Spell('Distillation', [100, 167], Effects(
            [['10-13', '13-16'], ['10-13', '13-16']],
            [['14-17', '17-20'], ['14-17', '17-20']],
            [WATER, WATER],
        ), is_linked=(2, 'Explosive Palm')),
        Spell('Absinthe', [150], Effects(
            [['17-19']],
            [['20-23']],
            [FIRE],
            steals=[True],
        ), is_linked=(2, 'Propulsion')),
        Spell('Filthipint', [155], Effects(
            [['34-38']],
            [['41-46']],
            [EARTH],
            steals=[True],
        ), is_linked=(2, 'Brandy')),
        Spell('Waterfall', [185], Effects(
            [['24-28'], ['24-28'], ['24-28'], ['24-28'], ['24-28'], ['24-28']],
            [['29-34'], ['29-34'], ['29-34'], ['29-34'], ['29-34'], ['29-34']],
            [WATER, WATER, WATER, WATER, WATER, WATER],
            heals=[True, False, True, False, True, False],
        ), is_linked=(2, 'Nausea')),
        Spell('Inebriation', [30, 97, 164], Effects(
            [['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10'],
             ['4-6', '6-8', '8-10'],
             ['50', '50', '50']],
            None,
            [EARTH, FIRE, WATER, AIR, 'buff_pow'],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3]), ('', [4])]),
        Spell('Alcoshu', [130, 197], Effects(
            [['13-15', '15-17']],
            [['16-18', '18-20']],
            [WATER],
            steals=[True],
        ), is_linked=(2, 'Stretcher')),
        Spell('Pandjiu', [190], Effects(
            [['28-32']],
            [['34-38']],
            [FIRE],
        ), is_linked=(2, 'Melancholy')),
        Spell("Pandawa's Hand", [200], Effects(
            [['70-0'],
             ['70-0'],
             ['70-0'],
             ['70-0'],
             ['7-0'],
             ['7-0'],
             ['7-0'],
             ['7-0'],
             ['7-0']],
            [['100-0'],
             ['100-0'],
             ['100-0'],
             ['100-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0'],
             ['10-0']],
            [EARTH, FIRE, WATER, AIR, NEUTRAL, EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]),
 ('', [1]),
 ('', [2]),
 ('', [3]),
 ('', [4]),
 ('', [5]),
 ('', [6]),
 ('', [7]),
 ('', [8])]),
        Spell('Explosive Palm', [1, 67, 133], Effects(
            [['12-14', '15-17', '20-22'], ['12-14', '15-17', '20-22']],
            [['15-17', '19-21', '24-26'], ['15-17', '19-21', '24-26']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Distillation')),
        Spell('Debauchery', [105, 172], Effects(
            [['17-19', '20-22'], ['17-19', '20-22']],
            [['20-22', '24-26'], ['20-22', '24-26']],
            [EARTH, EARTH],
        ), is_linked=(2, 'Schnaps')),
        Spell('Schnaps', [1, 68, 134], Effects(
            [['12-14', '17-19', '21-24'], ['12-14', '17-19', '21-24']],
            [['15-17', '20-23', '25-29'], ['15-17', '20-23', '25-29']],
            [AIR, AIR],
        ), stacks=2, is_linked=(1, 'Debauchery')),
        Spell('Tipple', [1, 69, 136], Effects(
            [['15-17', '20-23', '25-28'], ['15-17', '20-23', '25-28']],
            [['18-20', '24-27', '30-34'], ['18-20', '24-27', '30-34']],
            [WATER, WATER],
        ), is_linked=(1, 'Numbness')),
    ],
    'Rogue': [
        Spell('Extraction', [60, 127, 194], Effects(
            [['16-18', '22-24', '28-30'], ['8-9', '11-12', '14-15']],
            [['20-22', '26-28', '32-36'], ['10-11', '13-14', '16-18']],
            [FIRE, FIRE],
            steals=[True, True],
        ), is_linked=(1, 'Cadence')),
        Spell('Boomerang Daggers', [50, 117, 184], Effects(
            [['12-14', '14-16', '16-18'], ['12-14', '14-16', '16-18']],
            [['15-17', '17-19', '19-21'], ['15-17', '17-19', '19-21']],
            [AIR, AIR],
        ), stacks=2, is_linked=(1, 'Blunderbuss')),
        Spell('Carbine', [15, 82, 149], Effects(
            [['15-17', '20-22', '25-27']],
            [['19-21', '24-26', '30-32']],
            [AIR],
        ), is_linked=(1, 'Obliteration')),
        Spell('Pulsar', [10, 77, 144], Effects(
            [['17-19', '22-24', '27-29']],
            [['20-22', '26-28', '32-35']],
            [FIRE],
        ), is_linked=(1, 'Shrapnel')),
        Spell('Deception', [80, 147], Effects(
            [['27-30', '33-37'], ['27-30', '33-37'], ['27-30', '33-37']],
            [['32-36', '40-44'], ['32-36', '40-44'], ['32-36', '40-44']],
            [WATER, WATER, WATER],
        ), is_linked=(1, 'Arquebus')),
        Spell('Blunderbuss', [160], Effects(
            [['35-39']],
            [['42-47']],
            [WATER],
        ), stacks=2, is_linked=(2, 'Boomerang Daggers')),
        Spell('Obliteration', [125, 192], Effects(
            [['29-32', '33-37'], ['29-32', '33-37'], ['29-32', '33-37']],
            [['35-39', '40-44'], ['35-39', '40-44'], ['35-39', '40-44']],
            [EARTH, EARTH, EARTH],
        ), stacks=5, is_linked=(2, 'Carbine')),
        Spell('Musket', [70, 137], Effects(
            [['15-17', '19-21']],
            [['18-20', '23-25']],
            [EARTH],
        ), is_linked=(1, 'Shot Pellets')),
        Spell('Cadence', [170], Effects(
            [['26-28'], ['26-28'], ['26-28']],
            [['31-34'], ['31-34'], ['31-34']],
            [AIR, AIR, AIR],
        ), stacks=2, is_linked=(2, 'Extraction')),
        Spell('Stolen Goods', [25, 92, 159], Effects(
            [['17-19', '23-25', '28-30']],
            [['21-23', '28-30', '34-36']],
            [WATER],
        ), is_linked=(1, 'Weigh Down')),
        Spell('Sticky Bomb', [185], Effects(
            [['17-19'], ['17-19'], ['17-19'], ['17-19']],
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Arquebus', [190], Effects(
            [['35-39']],
            [['42-47']],
            [EARTH],
        ), is_linked=(2, 'Deception')),
        Spell('Machine Gun', [140], Effects(
            [['34-38']],
            [['41-46']],
            [AIR],
        ), is_linked=(2, 'Bombard')),
        Spell('Weigh Down', [135], Effects(
            [['30-34']],
            [['37-42']],
            [FIRE],
        ), is_linked=(2, 'Stolen Goods')),
        Spell('Shot Pellets', [180], Effects(
            [['30-34'], ['15-17']],
            [['36-40'], ['18-20']],
            [FIRE, FIRE],
            steals=[True, True],
        ), is_linked=(2, 'Musket')),
        Spell('Shrapnel', [120, 187], Effects(
            [['14-16', '17-19'], ['14-16', '17-19'], ['14-16', '17-19']],
            [['17-19', '20-23'], ['17-19', '20-23'], ['17-19', '20-23']],
            [WATER, WATER, WATER],
        ), stacks=2, is_linked=(2, 'Pulsar')),
        Spell('Bombard', [30, 97, 164], Effects(
            [['16-18', '21-23', '26-28']],
            [['19-21', '25-27', '31-34']],
            [EARTH],
        ), is_linked=(1, 'Machine Gun')),
    ],
    'Sacrier': [
        Spell('Light Speed', [130, 197], Effects(
            [['20-23', '22-26']],
            [['24-28', '27-32']],
            [AIR],
        ), is_linked=(2, 'Ravages')),
        Spell('Projection', [150], Effects(
            [['14-17']],
            [['18-21']],
            [WATER],
        ), is_linked=(2, 'Hostility')),
        Spell('Nervousness', [105, 172], Effects(
            [['24-26', '28-31']],
            [['29-32', '34-37']],
            [WATER],
        ), stacks=2, is_linked=(2, 'Torture')),
        Spell('Influx', [145], Effects(
            [['12-15']],
            [['16-19']],
            [EARTH],
        ), is_linked=(2, 'Condensation')),
        Spell('Excruciating Pain', [110, 177], Effects(
            [['21-24', '27-30'], ['45', '60']],
            [['25-29', '32-36'], ['45', '60']],
            [FIRE, 'buff_pow'],
        ), stacks=2, is_linked=(2, 'Stase')),
        Spell('Decimation', [100, 167], Effects(
            [['23-26', '29-32']],
            [['28-31', '35-38']],
            [EARTH],
        ), stacks=2, is_linked=(2, 'Hemorrhage')),
        Spell('Blood Bath', [70, 137], Effects(
            [['21-24', '27-31']],
            [['25-29', '32-37']],
            [EARTH],
            steals=[True],
        ), stacks=4, is_linked=(1, 'Immolation')),
        Spell('Assault', [25, 92, 159], Effects(
            [['9-11', '11-13', '14-17']],
            [['12-14', '14-17', '18-21']],
            [AIR],
        ), is_linked=(1, 'Aversion')),
        Spell('Absorption', [1, 66, 132], Effects(
            [['12-14', '16-19', '20-24']],
            [['15-17', '20-23', '25-29']],
            [FIRE],
            steals=[True],
        ), is_linked=(1, 'Fury')),
        Spell('Mutilation', [10, 77, 144], Effects(
            [['50', '100', '150']],
            None,
            ['buff_pow'],
        )),
        Spell('Transfusion', [50, 117, 184], Effects(
            [['8-0', '9-0', '10-0']],
            None,
            [NEUTRAL],
        )),
        Spell('Bloodthirsty Madness', [200], Effects(
            [['24-28'], ['24-28'], ['24-28'], ['24-28']],
            [['29-34'], ['29-34'], ['29-34'], ['29-34']],
            [EARTH, FIRE, WATER, AIR],
            steals=[True, True, True, True],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], is_linked=(2, 'Retribution')),
        Spell('Retribution', [90, 157], Effects(
            [['25-28', '31-35'],
             ['25-28', '31-35'],
             ['25-28', '31-35'],
             ['25-28', '31-35'],
             ['30-0', '35-0']],
            [['30-34', '37-42'],
             ['30-34', '37-42'],
             ['30-34', '37-42'],
             ['30-34', '37-42'],
             ['30-0', '35-0']],
            [EARTH, FIRE, WATER, AIR, NEUTRAL],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3]), ('', [4])], is_linked=(1, 'Bloodthirsty Madness')),
        Spell('Condensation', [35, 102, 169], Effects(
            [['13-16', '17-20', '21-25']],
            [['17-20', '21-25', '26-31']],
            [WATER],
        ), is_linked=(1, 'Influx')),
        Spell('Ravages', [20, 87, 154], Effects(
            [['17-20', '22-26', '28-32']],
            [['21-24', '27-31', '34-38']],
            [EARTH],
        ), is_linked=(1, 'Light Speed')),
        Spell('Immolation', [180], Effects(
            [['40-44']],
            [['48-53']],
            [FIRE],
        ), is_linked=(2, 'Blood Bath')),
        Spell('Aversion', [135], Effects(
            [['12-15']],
            [['16-19']],
            [FIRE],
        ), is_linked=(2, 'Assault')),
        Spell('Slaughter', [75, 142], Effects(
            [['21-24', '26-30']],
            [['25-29', '31-36']],
            [FIRE],
            steals=[True],
        ), is_linked=(1, 'Gash')),
        Spell('Gash', [185], Effects(
            [['47-51']],
            [['56-61']],
            [EARTH],
        ), is_linked=(2, 'Slaughter')),
        Spell('Carnage', [165], Effects(
            [['44-48']],
            [['53-58']],
            [AIR],
        ), is_linked=(2, 'Dissolution')),
        Spell('Desolation', [60, 127, 194], Effects(
            [['19-22', '23-27', '26-30']],
            [['23-26', '28-32', '31-36']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Clobbering')),
        Spell('Clobbering', [170], Effects(
            [['39-43']],
            [['47-52']],
            [WATER],
        ), is_linked=(2, 'Desolation')),
        Spell('Hostility', [40, 107, 174], Effects(
            [['9-11', '12-14', '15-18']],
            [['12-14', '15-18', '19-23']],
            [FIRE],
        ), is_linked=(1, 'Projection')),
        Spell('Dissolution', [55, 122, 189], Effects(
            [['16-19', '16-19', '16-19'], ['0-0', '21-25', '25-29']],
            [['20-23', '20-23', '20-23'], ['0-0', '26-30', '30-35']],
            [WATER, WATER],
            steals=[True, True],
        ), is_linked=(1, 'Carnage')),
        Spell('Punishment', [190], Effects(
            [['15-0']],
            None,
            [NEUTRAL],
        )),
        Spell('Hemorrhage', [1, 67, 133], Effects(
            [['13-16', '17-20', '22-26']],
            [['17-20', '21-24', '27-31']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Decimation')),
        Spell('Fury', [95, 162], Effects(
            [['25-27', '31-34'], ['2', '3']],
            [['30-33', '37-41'], ['2', '3']],
            [AIR, 'buff_final'],
        ), stacks=2, is_linked=(2, 'Absorption')),
        Spell('Torture', [1, 68, 134], Effects(
            [['13-16', '17-20', '22-26']],
            [['17-20', '21-24', '27-31']],
            [EARTH],
            steals=[True],
        ), is_linked=(1, 'Nervousness')),
        Spell('Stase', [1, 69, 136], Effects(
            [['12-14', '16-19', '20-24']],
            [['15-17', '20-23', '20-23'], ['0-0', '0-0', '25-29']],
            [WATER],
            steals=[True],
        ), is_linked=(1, 'Excruciating Pain')),
    ],
    'Sadida': [
        Spell('Earthquake', [75, 142], Effects(
            [['23-27', '29-33']],
            [['28-32', '35-40']],
            [EARTH],
        ), is_linked=(1, 'Mandrake')),
        Spell('Bramble', [1, 66, 132], Effects(
            [['14-16', '19-21', '24-27'], ['14-16', '19-21', '24-27']],
            [['17-19', '22-25', '29-32'], ['17-19', '22-25', '29-32']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Insolent Bramble')),
        Spell('Ardent Thistles', [170], Effects(
            [['8-0']],
            None,
            [FIRE],
        ), is_linked=(2, 'Voodoo Sacrifice')),
        Spell('Wild Grass', [55, 122, 189], Effects(
            [['20-23', '27-31', '31-35']],
            [['24-27', '32-37', '37-42']],
            [FIRE],
        ), is_linked=(1, 'Voodoo Curse')),
        Spell('Insolent Bramble', [95, 162], Effects(
            [['25-28', '31-35']],
            [['30-34', '37-42']],
            [EARTH],
        ), is_linked=(2, 'Bramble')),
        Spell('Haunted Forest', [150], Effects(
            [['29-32']],
            [['35-38']],
            [EARTH],
        ), is_linked=(2, 'Bane')),
        Spell('Soothing Bramble', [25, 92, 159], Effects(
            [['29-34', '37-43', '46-54'],
             ['29-34', '37-43', '46-54'],
             ['29-34', '37-43', '46-54'],
             ['29-34', '37-43', '46-54']],
            None,
            [EARTH, FIRE, WATER, AIR],
            heals=[True, True, True, True],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Aggressive Bramble', [35, 102, 169], Effects(
            [['24-27', '31-34', '38-42']],
            [['29-32', '37-40', '46-50']],
            [EARTH],
        ), stacks=3, is_linked=(1, 'Charred Charms')),
        Spell('Poisoned Wind', [110, 177], Effects(
            [['11-13', '13-15']],
            None,
            [AIR],
        ), is_linked=(2, 'Hemlock')),
        Spell('Voodoo Sacrifice', [60, 127, 194], Effects(
            [['22-25', '27-30', '30-34'],
             ['26-30', '32-36', '36-41'],
             ['26-30', '32-36', '36-41'],
             ['22-25', '27-30', '30-34'],
             ['22-25', '27-30', '30-34'],
             ['26-30', '32-36', '36-41']],
            [['26-30', '32-36', '36-41'],
             ['31-36', '38-43', '43-49'],
             ['31-36', '38-43', '43-49'],
             ['26-30', '32-36', '36-41'],
             ['26-30', '32-36', '36-41'],
             ['31-36', '38-43', '43-49']],
            [WATER, WATER, WATER, WATER, WATER, WATER],
            heals=[False, False, False, True, False, False],
        ), is_linked=(1, 'Ardent Thistles')),
        Spell('Natural Gift', [85, 152], Effects(
            [['24-28', '30-35'], ['24-28', '30-35'], ['24-28', '30-35'], ['24-28', '30-35']],
            None,
            [EARTH, FIRE, WATER, AIR],
            heals=[True, True, True, True],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Paralysing Sap', [15, 82, 149], Effects(
            [['9-11', '12-14', '15-18']],
            None,
            [FIRE],
        ), is_linked=(1, 'Miasmas')),
        Spell('Mandrake', [185], Effects(
            [['30-34']],
            [['36-41']],
            [AIR],
        ), is_linked=(2, 'Earthquake')),
        Spell('Miasmas', [125, 192], Effects(
            [['10-12', '12-14']],
            None,
            [AIR],
        ), is_linked=(2, 'Paralysing Sap')),
        Spell('Rise of Sap', [100, 167], Effects(
            [['24-27', '30-34']],
            [['29-33', '36-41']],
            [WATER],
            steals=[True],
        ), is_linked=(2, "Sadida's Tear")),
        Spell('Bush Fire', [105, 172], Effects(
            [['26-28', '32-35'], ['13-15', '17-19']],
            [['31-34', '38-42'], ['16-18', '20-23']],
            [FIRE, FIRE],
        ), is_linked=(2, 'Burning Bush')),
        Spell('Inoculation', [80, 147], Effects(
            [['31-35', '39-43'],
             ['34-38', '44-48'],
             ['37-41', '49-53'],
             ['40-44', '54-58'],
             ['43-47', '59-63']],
            [['38-42', '47-52'],
             ['41-45', '52-57'],
             ['44-48', '57-62'],
             ['47-51', '62-67'],
             ['50-54', '67-72']],
            [AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=5, is_linked=(1, 'Force of Nature')),
        Spell('Force of Nature', [190], Effects(
            [['40-45'], ['50-55'], ['60-65'], ['70-75'], ['80-85']],
            [['48-54'], ['58-64'], ['68-74'], ['78-84'], ['88-94']],
            [EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(2, 'Inoculation')),
        Spell('Bane', [40, 107, 174], Effects(
            [['16-18', '21-23', '26-29'], ['16-18', '21-23', '26-29']],
            [['20-22', '25-28', '31-35'], ['20-22', '25-28', '31-35']],
            [WATER, WATER],
            steals=[True, True],
        ), is_linked=(1, 'Haunted Forest')),
        Spell('Contagion', [20, 87, 154], Effects(
            [['22-25', '28-31', '35-39']],
            [['27-30', '34-38', '42-47']],
            [AIR],
        ), is_linked=(1, 'Mangrove')),
        Spell('Voodoo Curse', [165], Effects(
            [['25-28'], ['14-16']],
            None,
            [WATER, WATER],
        ), is_linked=(2, 'Wild Grass')),
        Spell('Charred Charms', [145], Effects(
            [['28-31']],
            [['34-37']],
            [FIRE],
        ), is_linked=(2, 'Aggressive Bramble')),
        Spell('Mangrove', [130, 197], Effects(
            [['29-32', '32-36'], ['29-32', '32-36']],
            [['34-38', '38-43'], ['34-38', '38-43']],
            [WATER, WATER],
            heals=[True, False],
        ), is_linked=(2, 'Contagion')),
        Spell("Sadida's Tear", [1, 67, 133], Effects(
            [['15-17', '20-22', '25-28'], ['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-34'], ['18-20', '23-26', '30-34']],
            [WATER, WATER],
            heals=[True, False],
        ), is_linked=(1, 'Rise of Sap')),
        Spell('Burning Bush', [1, 68, 134], Effects(
            [['15-17', '20-22', '25-28'], ['15-17', '20-22', '25-28']],
            [['18-20', '23-26', '30-34'], ['18-20', '23-26', '30-34']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Bush Fire')),
        Spell('Hemlock', [1, 69, 136], Effects(
            [['15-17', '21-23', '26-29'], ['15-17', '21-23', '26-29']],
            [['19-21', '25-28', '31-35'], ['19-21', '25-28', '31-35']],
            [AIR, AIR],
        ), is_linked=(1, 'Poisoned Wind')),
    ],
    'Sram': [
        Spell('Gangsterdom', [1, 66, 132], Effects(
            [['15-17', '20-23', '26-29'], ['20', '40', '80']],
            [['19-21', '24-27', '31-35'], ['20', '40', '80']],
            [EARTH, 'buff_pow'],
        ), stacks=2, is_linked=(1, 'Pitfall')),
        Spell('Chakra Concentration', [75, 142], Effects(
            [['10-0', '12-0'], ['10-0', '12-0'], ['10-0', '12-0'], ['10-0', '12-0']],
            None,
            [EARTH, FIRE, WATER, AIR],
            steals=[True, True, True, True],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])]),
        Spell('Furrow', [55, 122, 189], Effects(
            [['18-20', '24-27', '27-31'], ['40', '60', '100']],
            [['21-24', '28-32', '32-37'], ['40', '60', '100']],
            [FIRE, 'buff_int'],
            steals=[True, False],
        ), stacks=2, is_linked=(1, 'Toxic Injection')),
        Spell('Mistake', [85, 152], Effects(
            [['27-31', '32-36']],
            [['33-37', '38-43']],
            [AIR],
        ), stacks=2, is_linked=(1, 'Perfidy')),
        Spell('Con', [45, 112, 179], Effects(
            [['16-18', '21-23', '25-28'], ['40', '60', '100']],
            [['19-21', '25-28', '30-34'], ['40', '60', '100']],
            [AIR, 'buff_agi'],
            steals=[True, False],
        ), stacks=2, is_linked=(1, 'Larceny')),
        Spell('Lethal Attack', [160], Effects(
            [['43-48'], ['54-60']],
            [['52-58'], ['65-72']],
            [EARTH, EARTH],
        ), is_linked=(2, 'Raiding')),
        Spell('Jinx', [110, 177], Effects(
            [['29-32', '34-38']],
            [['35-39', '41-46']],
            [WATER],
            steals=[True],
        ), is_linked=(2, 'Cruelty')),
        Spell('Pitfall', [95, 162], Effects(
            [['23-26', '23-26'], ['0-0', '28-32']],
            [['27-31', '27-31'], ['0-0', '34-38']],
            [EARTH, EARTH],
        ), stacks=5, is_linked=(2, 'Gangsterdom')),
        Spell('Toxines', [105, 172], Effects(
            [['5-7', '7-9'],
             ['10-12', '13-15'],
             ['15-17', '19-21'],
             ['20-22', '25-27'],
             ['25-27', '31-33'],
             ['30-32', '37-39']],
            None,
            [AIR, AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4]),
 ('Stack 5', [5])], is_linked=(2, 'Arsenic')),
        Spell('Raiding', [50, 117, 184], Effects(
            [['17-19', '22-25', '26-29'], ['40', '60', '100']],
            [['20-23', '27-30', '31-35'], ['40', '60', '100']],
            [WATER, 'buff_cha'],
            steals=[True, False],
        ), stacks=2, is_linked=(1, 'Lethal Attack')),
        Spell('Cut-Throat', [100, 167], Effects(
            [['30-33', '34-38']],
            [['36-40', '40-44']],
            [FIRE],
        ), is_linked=(2, 'Deviousness')),
        Spell('Plotter', [120, 187], Effects(
            [['26-30', '26-30'], ['26-30', '26-30'], ['26-30', '26-30'], ['26-30', '26-30']],
            None,
            [EARTH, FIRE, WATER, AIR],
        ), aggregates=[('Hit in best element', [0]), ('', [1]), ('', [2]), ('', [3])], stacks=5),
        Spell('Larceny', [155], Effects(
            [['34-38']],
            [['41-46']],
            [WATER],
        ), stacks=2, is_linked=(2, 'Con')),
        Spell('Shakedown', [40, 107, 174], Effects(
            [['17-19', '22-24', '27-30'], ['40', '60', '100']],
            [['20-23', '26-29', '32-36'], ['40', '60', '100']],
            [EARTH, 'buff_str'],
            steals=[True, False],
        ), stacks=2, is_linked=(1, 'Perquisition')),
        Spell('Waylaying', [125, 192], Effects(
            [['19-22', '22-25']],
            [['23-26', '27-30']],
            [WATER],
            steals=[True],
        )),
        Spell('Toxic Injection', [165], Effects(
            [['28-32']],
            [['34-38']],
            [AIR],
        ), stacks=2, is_linked=(2, 'Furrow')),
        Spell('Epidemic', [130, 197], Effects(
            [['32-36', '36-40'], ['32-36', '36-40']],
            None,
            [AIR, AIR],
        )),
        Spell('Misconstrual', [170], Effects(
            [['1-0']],
            None,
            [NEUTRAL],
        )),
        Spell('Perquisition', [150], Effects(
            [['13-15']],
            [['16-18']],
            [FIRE],
        ), is_linked=(2, 'Shakedown')),
        Spell('Perfidy', [195], Effects(
            [['56-60']],
            [['62-66']],
            [EARTH],
        ), stacks=4, is_linked=(2, 'Mistake')),
        Spell('Mortuary Mark', [200], Effects(
            [['1-0']],
            None,
            [NEUTRAL],
        )),
        Spell('Break-In', [135], Effects(
            [['15-17']],
            [['19-21']],
            [FIRE],
        ), stacks=2),
        Spell('Deviousness', [1, 67, 133], Effects(
            [['17-19', '22-24', '28-31']],
            [['20-22', '26-29', '34-37']],
            [FIRE],
        ), is_linked=(1, 'Cut-Throat')),
        Spell('Arsenic', [1, 68, 134], Effects(
            [['9-11', '12-14', '16-18']],
            [['12-14', '15-17', '19-22']],
            [AIR],
        ), is_linked=(1, 'Toxines')),
        Spell('Cruelty', [1, 69, 136], Effects(
            [['13-15', '18-20', '22-25']],
            [['16-18', '21-24', '26-30']],
            [WATER],
        ), is_linked=(1, 'Jinx')),
    ],
    'Xelor': [
        Spell('Slow Down', [35, 102, 169], Effects(
            [['9-11', '12-14', '15-17']],
            [['12-14', '15-17', '18-20']],
            [WATER],
        ), stacks=2, is_linked=(1, "Xelor's Sandglass")),
        Spell('Regulator', [165], Effects(
            [['25-28']],
            [['30-34']],
            [EARTH],
        ), is_linked=(2, 'Refraction')),
        Spell('Dark Ray', [30, 97, 164], Effects(
            [['20-22', '27-30', '31-34'],
             ['26-28', '36-39', '43-46'],
             ['32-34', '45-48', '55-58'],
             ['38-40', '54-57', '67-70'],
             ['44-46', '63-66', '79-82']],
            [['24-27', '32-36', '37-41'],
             ['30-33', '41-45', '49-53'],
             ['36-39', '50-54', '61-65'],
             ['42-45', '59-63', '73-77'],
             ['48-51', '68-72', '85-89']],
            [FIRE, FIRE, FIRE, FIRE, FIRE],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(1, 'Drying Up')),
        Spell('Clock', [50, 117, 184], Effects(
            [['14-16', '19-21', '23-25'],
             ['26-28', '37-39', '47-49'],
             ['38-40', '55-57', '71-73'],
             ['50-52', '73-75', '95-97'],
             ['62-64', '91-93', '119-121']],
            [['17-19', '23-25', '28-30'],
             ['29-31', '41-43', '52-54'],
             ['41-43', '59-61', '76-78'],
             ['53-55', '77-79', '100-102'],
             ['65-67', '95-97', '124-126']],
            [EARTH, EARTH, EARTH, EARTH, EARTH],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], is_linked=(1, 'Water Clock')),
        Spell('Dust', [100, 167], Effects(
            [['23-26', '29-32']],
            [['28-31', '35-38']],
            [FIRE],
        ), is_linked=(2, 'Frostbite')),
        Spell('Dropper', [130, 197], Effects(
            [['16-19', '18-21']],
            [['20-23', '22-25']],
            [WATER],
        ), is_linked=(2, 'Gear')),
        Spell("Xelor's Sandglass", [145], Effects(
            [['10-12'], ['23-25']],
            [['13-15'], ['28-30']],
            [FIRE, FIRE],
        ), is_linked=(2, 'Slow Down')),
        Spell('Cog', [95, 162], Effects(
            [['16-18', '20-22']],
            [['19-21', '24-26']],
            [EARTH],
            steals=[True],
        ), is_linked=(2, 'Disruption')),
        Spell('Drying Up', [140], Effects(
            [['31-34']],
            [['37-41']],
            [AIR],
        ), stacks=3, is_linked=(2, 'Dark Ray')),
        Spell('Permutation', [105, 172], Effects(
            [['17-19', '21-24']],
            [['20-23', '25-29']],
            [WATER],
            steals=[True],
        ), is_linked=(2, 'Souvenir')),
        Spell('Refraction', [55, 122, 189], Effects(
            [['10-12', '13-15', '16-18'], ['10-12', '13-15', '16-18']],
            [['13-15', '16-18', '19-22'], ['13-15', '16-18', '19-22']],
            [FIRE, FIRE],
        ), is_linked=(1, 'Regulator')),
        Spell('Disruption', [1, 66, 132], Effects(
            [['14-16', '18-20', '23-26']],
            [['17-19', '21-24', '28-31']],
            [FIRE],
            steals=[True],
        ), is_linked=(1, 'Cog')),
        Spell('Distortion', [75, 142], Effects(
            [['23-26', '29-32']],
            [['28-31', '35-38']],
            [AIR],
        ), is_linked=(1, 'Sands of Time')),
        Spell('Petrification', [70, 137], Effects(
            [['21-23', '27-30']],
            [['25-28', '32-36']],
            [WATER],
        ), is_linked=(1, 'Harmpit')),
        Spell('Sands of Time', [185], Effects(
            [['33-36']],
            [['40-43']],
            [FIRE],
        ), is_linked=(2, 'Distortion')),
        Spell('Pendulum', [110, 177], Effects(
            [['27-29', '27-29'], ['0-0', '33-36']],
            [['32-35', '32-35'], ['0-0', '40-43']],
            [AIR, AIR],
        ), is_linked=(2, "Xelor's Punch")),
        Spell('Water Clock', [160], Effects(
            [['33-37']],
            [['40-44']],
            [WATER],
        ), is_linked=(2, 'Clock')),
        Spell('Gear', [20, 87, 154], Effects(
            [['14-16', '18-20', '18-20'], ['0-0', '0-0', '22-24']],
            [['17-19', '21-23', '21-23'], ['0-0', '0-0', '26-29']],
            [EARTH, EARTH],
        ), is_linked=(1, 'Dropper')),
        Spell('Knell', [200], Effects(
            [['6-0'], ['6-0'], ['6-0'], ['6-0']],
            [['7-0'], ['7-0'], ['7-0'], ['7-0']],
            [FIRE, WATER, AIR, EARTH],
        ), stacks=6),
        Spell('Harmpit', [180], Effects(
            [['12-14'], ['30-32']],
            [['15-17'], ['36-38']],
            [AIR, AIR],
        ), is_linked=(2, 'Petrification')),
        Spell('Hand', [125, 192], Effects(
            [['6-8', '9-12'], ['6-8', '9-12'], ['6-8', '9-12']],
            [['9-11', '13-16'], ['9-11', '13-16'], ['9-11', '13-16']],
            [EARTH, EARTH, EARTH],
        ), is_linked=(2, 'Shrivelling')),
        Spell('Frostbite', [1, 67, 133], Effects(
            [['6-8', '8-10', '10-12']],
            [['9-11', '11-13', '13-15']],
            [WATER],
        ), is_linked=(1, 'Dust')),
        Spell('Shrivelling', [15, 82, 149], Effects(
            [['16-18', '20-23', '25-28'],
             ['20-22', '25-28', '31-34'],
             ['24-26', '30-33', '37-40'],
             ['28-30', '35-38', '43-46'],
             ['32-34', '40-43', '49-52']],
            [['19-21', '24-27', '30-34'],
             ['23-25', '29-32', '36-40'],
             ['27-29', '34-37', '42-46'],
             ['31-33', '39-42', '48-52'],
             ['35-37', '44-47', '54-58']],
            [AIR, AIR, AIR, AIR, AIR],
        ), aggregates=[('Stack 0', [0]),
 ('Stack 1', [1]),
 ('Stack 2', [2]),
 ('Stack 3', [3]),
 ('Stack 4', [4])], stacks=3, is_linked=(1, 'Hand')),
        Spell('Souvenir', [1, 68, 134], Effects(
            [['6-8', '8-10', '10-12']],
            [['9-11', '11-13', '13-15']],
            [AIR],
            steals=[True],
        ), is_linked=(1, 'Permutation')),
        Spell("Xelor's Punch", [1, 69, 136], Effects(
            [['13-15', '17-20', '22-25']],
            [['16-18', '21-24', '26-30']],
            [EARTH],
        ), is_linked=(1, 'Pendulum')),
    ]
}
# AUTO-GENERATED DAMAGE_SPELLS END
DEFAULT_SOFT_CAPS = {
    'vit': [0, None, 0, 0, 0, 0],
    'wis': [0, 0, 0, None, 0, 0],
    'str': [0, 100, 200, 300, None, 0],
    'int': [0, 100, 200, 300, None, 0],
    'cha': [0, 100, 200, 300, None, 0],
    'agi': [0, 100, 200, 300, None, 0]
}
SOFT_CAPS = {'Cra' : DEFAULT_SOFT_CAPS,
             'Ecaflip' : DEFAULT_SOFT_CAPS,
             'Eniripsa' : DEFAULT_SOFT_CAPS,
             'Enutrof' : DEFAULT_SOFT_CAPS,
             'Feca' : DEFAULT_SOFT_CAPS,
             'Iop' : DEFAULT_SOFT_CAPS,
             'Osamodas' : DEFAULT_SOFT_CAPS,
             'Pandawa' : DEFAULT_SOFT_CAPS,
             'Foggernaut' : DEFAULT_SOFT_CAPS,
             'Rogue' : DEFAULT_SOFT_CAPS,
             'Sacrier' : DEFAULT_SOFT_CAPS,
             'Sadida' : DEFAULT_SOFT_CAPS,
             'Sram' : DEFAULT_SOFT_CAPS,
             'Xelor' : DEFAULT_SOFT_CAPS,
             'Eliotrope' : DEFAULT_SOFT_CAPS,
             'Masqueraider' : DEFAULT_SOFT_CAPS,
             'Huppermage' : DEFAULT_SOFT_CAPS,
             'Ouginak' : DEFAULT_SOFT_CAPS,
             'Forgelance' : DEFAULT_SOFT_CAPS}

ATTRIBUTE_TO_ELEMENT = {
    'int': 'fire',
    'cha': 'water',
    'agi': 'air',
    'str': 'earth'
}

def get_best_element(char_stats):
    best_element = 'str'
    best_element_val = char_stats['str']
    for element in ['int', 'cha', 'agi']:
        if char_stats[element] > best_element_val:
            best_element = element
            best_element_val = char_stats[element]
    return best_element

def get_equiped_weapon(char_stats):
    weapon = None
    for item in char_stats['items']:
        if item.slot == 'weapon':
            weapon = item
            break
    return weapon

def calculate_damage(base_damage, char_stats, critical_hit, is_spell):
    damage_instances = []
    for dam in base_damage:
        if dam.element == 'pushes' or dam.element == 'steals' or dam.element == 'attracts' or dam.element == 'advances': #pushes = pushes cells, steals = steals kamas, attracts = attracts entities, advances = advances entities
            continue
        if dam.element == 'best' or dam.element == 'damage' or dam.element == 'best-element': #best/damage/best-element = damage in best element
            dam.element = get_best_element(char_stats)
            dam.element = ATTRIBUTE_TO_ELEMENT[dam.element]
        element_val = max(char_stats[DAMAGE_TYPE_TO_MAIN_STAT[dam.element]], 0)
        if not dam.heals:
            element_val = element_val + max(char_stats['pow'], 0)
            element_dam = char_stats[dam.element.lower() + "dam"]
            element_dam = element_dam + char_stats['dam']
            if critical_hit:
                element_dam += char_stats['cridam']
        else:
            element_dam = char_stats['heals']
        minimum_damage = (max(int((1 + element_val / 100.0) * dam.min_dam)
                                               + element_dam, 0))
        maximum_damage = (max(int((1 + element_val / 100.0) * dam.max_dam)
                                               + element_dam, 0))
        if is_spell:
            minimum_damage = minimum_damage * (100 + char_stats['perspedam'])/100
            maximum_damage = maximum_damage * (100 + char_stats['perspedam'])/100
        else:
            minimum_damage = minimum_damage * (100 + char_stats['perweadam'])/100
            maximum_damage = maximum_damage * (100 + char_stats['perweadam'])/100
        damage = CalculatedDamage(min_dam=minimum_damage,
                                  max_dam=maximum_damage,
                                  element=dam.element,
                                  steals=dam.steals,
                                  heals=dam.heals)
        
        damage_instances.append(damage)
    return damage_instances

class CalculatedDamage(BaseDamage):
    pass

class BuffEffect(BaseDamage):
    pass